function setWidgetIconColor(){jQuery(".svg-chat-icon.upload-icons").css("background-color",jQuery(".cht-color").val()),jQuery(".svg-chat-icon.upload-icons i").css("color",jQuery(".cht-icon-color").val())}function check_for_number_chaty(t,e){return!(""==t||("+"==t[0]&&(t=t.substr(1,t.length)),"Phone"==e&&"*"==t[0]&&(t=t.substr(1,t.length)),!isNaN(t)))}function setupTextblockEditor(){wp.editor.remove("textblock_editor"),wp.editor.initialize("textblock_editor",{tinymce:{init_instance_callback:function(t){t.on("KeyUp Change",(function(e){var a=t.getContent();change_custom_preview(),setTextblockEditorText(a)}))},menubar:!1,wpautop:!0,branding:!1,plugins:"charmap colorpicker compat3x directionality fullscreen hr image lists media paste tabfocus textcolor wordpress wpautoresize wpdialogs wpeditimage wpemoji wpgallery wplink wptextpattern wpview",toolbar1:"bold, italic, underline, link, numlist bullist, forecolor, fontsizeselect"},quicktags:!0}),jQuery("#wp-textblock_editor-wrap .wp-editor-tabs").hide()}function setPagesField(t,e,a){jQuery("#"+t).select2({tags:!1,multiple:!0,minimumInputLength:2,minimumResultsForSearch:10,placeholder:a,ajax:{url:ajaxurl,dataType:"json",type:"POST",quietMillis:50,data:function(t){return{action:"search_chaty_field",type:e,search:t.term}},processResults:function(t){return t.length?{results:jQuery.map(t,(function(t){return{text:t.title,id:t.id}}))}:{results:jQuery.map(t,(function(t){return{text:"No results are found",id:0,disabled:!0}}))}}}})}jQuery((function(t){"use strict";var e=!1,a=!1,i=!1,o=!1,s=!1,n=!1,c=!1;function l(){if(t(".chaty-popup").hide(),0==t("#cht-form .js-chanel-desktop").length||0==t("#cht-form .js-chanel-mobile").length)return t("#no-device-popup").show(),!1;if(0==t("#cht-form .js-chanel-desktop:checked").length&&0==t("#cht-form .js-chanel-mobile:checked").length)return t("#device-popup").show(),!1;if(t("#channels-selected-list > li .cht-input-error").removeClass("cht-input-error"),t("#channels-selected-list > li.has-agent-view").length){a=0;if(t("#channels-selected-list > li:not(.has-agent-view):not(#chaty-social-close)").find(".channels__input").each((function(){""==jQuery.trim(t(this).val())&&(a++,t(this).addClass("cht-input-error"))})),t("#channels-selected-list > li.has-agent-view").find(".agent-input-value").each((function(){""==jQuery.trim(t(this).val())&&(a++,t(this).addClass("cht-input-error"))})),a==parseInt(t("#channels-selected-list > li:not(.has-agent-view):not(#chaty-social-close)").find(".channels__input").length)+parseInt(t("#channels-selected-list > li.has-agent-view").find(".agent-input-value").length)&&!t("#chaty-social-Contact_Us").length)return t("#no-device-value").show(),!1;var e=0;if(t("#channels-selected-list > li.has-agent-view .chaty-agent-list .chaty-agent-name").each((function(){""==t.trim(t(this).val())&&(e++,t(this).addClass("cht-input-error"))})),e)return t("#agent-value-popup").show(),!1}else{var a=0;if(t("#channels-selected-list > li:not(.has-agent-view):not(#chaty-social-close)").find(".channels__input").each((function(){""==jQuery.trim(t(this).val())&&(a++,t(this).addClass("cht-input-error"))})),a==t("#channels-selected-list > li:not(.has-agent-view):not(#chaty-social-close)").find(".channels__input").length&&!t("#chaty-social-Contact_Us").length)return t("#no-device-value").show(),!1}return r()}function r(){return t(".chaty-popup").hide(),t("#trigger_on_time").is(":checked")||t("#chaty_trigger_on_exit").is(":checked")||t("#chaty_trigger_on_scroll").is(":checked")?d():(t("#trigger-popup").show(),!1)}function d(){return t(".chaty-popup").hide(),t(".cht_active").is(":checked")?(e=!0,t("#cht-form").trigger("submit"),!0):(t("#status-popup").show(),!1)}function p(){if(h=!0,a){if(i){if(o){if(s){if(n)c||(c=!0,t("#channels-selected-list .phone-number").length&&t("#channels-selected-list .phone-number").each((function(){if(""!=jQuery.trim(t(this).val())&&jQuery.trim(t(this).val()).length>13)return t("#custom-message-popup .chaty-popup-header").text(t(this).data("label")+" number is not valid"),t("#custom-message-popup .chaty-popup-body").text("Seems like the "+t(this).data("label")+" number you're trying to enter isn't valid. Would you like to publish it anyway?"),t("#custom-message-popup").show(),!1})));else if(n=!0,t("#cht-form #Viber").length&&""!=t("#cht-form #Viber").val()){e=jQuery.trim(t("#cht-form #Viber").val());if(check_for_number_chaty(e,"Viber"))return t("#custom-message-popup .chaty-popup-header").text("Viber number is not valid"),t("#custom-message-popup .chaty-popup-body").text("Seems like the Viber number you're trying to enter isn't in the right syntax. Would you like to publish it anyway?"),t("#custom-message-popup").show(),!1}}else if(s=!0,t("#cht-form #SMS").length&&""!=t("#cht-form #SMS").val()){e=jQuery.trim(t("#cht-form #SMS").val());if(check_for_number_chaty(e,"SMS"))return t("#custom-message-popup .chaty-popup-header").text("SMS number is not valid"),t("#custom-message-popup .chaty-popup-body").text("Seems like the SMS number you're trying to enter isn't in the right syntax. Would you like to publish it anyway?"),t("#custom-message-popup").show(),!1}}else if(o=!0,t("#cht-form #Facebook_Messenger").length&&""!=t("#cht-form #Facebook_Messenger").val()){var e=jQuery.trim(t("#Facebook_Messenger").val());if(t("#cht-form #Facebook_Messenger").val(e),!/(?:http:\/\/)?facebook\.com\/(?:(?:\w)*#!\/)?(?:pages\/)?(?:[\w\-]*\/)*([\w\-]*)/.test(e)&&!/(?:http:\/\/)?m\.me\/(?:(?:\w)*#!\/)?(?:pages\/)?(?:[\w\-]*\/)*([\w\-]*)/.test(e))return t("#custom-message-popup .chaty-popup-header").text("Facebook page's URL is not valid"),t("#custom-message-popup .chaty-popup-body").text("Please make sure your Facebook page's URL looks like, <br/>https://m.me/YOURPAGE"),t("#custom-message-popup").show(),!1}}else if(i=!0,t("#cht-form #Phone").length&&""!=t("#cht-form #Phone").val()){var e=jQuery.trim(t("#cht-form #Phone").val());if(check_for_number_chaty(e,"Phone"))return t("#custom-message-popup .chaty-popup-header").text("Phone number is not valid"),t("#custom-message-popup .chaty-popup-body").text("Seems like the phone number you're trying to enter isn't in the right syntax. Would you like to publish it anyway?"),t("#custom-message-popup").show(),!1}}else{a=!0;if(t("#cht-form #Whatsapp").length&&""!=t("#cht-form #Whatsapp").val()){var e=jQuery.trim(t("#cht-form #Whatsapp").val());if(check_for_number_chaty(e,"Whatsapp"))return t("#custom-message-popup .chaty-popup-header").text("Whatsapp number is not valid"),t("#custom-message-popup .chaty-popup-body").text("Seems like the WhatsApp number you're trying to enter isn't in the right syntax. Would you like to publish it anyway?"),t("#custom-message-popup").show(),!1}}return l()}t(window).on("load",(function(){setTimeout((()=>{t(".wp-editor-container iframe").contents().find("body").css({backgroundColor:"#fff",margin:0,padding:"0px 10px"})}),500)}));let h=!0;t(document).ready((function(){t(document).on("click",".field-setting-col:not(.hide-label-setting) .field-label",(function(e){e.preventDefault(),t(this).closest(".label-flex").toggleClass("input-active")})),t(document).on("click",".chaty-switch-toggle",(function(){setTimeout((function(){t(".chaty-field-setting").each((function(){t(this).is(":checked")?(t(this).closest(".field-setting-col").find(".field-settings").addClass("active"),t(this).closest(".field-setting-col").removeClass("hide-label-setting")):(t(this).closest(".field-setting-col").find(".field-settings").removeClass("active"),t(this).closest(".field-setting-col").addClass("hide-label-setting"))}))}),100)})),t(document).on("click",".select-cta-fa-icon",(function(e){t("#chat-image-icon").removeClass("active"),t("#chat-fa-icon").addClass("active"),t(".widget-img-tooltip").removeClass("active"),t(".widget-fa-icon-tooltip").addClass("active"),t("input[name='widget_icon'][value='chat-fa-icon']").prop("checked",!0)}));t("#chat-fa-icon .icon-chat").length&&AestheticIconPicker({selector:"#icon-select-chat",onClick:"#select-cta-fa-icon",iconLibrary:{material:{regular:{"list-icon":"","icon-style":"mt-regular",icons:["some","some2"]}}}}),t(document).on("click",".select-cta-image",(function(e){e.preventDefault(),t("#chat-image-icon").addClass("active"),t(".widget-img-tooltip").addClass("active"),t("#chat-fa-icon").removeClass("active"),t(".widget-fa-icon-tooltip").removeClass("active"),t("input[name='widget_icon'][value='chat-image']").prop("checked",!0);var a=wp.media({title:"Select image for channel",multiple:!1,library:{type:"image"}}).open().on("select",(function(e){var i=a.state().get("selection").first();i=i.toJSON(),t("#widget_custom_img").val(i.id),t("#chat-image-icon .svg-chat-icon svg").remove(),t("#chat-image-icon .svg-chat-icon img").remove(),t("#chat-image-icon .svg-chat-icon").append("<img src='"+i.url+"' alt='widget-custom-img' />"),t("#chat-image-icon .svg-chat-icon .custom-img").append("<img src='"+i.url+"' alt='widget-custom-img' />"),t("#chat-image-icon").addClass("has-image"),t(".csaas-widget .csaas-svg img").attr("src",i.url)}))})),t(document).on("click",".more-btn",(function(){t(".cc-bcc-field").hasClass("active")?(t(this).text("CC/BCC"),t(this).append("<i class='fas fa-arrow-down up-down-arrow'></i>"),t(".cc-bcc-field").removeClass("active")):(t(this).text("CC/BCC"),t(this).append("<i class='fas fa-arrow-up up-down-arrow'></i>"),t(".cc-bcc-field").addClass("active"))})),t(document).on("click",".recaptcha-type",(function(){t(".recaptcha-input").removeClass("v2-key v3-key"),"v2"==t(this).val()?t(".recaptcha-input").addClass("v2-key"):t(".recaptcha-input").addClass("v3-key")})),t(document).on("change","input[name='cta_type']:checked",(function(){"simple-view"==t(this).val()?(t("#simple-view").removeClass("hide-it"),t("#chat-view").addClass("hide-it"),t(".chaty-chat-view-option").removeClass("hide-option"),t("#cta-header-color-setting").addClass("hide-it")):(t("#simple-view").addClass("hide-it"),t("#chat-view").removeClass("hide-it"),t(".chaty-chat-view-option").addClass("hide-option"),t("#cta-header-color-setting").removeClass("hide-it")),change_custom_preview()})),t(document).on("click",".add-properties",(function(e){e.preventDefault(),t(this).closest(".properties-box").toggleClass("active")})),t(document).on("click",".properties-list a",(function(e){e.preventDefault();var a=t.trim(t(this).data("txt"));if(t(this).closest(".form-horizontal__item").hasClass("has-iframe")){var i=t(this).closest(".form-horizontal__item").find("iframe");i.contents().find("p").length?i.contents().find("p:last-child").append(" "+a):i.contents().find(".mce-content-body").append(" "+a)}else t(this).closest(".custom-input-tags").length?(a=t.trim(t.trim(t(this).closest(".custom-input-tags").find(".add-custom-tags").val())+" \n"+a),t(this).closest(".custom-input-tags").find(".add-custom-tags").val(a)):t(this).closest(".email-body-content").length?(a=t.trim(t.trim(t(this).closest(".email-body-content").find(".custom-email-body").val())+"\n"+a),t(this).closest(".email-body-content").find(".custom-email-body").val(a)):t(this).closest(".form-horizontal__item").length&&(a=t.trim(t.trim(t(this).closest(".form-horizontal__item").find(".add-properties").val())+" "+a),t(this).closest(".form-horizontal__item").find(".add-properties").val(a));change_custom_preview()})),t(".form-fonts").SumoSelect({placeholder:"Select font family",csvDispCount:3}),t("#chaty_attention_effect, #chaty_default_state").SumoSelect({placeholder:"Select font family",csvDispCount:3}),t(document).on("click","#cta_woocommerce_status",(function(){t(this).is(":checked")?t(".woocommerce-settings").addClass("active"):t(".woocommerce-settings").removeClass("active")}));const u=[];jQuery(".channels-icons > .icon.active").each(((t,e)=>{u.push(e.dataset.social)})),wp.hooks.doAction("chaty.channel_update",{channel:u,target:null,action:"added",isExceeded:!1});t(document).on("change",".chaty-close_form_after-setting",(function(){setTimeout((function(){t(".chaty-close_form_after-setting").each((function(){t(this).is(":checked")?t(this).closest(".form-field-setting-col").find(".close_form_after-settings").addClass("active"):t(this).closest(".form-field-setting-col").find(".close_form_after-settings").removeClass("active")}))}),100)})),t(document).on("change","#save_leads_locally_Contact_Us",(function(){t(this).is(":checked")||t("#custom-leads-popup").show()})),t(document).on("click",".aim-insert-icon-button",(function(t){t.preventDefault()}));var m={material:{regular:{"list-icon":"","icon-style":"mt-regular",icons:["some","some2"]}}};t(".icon-picker-wrap").length&&t(".icon-picker-wrap").each((function(){var e=t(this).data("slug");AestheticIconPicker({selector:"#icon-picker-"+e,onClick:"#select-icon-"+e,iconLibrary:m})})),t(document).on("keyup","#channel_input_Whatsapp",(function(){if(""!=t.trim(t(this).val())){var e=cht_settings.channel_settings.Whatsapp_Country.getSelectedCountryData(),a=t.trim(t(this).val());if("+"!=a[0]&&(a="+"+a,t(this).val(a),t(this).trigger("change")),Reflect.has(e,"dialCode")){var i,o=e.dialCode;if(a.length>o.length+1&&!a.includes("-")&&a.startsWith(`+${o}`))i=(i=a.replace(`+${o}`,"")).replaceAll(" ",""),t(this).val("+"+o+"-"+i);if(a.length>o.length+1&&a.startsWith(`+${o}-`))i=(i=a.replace(`+${o}-`,"")).replaceAll(" ",""),t(this).val("+"+o+"-"+i)}e.dialCode&&(a.length<=e.dialCode.length+1?t(this).closest(".test-btn").find(".wf-test-button").removeClass("active"):t(this).closest(".test-btn").find(".wf-test-button").addClass("active")),a.length>0&&!e.dialCode&&t(this).closest(".test-btn").find(".wf-test-button").removeClass("active"),"+"==a[0]&&1==t(this).val().length&&(t(this).closest(".channels__input-box").find(".iti__selected-flag").find(".iti__flag").attr("class","iti__flag"),t(this).closest(".channels__input-box").find(".iti__selected-flag").attr("title",""))}else""==t.trim(t(this).val())&&(t(this).closest(".channels__input-box").find(".iti__selected-flag").find(".iti__flag").attr("class","iti__flag"),t(this).closest(".channels__input-box").find(".iti__selected-flag").attr("title",""))})),t(document).on("keyup",".custom-agent-channel-Whatsapp",(function(){if(""!=t.trim(t(this).val())){var e=t(this).data("id"),a=cht_settings.channel_settings["Whatsapp_agent_Country_"+e].getSelectedCountryData(),i=t.trim(t(this).val());if("+"!=i[0]&&(i="+"+i,t(this).val(i),t(this).trigger("change")),Reflect.has(a,"dialCode")){var o,s=a.dialCode;if(i.length>s.length+1&&!i.includes("-")&&i.startsWith(`+${s}`))o=(o=i.replace(`+${s}`,"")).replaceAll(" ",""),t(this).val("+"+s+"-"+o);if(i.length>s.length+1&&i.startsWith(`+${s}-`))o=(o=i.replace(`+${s}-`,"")).replaceAll(" ",""),t(this).val("+"+s+"-"+o)}a.dialCode&&(i.length<=a.dialCode.length+1?t(this).closest(".agent-Whatsapp-btn").find(".wf-test-button").removeClass("active"):t(this).closest(".agent-Whatsapp-btn").find(".wf-test-button").addClass("active")),i.length>0&&!a.dialCode&&t(this).closest(".agent-Whatsapp-btn").find(".wf-test-button").removeClass("active"),"+"==i[0]&&1==t(this).val().length&&(t(this).closest(".agent-channel-input").find(".iti__selected-flag").find(".iti__flag").attr("class","iti__flag"),t(this).closest(".agent-channel-input").find(".iti__selected-flag").attr("title",""))}else""==t.trim(t(this).val())&&(t(this).closest(".agent-channel-input").find(".iti__selected-flag").find(".iti__flag").attr("class","iti__flag"),t(this).closest(".agent-channel-input").find(".iti__selected-flag").attr("title",""))})),t(document).on("change",".chaty-redirect-setting",(function(){setTimeout((function(){t(".chaty-redirect-setting").each((function(){t(this).is(":checked")?t(this).closest(".form-field-setting-col").find(".redirect_action-settings").addClass("active"):t(this).closest(".form-field-setting-col").find(".redirect_action-settings").removeClass("active")}))}),100)})),t(document).on("click",".email-setting",(function(){setTimeout((function(){t(".email-setting-field").each((function(){t(this).is(":checked")?t(this).closest(".form-field-setting-col").find(".email-settings").addClass("active"):t(this).closest(".form-field-setting-col").find(".email-settings").removeClass("active")}))}),100)})),t(document).on("click",".captcha-setting-field",(function(){t(this).is(":checked")?t(this).closest(".form-field-setting-col").find(".captcha-settings").addClass("active"):t(this).closest(".form-field-setting-col").find(".captcha-settings").removeClass("active")})),t(document).on("click",".email-content-switch",(function(e){t(this).is(":checked")?t(".email-body-content").addClass("active"):t(".email-body-content").removeClass("active")})),setTimeout((()=>{t(".whatsapp-welcome-message iframe").contents().find("body").css({backgroundColor:"#fff",margin:0,padding:"8px 10px"})}),100),t(document).on("click",".chaty-embedded-window",(function(){setTimeout((function(){t(".embedded_window-checkbox").each((function(){if(t(this).is(":checked")){t(this).closest("li.chaty-channel").find(".whatsapp-welcome-message").addClass("active");const i=t(this).closest("li.chaty-channel").find(".whatsapp-welcome-message iframe");i.contents().find("body").css({backgroundColor:"#fff",margin:0,padding:"8px 10px"}),i.contents().find("head").append("<style>p {margin:0; padding:0}</style>");var e=t(".csaas-widget").find(".csaas-cta-close").find("button").html();t("#"+(a="csaas-form-0-Whatsapp")).addClass("is-active"),t(".csaas-widget").removeClass("csaas-open"),t(".csaas").addClass("form-open"),t("#"+a).addClass("active"),t(".csaas-widget").find(".open-csaas-channel").html(e)}else{var a;t(this).closest("li.chaty-channel").find(".whatsapp-welcome-message").removeClass("active"),t("#"+(a="csaas-form-0-Whatsapp")).removeClass("is-active"),t(".csaas-widget").addClass("csaas-open"),t(".csaas").removeClass("form-open"),t("#"+a).removeClass("active")}}))}),300)})),t(document).on("change","#cht-form input",(function(){a=!1,i=!1,o=!1,s=!1,n=!1,c=!1})),t(document).on("click",".remove-js-script",(function(e){e.preventDefault(),t(this).closest(".channels__input-box").find("input").val(""),t(this).closest(".channels__input-box").find("input").removeClass("cht-input-error").removeClass("cht-js-error"),t(this).closest(".channels__input-box").find(".cht-error-message").remove(),t(this).remove()})),t("#cht-form").on("submit",(function(){if(e)return!0;set_social_channel_order(),save_contact_form_field_order(),t("#chaty-page-options .cht-required").removeClass("cht-input-error"),t(".chaty-data-and-time-rules .cht-required").removeClass("cht-input-error"),t(this).find(".cht-error-message").remove(),t(this).find(".remove-js-script").remove();var a=0;return t("#chaty-page-options .cht-required").length&&t("#chaty-page-options .cht-required").each((function(){""==jQuery.trim(t(this).val())&&(t(this).addClass("cht-input-error"),a++)})),t(".chaty-data-and-time-rules .cht-required").length&&t(".chaty-data-and-time-rules .cht-required").each((function(){""==jQuery.trim(t(this).val())&&(t(this).addClass("cht-input-error"),a++)})),cht_nonce_ajax.has_js_access||t("#channels-selected-list .channels__input").each((function(){""!=t.trim(t(this).val())&&-1!=t.trim(t(this).val()).toLowerCase().indexOf("javascript")&&(t("body, html").scrollTop(0),t("#chaty-social-channel").trigger("click"),t(this).addClass("cht-input-error cht-js-error"),t(this).after("<span class='cht-error-message'>"+cht_nonce_ajax.js_message+"</span><a href='#' class='remove-js-script'>"+cht_nonce_ajax.remove+"</a>"),a++)})),0==a?function(){if(h)return p();if(t(".phone-number-list").html(""),t(".custom-channel-Whatsapp").length)if(t("#whatsapp-message-popup").removeClass("has-multiple"),t("#Whatsapp_agent").length&&1==t("#Whatsapp_agent").val()){let e=0;if(t("#agent-list-Whatsapp .custom-agent-channel-Whatsapp").length&&t("#agent-list-Whatsapp .custom-agent-channel-Whatsapp").each((function(){if(""!=t(this).val()&&-1!=t(this).val().indexOf("-0")){e++;let a=t(this).closest(".agent-channel-setting").data("item"),i=t(".phone-number-list").data("label"),o=t(".phone-number-list").data("action"),s=t(".phone-number-list").data("test"),n=`<a class="whatsapp-test-btn" target="_blank" href='${"https://wa.me/"+t.trim(t(this).val()).replace(/[^a-zA-Z0-9 ]/g,"").toHtmlEntities()}'>${s}</a>`,c=`<a data-index="${a}" class="remove-zero" href='javascript:;'>${o}</a>`,l=`<div data-index="${a}" class='number-list'>${i}: <b>${t(this).val().toHtmlEntities()}</b> ${n} ${c}</div>`;t(".phone-number-list").append(l)}})),e)return t("#whatsapp-message-popup").show(),t("#whatsapp-message-popup .number-list").length>1&&t("#whatsapp-message-popup").addClass("has-multiple"),!1}else if(""!=t("#channel_input_Whatsapp").val()&&-1!=t("#channel_input_Whatsapp").val().indexOf("-0")){let e=t("#channel_input_Whatsapp").val(),a=`<div class='number-list is-not-agent'>${t(".phone-number-list").data("label")}: <b>${e}</b> <a class="whatsapp-test-btn" target="_blank" href='${"https://wa.me/"+t.trim(e).replace(/[^a-zA-Z0-9 ]/g,"").toHtmlEntities()}'>Test</a></div>`;return t(".phone-number-list").html(a),t("#whatsapp-message-popup").show(),!1}return p()}():(t(".cht-input-error:first").focus(),!1)})),t(".close-chaty-popup-btn").on("click",(function(e){e.stopPropagation(),t(".chaty-popup").hide(),t(this).hasClass("keep-leads-in-db")?(t("#save_leads_locally_Contact_Us").prop("checked",!0),t("#custom-leads-popup").hide()):t(this).hasClass("channel-setting-btn")||t(this).hasClass("channel-setting-step-btn")?(t("#chaty-social-channel, #chaty-app-customize-widget, #chaty-triger-targeting").removeClass("completed"),t("#chaty-social-channel, #chaty-app-customize-widget, #chaty-triger-targeting").removeClass("active"),t("#chaty-social-channel").addClass("active"),t(".social-channel-tabs").removeClass("active"),t("#chaty-tab-social-channel").addClass("active"),t("body, html").animate({scrollTop:t("#channel-list").offset().top-125},250)):t(this).hasClass("select-trigger-btn")?(t("#chaty-triger-targeting").removeClass("completed"),t("#chaty-social-channel, #chaty-app-customize-widget, #chaty-triger-targeting").removeClass("active"),t("#chaty-triger-targeting").addClass("active"),t("#chaty-social-channel, #chaty-app-customize-widget").addClass("completed"),t(".social-channel-tabs").removeClass("active"),t("#chaty-tab-triger-targeting").addClass("active"),t("body, html").animate({scrollTop:t("#trigger-setting").offset().top-50},250)):t(this).hasClass("next-step-btn")&&(t(".chaty-popup").hide(),t("#chaty-app-customize-widget, #chaty-triger-targeting").removeClass("completed"),t("#chaty-social-channel, #chaty-app-customize-widget, #chaty-triger-targeting").removeClass("active"),t("#chaty-app-customize-widget").addClass("active"),t("#chaty-social-channel").addClass("completed"),t(".social-channel-tabs").removeClass("active"),t("#chaty-tab-customize-widget").addClass("active"))})),t(document).on("click",".remove-zero",(function(e){e.stopPropagation(),e.preventDefault();let a=t(this).data("index");if(t("#cht_social_agent_Whatsapp_"+a).length){let e=t("#cht_social_agent_Whatsapp_"+a).val();e=e.replace(/-0+/,"-"),t("#cht_social_agent_Whatsapp_"+a).val(e),t(this).closest(".number-list").remove()}t("#whatsapp-message-popup .number-list").length>1?t("#whatsapp-message-popup").addClass("has-multiple"):t("#whatsapp-message-popup").removeClass("has-multiple")})),t(document).on("click",".remove-zero-btn",(function(){if(t(".phone-number-list .number-list").hasClass("is-not-agent")){let e=t("#channel_input_Whatsapp").val();e=e.replace(/-0+/,"-"),t("#channel_input_Whatsapp").val(e)}else{let e=t(".phone-number-list .number-list").data("index");if(t("#cht_social_agent_Whatsapp_"+e).length){let a=t("#cht_social_agent_Whatsapp_"+e).val();a=a.replace(/-0+/,"-"),t("#cht_social_agent_Whatsapp_"+e).val(a)}}t(".chaty-popup").hide(),h=!0,p()})),t(document).on("change",".custom-agent-channel-Whatsapp, .custom-channel-Whatsapp, #channel_input_Whatsapp",(function(){h=!1})),t(".chaty-popup-outer").on("click",(function(e){t(".chaty-popup").hide()})),t(".check-for-numbers").on("click",(function(){p()})),t(".check-for-device").on("click",(function(){l()})),t(".check-for-triggers").on("click",(function(){r()})),t(".fill-agent-value").on("click",(function(){t("#channels-selected-list > li.has-agent-view .chaty-agent-list .chaty-agent-name").removeClass("empty-agent"),t("#channels-selected-list > li.has-agent-view .chaty-agent-list .chaty-agent-name").each((function(){""==t.trim(t(this).val())&&t(this).addClass("empty-agent")})),t("#chaty-social-channel, #chaty-app-customize-widget, #chaty-triger-targeting").removeClass("active"),t("#chaty-social-channel, #chaty-app-customize-widget, #chaty-triger-targeting").removeClass("completed"),t("#chaty-social-channel").addClass("active"),t(".social-channel-tabs").removeClass("active"),t("#chaty-tab-social-channel").addClass("active"),t("#channels-selected-list > li.has-agent-view .chaty-agent-list .chaty-agent-name.empty-agent:first").focus()})),t(".check-for-status").on("click",(function(){d()})),t(".change-status-and-save").on("click",(function(){t(".cht_active").prop("checked",!0),e=!0,t(".chaty-popup").hide(),t("#cht-form").trigger("submit")})),t(".status-and-save").on("click",(function(){t(".cht_active").prop("checked",!1),e=!0,t(".chaty-popup").hide(),t("#cht-form").trigger("submit")})),t(document).on("click",".preview-section-chaty",(function(t){t.stopPropagation()})),t(document).on("change",".cht-color",(function(){setWidgetIconColor()})),setWidgetIconColor(),t(document).on("click","#send_leads_mailchimp",(function(){t(this).is(":checked")?t(this).closest(".form-field-setting-col").find(".mailchimp-settings").addClass("active"):t(this).closest(".form-field-setting-col").find(".mailchimp-settings").removeClass("active")})),t(document).on("click","#send_leads_mailchimp.has-mailchimp-integration",(function(){t(this).prop("checked",!1),window.location=cht_settings.integration_url})),t(document).on("change","#mailchimp-enable-tag",(function(e){!0===t(this).prop("checked")?t(".chaty-mailchimp-tags-info").show():t(".chaty-mailchimp-tags-info").hide()})),t(document).on("change","#mailchimp-enable-group",(function(e){!0===t(this).prop("checked")?t(".mailchimp-group-info").show():t(".mailchimp-group-info").hide()})),t(document).on("change","#chaty_mailchimp_lists",(function(e){var a=t("#widget_index").val();void 0===a&&(a=""),t(".chaty-mailchimp-groups ").show(),t(".chaty-mailchimp-field-lists").find(".chaty-setting-col").length>1&&t(".chaty-mailchimp-field-mapping").show();var i=t(this).val();jQuery.ajax({url:ajaxurl,type:"post",data:"action=chaty-mailchimp-group&widget_no="+a+"&list_id="+t(this).val()+"&wpnonce="+cht_settings.ajax_nonce,success:function(e){t(".chaty-mailchimp-groups #mailchimp-group").html(e)}}),jQuery.ajax({url:ajaxurl,type:"post",data:"action=chaty-mailchimp-field&widget_no="+a+"&list_id="+t(this).val()+"&wpnonce="+cht_settings.ajax_nonce,success:function(e){""!=(e=t.parseJSON(e)).mapping_field?(t(".chaty-mailchimp-field-mapping").show(),t(".chaty-mailchimp-field-lists").html(e.mapping_field)):t(".chaty-mailchimp-field-lists").find(".chaty-setting-col").length>=1&&""!=i?(t(".chaty-mailchimp-field-lists .chaty-setting-col").each((function(){""==t(this).find("select").html()&&t(this).find("select").html(e.mapping_option)})),t(".chaty-mailchimp-field-mapping").show()):t(".chaty-mailchimp-field-mapping").hide()}})})),t(document).on("click","#send_leads_klaviyo",(function(){t(this).is(":checked")?t(this).closest(".form-field-setting-col").find(".klaviyo-settings").addClass("active"):t(this).closest(".form-field-setting-col").find(".klaviyo-settings").removeClass("active")})),t(document).on("click","#send_leads_klaviyo.has-klaviyo-integration",(function(){t(this).prop("checked",!1),window.location=cht_settings.integration_url}))}))})),function(t){var e=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|ipad|iris|kindle|Android|Silk|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(navigator.userAgent)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(navigator.userAgent.substr(0,4))?1:0;function a(){t(document).on("click",".delete-dropdown-option",(function(e){t(this).closest("div").remove()})),t(".delete-dropdown-option").on("click",(function(){t(this).closest("div").remove()}))}function i(){t(document).on("click",".whatsapp-delete-dropdown-option",(function(e){t(this).closest("div").remove()})),t(".whatsapp-delete-dropdown-option").click((function(e){t(this).closest("div").remove()}))}jQuery(window).on("popstate",(function(t){window.onbeforeunload=null,window.history&&window.history.pushState&&window.history.back()})),jQuery(document).ready((function(){t(".chaty-table").length||t("body input, body .icon, body textarea, body .btn-cancel:not(.close-btn-set) ").on("click",(function(t){window.onbeforeunload=function(t){(t=t||window.event).preventDefault=!0,t.cancelBubble=!0,t.returnValue="Your beautiful goodbye message"}})),t(".country-list").length&&t(".country-list").SumoSelect({placeholder:"Select country",search:!0,selectAll:!0,clearAll:!0}),t(document).on("submit","form",(function(t){window.onbeforeunload=null})),t(document).on("change",".channel-select-input",(function(e){var a=t(this).closest("li").attr("data-id");jQuery.ajax({type:"POST",url:ajaxurl,dataType:"json",data:{social:t(this).val(),channel:a,action:"get_chaty_settings"},success:function(e){1==e.status&&("Whatsapp"==e.data.slug?t("#channel_input_"+e.channel).length&&(cht_settings.channel_settings[e.channel]=document.querySelector("#channel_input_"+e.channel),window.intlTelInput(cht_settings.channel_settings[e.channel],{dropdownContainer:document.body,formatOnDisplay:!0,hiddenInput:"full_number",initialCountry:"auto",nationalMode:!1,utilsScript:cht_settings.plugin_url+"admin/assets/js/utils.js"})):t("#chaty-social-"+e.channel+" .channels__input-box").html("<input type='text' class='channels__input' name='cht_social_"+e.channel+"[value]' id='channel_input_"+e.channel+"' />"),t(".custom-icon-"+e.channel+" svg").html(e.data.svg),t("#chaty-social-"+e.channel).attr("data-channel",e.data.slug),t("#chaty-social-"+e.channel).find(".sp-preview-inner").css("background-color",e.data.color),t("#chaty-social-"+e.channel).find(".chaty-color-field").val(e.data.color),t("#chaty-social-"+e.channel).find(".channels__input").attr("placeholder",e.data.placeholder),t("#chaty-social-"+e.channel).find(".channel-example").text(e.data.example),t("#chaty-social-"+e.channel).find(".chaty-title").val(e.data.title),t("#chaty-social-"+e.channel).find(".icon").attr("data-title",e.data.title),t("#chaty-social-"+e.channel).find(".chaty-color-field").trigger("change"),t(".help-section").html(""),""!=e.data.help_link?t(".help-section").html('<div class="viber-help"><a target="_blank" href="'+e.data.help_link+'">'+e.data.help_title+"</a></div>"):""!=e.data.help_text&&t(".help-section").html('<div class="viber-help"><span class="help-text">'+e.data.help_text+'</span><span class="help-title">'+e.data.help_title+"</span></div>"))}})})),t(document).on("blur","#channels-selected-list > li:not(#chaty-social-close) .channels__input",(function(){t(this).hasClass("border-red")&&""!=t(this).val()&&t(this).removeClass("border-red")}));var o=1000000003;t(".show_up").on("click",(function(){o+=10,t("#upgrade-modal").css({"z-index":o,display:"block","margin-left":"-258px"})})),t(".color-picker-btn, .color-picker-btn-close, .color-picker-custom button").on("click",(function(e){e.preventDefault(),t(".color-picker-box").toggle(),t(".color-picker-btn").toggle()})),t(document).on("change",'input[name="cht_color"]:checked',(function(){var e=t(this),a=e.val(),i=e.prop("title");t(".color-picker-btn .circle").css({backgroundColor:a}),t(".color-picker-btn .text").text(i),t("#chaty-social-close ellipse").attr("fill",a),t(".preview .page #iconWidget svg circle").css({fill:a}),t(".preview .page .chaty-close-icon ellipse").css({fill:a}),t("#cht_custom_color").val(t(this).val()),t(".upload-icons").css("background-color",t(this).val())})),t(document).on("click",".color-field",(function(){t(this).is(":checked")&&t(this).spectrum("show")}));var s=t(".channels-icons > .icon-sm");t(".social-inputs");s.on("click",(function(){t("#popover").removeClass("shake-it");var e=t(this),a=e.data("social");if(e.hasClass("active")){icon=t(this).data("social"),t("#channels-selected-list #chaty-social-"+icon).remove(),e.toggleClass("active"),change_custom_preview();const i=[];return t(".channels-icons > .icon.active").each(((t,e)=>{i.push(e.dataset.social)})),void wp.hooks.doAction("chaty.channel_update",{channel:i,target:a,action:"removed",isExceeded:!1})}if(s.addClass("disabled"),icon=t(this).data("social"),e.toggleClass("active"),t("section").is("#pro"))var i="pro";else i="free";t.ajax({type:"POST",dataType:"json",url:ajaxurl,data:{action:"choose_social",social:a,nonce_code:cht_nonce_ajax.cht_nonce,version:i,widget_index:t("#widget_index").val()},beforeSend:function(t){},success:function(e){var i=t(e),o=i.find(".icon").data("title");i.data("channel");s.removeClass("disabled"),t('.channels-selected div[data-social="'+o+'"]').length||(t("#chaty-social-close").before(i),t("#chaty-social-"+a+" .chaty-whatsapp-setting-textarea").length&&(editorId=t("#chaty-social-"+a+" .chaty-whatsapp-setting-textarea").attr("id"),tinymce.init({selector:t("#chaty-social-"+a+" .chaty-whatsapp-setting-textarea").attr("id"),toolbar:"bold, italic, underline | emoji",menubar:!1,branding:!1,setup:function(t){"textblock_editor"!=t.id&&"custom_textblock"!=t.id&&t.addButton("emoji",{image:cht_settings.icon_img,onclick:function(){const{createPopup:t}=window.picmoPopup,e=jQuery(".mce-emoji-custom-icon button").attr("id"),a=document.querySelector("#"+e),i=t({},{referenceElement:a,triggerElement:a,position:"right-start",hideOnEmojiSelect:!1});i.toggle(),i.addEventListener("emoji:select",(t=>{let e=tinyMCE.get(editorId);e.selection.getNode()&&e.selection.getNode()!==e.getBody()||(e.focus(),e.selection.select(e.getBody(),!0),e.selection.collapse(!1)),tinymce.activeEditor.execCommand("mceInsertContent",!1,t.emoji),change_custom_preview(),setWhatsAppPopupContent(e.getContent())}))},classes:"emoji-custom-icon"}),t.on("keyup",(function(e){change_custom_preview(),setWhatsAppPopupContent(t.getContent())}))}}),tinymce.execCommand("mceAddEditor",!0,editorId))),jQuery("#chaty-social-Contact_Us .chaty-default-settings .form-field-setting-col").sortable({placeholder:"sort-contact-form-field-placeholder",handle:".sort-contact-form-field",start:function(){},stop:function(){},update:function(t,e){change_custom_preview(),save_contact_form_field_order()}});var n={material:{regular:{"list-icon":"","icon-style":"mt-regular",icons:["some","some2"]}}};if(t("#icon-picker-"+a).length&&t("#select-icon-"+a).length&&AestheticIconPicker({selector:"#icon-picker-"+a,onClick:"#select-icon-"+a,iconLibrary:n}),t("#icon-picker-agent-"+a).length&&t("#select-icon-agent-"+a).length&&AestheticIconPicker({selector:"#icon-picker-agent-"+a,onClick:"#select-icon-agent-"+a,iconLibrary:n}),t("#chaty-social-"+a+" .agent-list li.agent-info .icon-picker-wrap").length&&t("#chaty-social-"+a+" .agent-list li.agent-info .icon-picker-wrap").each((function(){var e=t(this).data("slug");t("#icon-picker-"+e).length&&t("#select-icon-"+e).length&&AestheticIconPicker({selector:"#icon-picker-"+e,onClick:"#select-icon-"+e,iconLibrary:n})})),t("#channel_input_Whatsapp").length){cht_settings.channel_settings.Whatsapp=document.querySelector("#channel_input_Whatsapp"),cht_settings.channel_settings.Whatsapp_Country=window.intlTelInput(cht_settings.channel_settings.Whatsapp,{formatOnDisplay:!1,hiddenInput:"full_number",initialCountry:"auto",nationalMode:!1,autoHideDialCode:!1,utilsScript:cht_settings.plugin_url+"admin/assets/js/utils.js"});var c=getUserCountry();"-"!=c&&""==t("#channel_input_Whatsapp").val()?setTimeout((function(){cht_settings.channel_settings.Whatsapp_Country.setCountry(c),t("#channel_input_Whatsapp").closest(".channels__input-box").find(".iti__selected-flag").find(".iti__flag").addClass("iti__"+c),t("#channel_input_Whatsapp").trigger("keyup")}),200):""!=t("#channel_input_Whatsapp").val()&&setTimeout((function(){t("#channel_input_Whatsapp").trigger("keyup")}),200)}t(".custom-agent-channel-Whatsapp").length&&t(".custom-agent-channel-Whatsapp").each((function(){let e=t(this).data("id");cht_settings.channel_settings["Whatsapp_agent_"+e]=document.querySelector("#cht_social_agent_Whatsapp_"+e),cht_settings.channel_settings["Whatsapp_agent_Country_"+e]=window.intlTelInput(cht_settings.channel_settings["Whatsapp_agent_"+e],{formatOnDisplay:!1,hiddenInput:"full_number",initialCountry:"auto",nationalMode:!1,autoHideDialCode:!1,utilsScript:cht_settings.plugin_url+"admin/assets/js/utils.js"});var a=getUserCountry();"-"!=a&&""==t("#cht_social_agent_Whatsapp_"+e).val()?setTimeout((function(){cht_settings.channel_settings["Whatsapp_agent_Country_"+e].setCountry(a),t(".custom-agent-channel-Whatsapp").trigger("keyup")}),200):""!=t("#cht_social_agent_Whatsapp_"+e).val()&&setTimeout((function(){t(".custom-agent-channel-Whatsapp").trigger("keyup")}),200)})),change_custom_preview(),t(document).trigger("chatyColorPicker/trigger",[{$scope:t(`#chaty-social-${a}`),element:".chaty-color-field"}]);const l=[];t(".channels-icons > .icon.active").each(((t,e)=>{l.push(e.dataset.social)})),wp.hooks.doAction("chaty.channel_update",{channel:l,target:a,action:"added",isExceeded:!1})},error:function(t,e,a){}})})),t(".btn-help").on("click",(function(t){window.open("https://premio.io/help/chaty/","_blank")})),t("#cht_color_custom").length&&t("#cht_color_custom").spectrum({chooseText:"Submit",preferredFormat:"hex3",cancelText:"Cancel",showInput:!0,showAlpha:!0,move:function(e){t(this).val(e.toRgbString()),t("#chaty-social-close ellipse").attr("fill",e.toRgbString()),t(".preview .page #iconWidget svg circle, .chaty-close-icon svg ellipse").css({fill:e.toRgbString()}),t("#cht_custom_color").val(e.toRgbString())},change:function(e){t(this).val(e.toRgbString()),t("#chaty-social-close ellipse").attr("fill",e.toRgbString()),t(".preview .page #iconWidget svg circle, .chaty-close-icon svg ellipse").css({fill:e.toRgbString()}),t("#cht_custom_color").val(e.toRgbString())}}),t("#analytics_date").length&&t("#analytics_date").datepicker(),t(".select2-box").length&&t("#cht_date_rules_time_zone").SumoSelect({search:!0}),t("#chaty-page-options .page-option-list").length&&t("#chaty-page-options .page-option-list").SumoSelect({search:!1}),t("#chaty-page-options .url-option-list").length&&t("#chaty-page-options .url-option-list").SumoSelect({search:!1}),t("#chaty-page-options .pages-options").length&&t("#chaty-page-options .pages-options").each((function(){setPagesField(t(this).attr("id"),"pages","Select Pages")})),t("#chaty-page-options .posts-options").length&&t("#chaty-page-options .posts-options").each((function(){setPagesField(t(this).attr("id"),"posts","Select Posts")})),t("#chaty-page-options .wp_categories-options").length&&t("#chaty-page-options .wp_categories-options").each((function(){setPagesField(t(this).attr("id"),"categories","Select Categories")})),t("#chaty-page-options .wp_tags-options").length&&t("#chaty-page-options .wp_tags-options").each((function(){setPagesField(t(this).attr("id"),"tags","Select Tags")})),t("#chaty-page-options .wc_products-options").length&&t("#chaty-page-options .wc_products-options").each((function(){setPagesField(t(this).attr("id"),"products","Select Products")})),t("#chaty-page-options .wc_products_on_sale-options").length&&t("#chaty-page-options .wc_products_on_sale-options").each((function(){setPagesField(t(this).attr("id"),"sale_products","Select Products")})),t(document).on("click",".remove-chaty-options",(function(e){e.preventDefault(),e.stopPropagation(),confirm("Are you sure you want to delete this widget?")&&t.ajax({type:"POST",url:ajaxurl,data:{action:"remove_chaty_widget",widget_nonce:t(this).data("nonce"),widget_index:t("#widget_index").val()},beforeSend:function(t){},success:function(t){window.location=t},error:function(t,e,a){}})}));window.location.href;window.location.href.indexOf("page=chaty-app&widget=")>-1&&t("#toplevel_page_chaty-app .wp-submenu.wp-submenu-wrap li").each((function(){var e=t(this).find("a").attr("href");void 0!==e&&(t(this).removeClass("current"),window.location.href.indexOf(e)>-1&&e.indexOf("&widget=")>-1&&t(this).addClass("current"))})),jQuery(document).on("click",".wf-test-button",(function(){var a=jQuery(this).data("slug");jQuery("#"+a+"_popup").addClass("active");var i="",o="";if(o=t(this).closest(".test-btn").hasClass("agent-"+a+"-btn")?t(this).closest(".agent-"+a+"-btn").find("input").val():t(".custom-channel-"+a).val(),"Whatsapp"==a){var s=o.replaceAll("+","").replaceAll(" ","").replaceAll("-","");i=e?"https://wa.me/"+s:"https://web.whatsapp.com/send?phone="+s,t("#"+a+"_popup").find(".phone-value").text(o)}"Facebook_Messenger"==a&&(i=o,t("#"+a+"_popup").find(".phone-value").text(o)),window.open(i,"_blank")})),t(document).on("click",".edit-number",(function(){var e=t(this).closest(".test-popup").data("label");t(".custom-channel-"+e).focus(),t(".agent-"+e+"-btn input").focus(),t(".test-popup").removeClass("active")})),jQuery(document).on("click",".test-popup-bg, .test-popup-close-btn, .test-popup .save-btn",(function(){jQuery(".test-popup").removeClass("active")})),t(document).on("keyup",".agent-Whatsapp-btn .agent-input-value, .agent-Facebook_Messenger-btn .agent-input-value, .custom-channel-Whatsapp, .custom-channel-Facebook_Messenger",(function(){""!=t(this).val()?t(this).closest(".test-btn").find(".wf-test-button").addClass("active"):t(this).closest(".test-btn").find(".wf-test-button").removeClass("active")})),t(document).on("click",".test-popup .contact-link",(function(){t(".chaty-help-form").addClass("active"),t(".test-popup").removeClass("active")})),t(document).on("click","#wp_pre_set_emoji",(function(){const{createPopup:e}=window.picmoPopup,a=document.querySelector("#cht_social_message_Whatsapp_pre_set_message"),i=e({},{referenceElement:a,triggerElement:a,position:"right-start",hideOnEmojiSelect:!1});i.toggle(),i.addEventListener("emoji:select",(e=>{t("#cht_social_message_Whatsapp_pre_set_message").val(t("#cht_social_message_Whatsapp_pre_set_message").val()+e.emoji)}))})),t(document).on("click",".wp-pre-set-emoji-agent",(function(){var e=t(this).closest(".agent-channel-setting").data("item");const{createPopup:a}=window.picmoPopup,i=document.querySelector("#cht_social_message_Whatsapp_pre_set_message_agent"+e),o=a({},{referenceElement:i,triggerElement:i,position:"right-start",hideOnEmojiSelect:!1});o.toggle(),o.addEventListener("emoji:select",(a=>{t("#cht_social_message_Whatsapp_pre_set_message_agent"+e).val(t("#cht_social_message_Whatsapp_pre_set_message_agent"+e).val()+a.emoji)}))}));var n=t("#chaty-custom-fields-length").val(),c=void 0!==n?n:1;t(document).on("click",".custom-field-setting a.add-custom-field",(function(e){if(e.preventDefault(),t(".chaty-custom-field").length>=6){t(".chaty-default-settings .form-field-setting-col .chaty-custom-field-limit").remove();var a="<div class='chaty-custom-field-limit'><div class='social-channel-popover'><p class='description'>You can add up to 6 custom fields</p></div></div>";t(".chaty-default-settings .form-field-setting-col").append(a),t(".chaty-custom-field-limit .social-channel-popover").show()}else{var i=t(this).data("isactive"),o='<div class="upgrade-chaty-link"><a href="'+t(this).data("active-page-url")+'" target="_blank"><i class="fas fa-lock"></i>ACTIVATE YOUR KEY</a></div>';1==i&&(o="");a="";a+="<div class='chaty-popup contact-form-field-open contact-form-setting-popup-open' id='contact_form_field_open"+c+"'>",a+='<div class="chaty-popup-outer"></div>',a+='<div class="chaty-popup-inner popup-pos-bottom">',a+='<div class="chaty-popup-content">',a+='<div class="chaty-popup-close">',a+='<a href="javascript:void(0)" class="close-chaty-popup-btn right-2 top-2 relative">',a+='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M15.6 15.5c-.53.53-1.38.53-1.91 0L8.05 9.87 2.31 15.6c-.53.53-1.38.53-1.91 0s-.53-1.38 0-1.9l5.65-5.64L.4 2.4C-.13 1.87-.13 1.02.4.49s1.38-.53 1.91 0l5.64 5.63L13.69.39c.53-.53 1.38-.53 1.91 0s.53 1.38 0 1.91L9.94 7.94l5.66 5.65c.52.53.52 1.38 0 1.91z"/></svg>',a+="</a>",a+="</div>",a+='<div class="a-card a-card--normal">',a+='<div class="chaty-popup-header text-left font-primary text-cht-gray-150 font-medium p-5 relative">Add new field</div>',a+='<div class="chaty-popup-body text-cht-gray-150 text-base px-5 py-6">',a+="<div class='contact-form-field-select-wrap "+(0==i?"chaty-free-version":"")+"'><label class='contact-form-field-select'><input type='radio' value='text' data-field='"+c+"' name='contact-form[custom_fields]["+c+"][field_dropdown]' /><span><i class='fas fa-edit'></i>Text</span></label><label class='contact-form-field-select'><input type='radio' value='textarea' data-field='"+c+"' name='contact-form[custom_fields]["+c+"][field_dropdown]' /><span><i class='fas fa-align-justify'></i>Text Area</span></label><label class='contact-form-field-select'><input type='radio' value='number' data-field='"+c+"' name='contact-form[custom_fields]["+c+"][field_dropdown]' /><span><i class='fas fa-phone'></i>Number</span></label><label class='contact-form-field-select'><input type='radio' value='date' data-field='"+c+"' name='contact-form[custom_fields]["+c+"][field_dropdown]' /><span><i class='fas fa-calendar-week'></i>Date</span></label><label class='contact-form-field-select'><input type='radio' value='url' data-field='"+c+"' name='contact-form[custom_fields]["+c+"][field_dropdown]' /><span><i class='fas fa-link'></i>Website</span></label><label class='contact-form-field-select'><input type='radio' value='dropdown' data-field='"+c+"' name='contact-form[custom_fields]["+c+"][field_dropdown]' /><span><i class='fas fa-caret-down'></i>Dropdown</span>\t</label><label class='contact-form-field-select'><input type='radio' value='file' data-field='"+c+"' name='contact-form[custom_fields]["+c+"][field_dropdown]' /><span><i class='fas fa-file-upload'></i>File Upload</span>\t</label><label class='contact-form-field-select contact-form-field-textblock' style='display: none'><input type='radio' value='textblock' data-field='"+c+"' name='contact-form[custom_fields]["+c+"][field_dropdown]' /><span><i class='far fa-newspaper'></i>Text Block</span></label>"+o+"</div></div><div id='contact_form_custom_dropdown"+c+"' class='contact-form-dropdown-main' style='display: none;'><input type='text' name='contact-form[custom_fields]["+c+"][dropdown-placeholder]' class='contact-form-dropdown-select' value='' placeholder='Select...'/><div class='contact-form-dropdown-option'><div class='option-value-field'><span class='move-icon'></span><input type='text' name='contact-form[custom_fields]["+c+"][dropdown-option][]' value=''/><span class='add-customfield-dropdown-option' data-field='"+c+"'>Add</span></div></div><input type='submit' name='submit' class='button button-primary' value='Save'></div><span class='contact-form-dropdfown-close'><i class='fas fa-times'></i></span>",a+="</div>",a+="</div>",a+="</div>",a+="</div>",a+="</div>",t(".chaty-contact-form-field-option").append(a),t("#contact_form_field_open"+c).show(),t("body").addClass("contact-form-popup-open"),jQuery(".chaty-custom-field").find(".mce-tinymce").length?jQuery(".contact-form-field-textblock").hide():jQuery(".contact-form-field-textblock").show(),c++}})),jQuery(".chaty-custom-field").find(".mce-tinymce").length?jQuery(".contact-form-field-textblock").hide():jQuery(".contact-form-field-textblock").show(),t(document).on("click",".add-customfield-dropdown-option",(function(e){var i=t(this).data("field");t(this).closest(".contact-form-dropdown-option").append('<div class="option-value-field ui-sortable-handle"><div class="move-icon"></div><input type="text" data-id="'+i+'" name="cht_social_Contact_Us[custom_fields]['+i+'][dropdown_option][]" value=""/><span class="delete-dropdown-option"><i class="fas fa-times"></i></span></div>'),a()})),t(".add-customfield-dropdown-option").on("click",(function(){var e=t(this).data("field");t(this).closest(".contact-form-dropdown-option").append('<div class="option-value-field ui-sortable-handle"><div class="move-icon"></div><input type="text" data-id="'+e+'" name="cht_social_Contact_Us[custom_fields]['+e+'][dropdown_option][]" value=""/><span class="delete-dropdown-option"><i class="fas fa-times"></i></span></div>'),a()})),t(document).on("click",".contact-form-field-popup",(function(e){t("#"+t(this).data("id")).show(),t("body").addClass("contact-form-popup-open")})),t(document).on("click",".contact-form-field-open .contact-form-dropdfown-close",(function(e){t(".contact-form-field-open").hide(),t("body").removeClass("contact-form-popup-open")})),t(document).on("click",".chaty-contact-form-field-option .contact-form-field-open .contact-form-dropdfown-close",(function(e){t(".chaty-contact-form-field-option .contact-form-field-open").remove()})),t(document).on("click",".contact-form-dropdown-popup",(function(){t(this).closest(".field-setting-col").find(".contact-form-dropdown-open").css("display","block"),t("body").addClass("contact-form-popup-open")})),t(document).on("click",".contact-form-dropdown-open .contact-form-dropdfown-close",(function(){t(".contact-form-dropdown-open").hide(),t("body").removeClass("contact-form-popup-open")})),a(),jQuery(document).on("click",".btn-dropdown-save",(function(e){var a=[],i=0;t(this).closest(".contact-form-dropdown-open").find(".option-value-field input").each((function(){i=t(this).data("id"),a.push(t(this).val())}));var o=t(this).closest(".contact-form-dropdown-open").find(".contact-form-dropdown-select").val();t("select[name='cht_social_Contact_Us[custom_fields]["+i+"][placeholder]']").html(""),o&&t("select[name='cht_social_Contact_Us[custom_fields]["+i+"][placeholder]']").append("<option>"+o+"</option>"),t(a).each((function(e,a){a&&t("select[name='cht_social_Contact_Us[custom_fields]["+i+"][placeholder]']").append("<option>"+a+"</option>")})),t(".contact-form-dropdown-open").hide(),t(".contact-form-field-open.contact-form-setting-popup-open").hide(),t("body").removeClass("contact-form-popup-open"),change_custom_preview()})),t(".btn-dropdown-save").on("click",(function(){var e=[],a=0;t(this).closest(".contact-form-dropdown-open").find(".option-value-field input").each((function(){a=t(this).data("id"),e.push(t(this).val())}));var i=t(this).closest(".contact-form-dropdown-open").find(".contact-form-dropdown-select").val();t("select[name='cht_social_Contact_Us[custom_fields]["+a+"][placeholder]']").html(""),i&&t("select[name='cht_social_Contact_Us[custom_fields]["+a+"][placeholder]']").append("<option>"+i+"</option>"),t(e).each((function(e,i){i&&t("select[name='cht_social_Contact_Us[custom_fields]["+a+"][placeholder]']").append("<option>"+i+"</option>")})),t(".contact-form-dropdown-open").hide(),t(".contact-form-field-open.contact-form-setting-popup-open").hide(),t("body").removeClass("contact-form-popup-open"),change_custom_preview()})),t(document).on("mouseup",(function(e){t(e.target).closest(".chaty-contact-form-field-option .contact-form-field-open, .contact-form-field-popup,.contact-form-dropdown-popup, .contact-form-dropdown-open, .contact-form-setting-popup-open").length||(t(".contact-form-field-open").hide(),t(".contact-form-dropdown-open").hide(),t("body").removeClass("contact-form-popup-open"))})),t(document).on("change",'.contact-form-field-select input[type="radio"]',(function(e){var a=t(this).val(),i=t(this).data("field"),o="",s="";"textblock"==a?s="has-field-flex":o="grid-cols-2";var n="";if(n+='<div class="field-setting-col mt-2.5 chaty-custom-field custom-'+a+'" data-order="Custom Text">',n+='<input type="hidden" name="cht_social_Contact_Us[custom_fields]['+i+'][is_active]" value="no">',n+='<input type="hidden" name="cht_social_Contact_Us[custom_fields]['+i+'][is_required]" value="no">',n+='<input type="hidden" name="cht_social_Contact_Us[custom_fields]['+i+'][field_dropdown]" value="'+a+'">',n+='<input type="hidden" name="cht_social_Contact_Us[custom_fields]['+i+'][unique_id]" value="">',n+='<div class="label-flex mb-4">',n+='<label class="chaty-switch chaty-switch-toggle text-cht-gray-150 text-base" for="field_for_Contact_Us_'+i+'">',n+='<input type="checkbox" class="chaty-field-setting" name="cht_social_Contact_Us[custom_fields]['+i+'][is_active]" id="field_for_Contact_Us_'+i+'" value="yes" checked>',n+='<div class="chaty-slider round"></div>',n+='<span class="field-label"><span id="custom_field_label'+i+'">Custom Text</span>',n+='<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"> <g clip-path="url(#clip0_8719_30645)"> <path d="M7.33398 2.66699H2.66732C2.3137 2.66699 1.97456 2.80747 1.72451 3.05752C1.47446 3.30756 1.33398 3.6467 1.33398 4.00033V13.3337C1.33398 13.6873 1.47446 14.0264 1.72451 14.2765C1.97456 14.5265 2.3137 14.667 2.66732 14.667H12.0006C12.3543 14.667 12.6934 14.5265 12.9435 14.2765C13.1935 14.0264 13.334 13.6873 13.334 13.3337V8.66699" stroke="#C6D7E3" stroke-width="1.33" stroke-linecap="round" stroke-linejoin="round"/> <path d="M12.334 1.66617C12.5992 1.40095 12.9589 1.25195 13.334 1.25195C13.7091 1.25195 14.0688 1.40095 14.334 1.66617C14.5992 1.93138 14.7482 2.29109 14.7482 2.66617C14.7482 3.04124 14.5992 3.40095 14.334 3.66617L8.00065 9.9995L5.33398 10.6662L6.00065 7.9995L12.334 1.66617Z" stroke="#C6D7E3" stroke-width="1.33" stroke-linecap="round" stroke-linejoin="round"/> </g> <defs> <clipPath id="clip0_8719_30645"> <rect width="16" height="16" fill="white"/> </clipPath> </defs> </svg>',n+="</span>",n+="</label>",n+='<div class="label-input">',n+='<input type="text" class="label-input-field chaty-input-text contact-form-field-text" value="Custom Text" name="cht_social_Contact_Us[custom_fields]['+i+'][field_label]" />',n+="</div>",n+='<div class="sort-contact-form-field"><img src="'+cht_settings.move_icon_img+'" alt="Move Icon"/></div>',n+="</div>",n+='<div class="field-settings active">',n+='<div class="chaty-setting-col sm:grid '+o+" "+s+' items-center gap-3">',n+='<div class="flex-first">',n+='<input class="rounded-lg w-full chaty-input-text" id="placeholder_for_Contact_Us_'+i+'" type="text" name="cht_social_Contact_Us[custom_fields]['+i+'][placeholder]" value="Enter Text" >',n+="</div>",n+='<div class="flex items-center space-x-3 flex-second">',"textblock"!=a&&(n+='<div class="checkbox">',n+='<label for="field_required_for_Contact_Us_'+i+'" class="chaty-checkbox text-cht-gray-150 text-base flex items-center">',n+='<input class="sr-only" type="checkbox" id="field_required_for_Contact_Us_'+i+'" name="cht_social_Contact_Us[custom_fields]['+i+'][is_required]" value="yes" checked />',n+='<span class="mr-2"></span>',n+="Required",n+="</label>",n+="</div>"),n+='<div id="setting_label'+i+'" class="dropdown-setting-label" style="display: none;">',n+='<a class="flex items-center space-x-1.5 contact-form-dropdown-popup" href="javascript:;">',n+='<span><svg width="16" height="16" viewBox="0 0 16 16" fill="none"> <path d="M8 10C9.10457 10 10 9.10457 10 8C10 6.89543 9.10457 6 8 6C6.89543 6 6 6.89543 6 8C6 9.10457 6.89543 10 8 10Z" stroke="currentColor" stroke-width="1.33" stroke-linecap="round" stroke-linejoin="round"></path> <path d="M12.9332 9.99984C12.8444 10.2009 12.818 10.424 12.8572 10.6402C12.8964 10.8565 12.9995 11.056 13.1532 11.2132L13.1932 11.2532C13.3171 11.377 13.4155 11.5241 13.4826 11.6859C13.5497 11.8478 13.5842 12.0213 13.5842 12.1965C13.5842 12.3717 13.5497 12.5452 13.4826 12.7071C13.4155 12.869 13.3171 13.016 13.1932 13.1398C13.0693 13.2638 12.9223 13.3621 12.7604 13.4292C12.5986 13.4963 12.4251 13.5309 12.2498 13.5309C12.0746 13.5309 11.9011 13.4963 11.7392 13.4292C11.5774 13.3621 11.4303 13.2638 11.3065 13.1398L11.2665 13.0998C11.1094 12.9461 10.9098 12.843 10.6936 12.8038C10.4773 12.7646 10.2542 12.7911 10.0532 12.8798C9.85599 12.9643 9.68782 13.1047 9.56937 13.2835C9.45092 13.4624 9.38736 13.672 9.3865 13.8865V13.9998C9.3865 14.3535 9.24603 14.6926 8.99598 14.9426C8.74593 15.1927 8.40679 15.3332 8.05317 15.3332C7.69955 15.3332 7.36041 15.1927 7.11036 14.9426C6.86031 14.6926 6.71984 14.3535 6.71984 13.9998V13.9398C6.71467 13.7192 6.64325 13.5052 6.51484 13.3256C6.38644 13.1461 6.20699 13.0094 5.99984 12.9332C5.79876 12.8444 5.57571 12.818 5.35944 12.8572C5.14318 12.8964 4.94362 12.9995 4.7865 13.1532L4.7465 13.1932C4.62267 13.3171 4.47562 13.4155 4.31376 13.4826C4.15189 13.5497 3.97839 13.5842 3.80317 13.5842C3.62795 13.5842 3.45445 13.5497 3.29258 13.4826C3.13072 13.4155 2.98367 13.3171 2.85984 13.1932C2.73587 13.0693 2.63752 12.9223 2.57042 12.7604C2.50332 12.5986 2.46879 12.4251 2.46879 12.2498C2.46879 12.0746 2.50332 11.9011 2.57042 11.7392C2.63752 11.5774 2.73587 11.4303 2.85984 11.3065L2.89984 11.2665C3.05353 11.1094 3.15663 10.9098 3.19584 10.6936C3.23505 10.4773 3.20858 10.2542 3.11984 10.0532C3.03533 9.85599 2.89501 9.68782 2.71615 9.56937C2.53729 9.45092 2.32769 9.38736 2.11317 9.3865H1.99984C1.64622 9.3865 1.30708 9.24603 1.05703 8.99598C0.80698 8.74593 0.666504 8.40679 0.666504 8.05317C0.666504 7.69955 0.80698 7.36041 1.05703 7.11036C1.30708 6.86031 1.64622 6.71984 1.99984 6.71984H2.05984C2.2805 6.71467 2.49451 6.64325 2.67404 6.51484C2.85357 6.38644 2.99031 6.20699 3.0665 5.99984C3.15525 5.79876 3.18172 5.57571 3.14251 5.35944C3.10329 5.14318 3.00019 4.94362 2.8465 4.7865L2.8065 4.7465C2.68254 4.62267 2.58419 4.47562 2.51709 4.31376C2.44999 4.15189 2.41545 3.97839 2.41545 3.80317C2.41545 3.62795 2.44999 3.45445 2.51709 3.29258C2.58419 3.13072 2.68254 2.98367 2.8065 2.85984C2.93033 2.73587 3.07739 2.63752 3.23925 2.57042C3.40111 2.50332 3.57462 2.46879 3.74984 2.46879C3.92506 2.46879 4.09856 2.50332 4.26042 2.57042C4.42229 2.63752 4.56934 2.73587 4.69317 2.85984L4.73317 2.89984C4.89029 3.05353 5.08985 3.15663 5.30611 3.19584C5.52237 3.23505 5.74543 3.20858 5.9465 3.11984H5.99984C6.19702 3.03533 6.36518 2.89501 6.48363 2.71615C6.60208 2.53729 6.66565 2.32769 6.6665 2.11317V1.99984C6.6665 1.64622 6.80698 1.30708 7.05703 1.05703C7.30708 0.80698 7.64621 0.666504 7.99984 0.666504C8.35346 0.666504 8.6926 0.80698 8.94264 1.05703C9.19269 1.30708 9.33317 1.64622 9.33317 1.99984V2.05984C9.33402 2.27436 9.39759 2.48395 9.51604 2.66281C9.63449 2.84167 9.80266 2.98199 9.99984 3.0665C10.2009 3.15525 10.424 3.18172 10.6402 3.14251C10.8565 3.10329 11.056 3.00019 11.2132 2.8465L11.2532 2.8065C11.377 2.68254 11.5241 2.58419 11.6859 2.51709C11.8478 2.44999 12.0213 2.41545 12.1965 2.41545C12.3717 2.41545 12.5452 2.44999 12.7071 2.51709C12.869 2.58419 13.016 2.68254 13.1398 2.8065C13.2638 2.93033 13.3621 3.07739 13.4292 3.23925C13.4963 3.40111 13.5309 3.57462 13.5309 3.74984C13.5309 3.92506 13.4963 4.09856 13.4292 4.26042C13.3621 4.42229 13.2638 4.56934 13.1398 4.69317L13.0998 4.73317C12.9461 4.89029 12.843 5.08985 12.8038 5.30611C12.7646 5.52237 12.7911 5.74543 12.8798 5.9465V5.99984C12.9643 6.19702 13.1047 6.36518 13.2835 6.48363C13.4624 6.60208 13.672 6.66565 13.8865 6.6665H13.9998C14.3535 6.6665 14.6926 6.80698 14.9426 7.05703C15.1927 7.30708 15.3332 7.64621 15.3332 7.99984C15.3332 8.35346 15.1927 8.6926 14.9426 8.94264C14.6926 9.19269 14.3535 9.33317 13.9998 9.33317H13.9398C13.7253 9.33402 13.5157 9.39759 13.3369 9.51604C13.158 9.63449 13.0177 9.80266 12.9332 9.99984V9.99984Z" stroke="currentColor" stroke-width="1.33" stroke-linecap="round" stroke-linejoin="round"></path> </svg></span>',n+="<span>Settings</span>",n+="</a>",n+="</div>",n+='<div class="custom-field-remove">',n+='<span class="custom-stickyelement-delete" delete-id="'+i+'">',n+='<i class="fas fa-trash-alt stickyelement-delete"></i>',n+="</span>",n+="</div>",n+="</div>",n+="</div>",n+="</div>",n+='<div class="chaty-popup contact-form-dropdown-open contact-form-setting-popup-open">',n+='<div class="chaty-popup-outer"></div>',n+='<div class="chaty-popup-inner popup-pos-bottom">',n+='<div class="chaty-popup-content">',n+='<div class="chaty-popup-close">',n+='<a href="javascript:void(0)" class="close-delete-pop close-chaty-popup-btn right-2 top-2 relative">',n+='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M15.6 15.5c-.53.53-1.38.53-1.91 0L8.05 9.87 2.31 15.6c-.53.53-1.38.53-1.91 0s-.53-1.38 0-1.9l5.65-5.64L.4 2.4C-.13 1.87-.13 1.02.4.49s1.38-.53 1.91 0l5.64 5.63L13.69.39c.53-.53 1.38-.53 1.91 0s.53 1.38 0 1.91L9.94 7.94l5.66 5.65c.52.53.52 1.38 0 1.91z"/></svg>',n+="</a>",n+="</div>",n+='<div class="a-card a-card--normal">',n+='<div class="chaty-popup-header text-left font-primary text-cht-gray-150 font-medium p-5 relative">Add Option</div>',n+='<div class="chaty-popup-body text-cht-gray-150 text-base px-5 py-6">',n+='<div class="contact-form-dropdown-main">',n+='<input type="text" name="cht_social_Contact_Us[custom_fields]['+i+'][dropdown_placeholder]" class="contact-form-dropdown-select" value="- Select -" placeholder="Select...">',n+='<div class="contact-form-dropdown-option ui-sortable">',n+='<div class="option-value-field ui-sortable-handle">',n+='<input type="text" name="cht_social_Contact_Us[custom_fields]['+i+'][dropdown_option][]" value="" data-id="'+i+'">',n+='<span class="add-customfield-dropdown-option" data-field="'+i+'">Add</span>',n+="</div>",n+="</div>",n+="</div>",n+='<span class="contact-form-dropdfown-close"><i class="fas fa-times"></i></span>',n+="</div>",n+='<div class="chaty-popup-footer flex px-5">',n+='<button type="button" class="btn rounded-lg btn-dropdown-save">Save</button>',n+="</div>",n+="</div>",n+="</div>",n+="</div>",n+="</div>",n+="</div>",n+="</div>",t(".chaty-default-settings .form-field-setting-col").append(n),t(".custom-dropdown").find(".dropdown-setting-label").show(),"textarea"!=a&&"dropdown"!=a&&"textblock"!=a){if("text"==a)var c="Enter your message";else if("number"==a)c="Enter a number";else if("url"==a)c="Enter your website";else if("date"==a)c="mm/dd/yyyy";var l=t(document.createElement("input")).attr({name:"cht_social_Contact_Us[custom_fields]["+i+"][placeholder]","data-id":i,placeholder:c,type:"text",class:"contact_form_custom_value",value:c,"data-type":"text"});if(t('[name="cht_social_Contact_Us[custom_fields]['+i+'][placeholder]"]').replaceWith(l),"file"==a){var r=t(document.createElement("input")).attr({name:"cht_social_Contact_Us[custom_fields]["+i+"][placeholder]","data-id":i,placeholder:c,type:"file",class:"contact_form_custom_value",style:"pointer-events: none;","data-type":"file"});t('[name="cht_social_Contact_Us[custom_fields]['+i+'][placeholder]"]').replaceWith(r)}}else if("textarea"==a){var d='<textarea name="cht_social_Contact_Us[custom_fields]['+i+'][placeholder]" data-id="'+i+'" placeholder="Enter your message" class="contact_form_custom_value" rows="5" cols="50" data-type="textarea">Enter your message</textarea>';t('[name="cht_social_Contact_Us[custom_fields]['+i+'][placeholder]"]').replaceWith(d)}else if("textblock"==a){d=t(document.createElement("textarea")).attr({name:"cht_social_Contact_Us[custom_fields]["+i+"][placeholder]","data-id":i,placeholder:"Enter your message",class:"contact_form_custom_value textblock_custom_editor",id:"textblock_editor","data-type":"textblock"});t('[name="cht_social_Contact_Us[custom_fields]['+i+'][placeholder]"]').replaceWith(d)}else{var p=t(document.createElement("select")).attr({name:"cht_social_Contact_Us[custom_fields]["+i+"][placeholder]",class:"contact_form_custom_value","data-id":i,placeholder:"Select","data-type":"select"});t('[name="cht_social_Contact_Us[custom_fields]['+i+"][placeholder]").replaceWith(p),t("<select id='contact-form-"+i+"' class='default_contact_form_input' value=''  data-field='"+i+"'><option disabled='' selected=''></option></select>").insertBefore("#contact-form-consent-text")}if("number"==a)var h="Custom Number";else if("url"==a)h="Custom Website";else if("textarea"==a)h="Custom Text Area";else if("textblock"==a)h="Custom Text Block";else if("date"==a)h="Custom Date";else if("dropdown"==a)h="Custom Dropdown";else if("file"==a)h="Custom File Upload";else h="Custom Text";t("#custom_field_label"+i).text(h),t('[name="cht_social_Contact_Us[custom_fields]['+i+'][field_label]"]').val(h);var u=Math.floor(26*Math.random())+Date.now();t("#custom_field_label"+i).closest(".field-setting-col").attr("data-order",u),t('[name="cht_social_Contact_Us[custom_fields]['+i+'][unique_id]"]').val(u);var m=document.getElementsByClassName("custom-textblock");t(".chaty-default-settings .form-field-setting-col").prepend(m),t(".chaty-default-settings .form-field-setting-col .custom-textblock:last-child").remove(),setupTextblockEditor(),t(".contact-form-field-open").remove(),t("body").removeClass("contact-form-popup-open");var g="";g+='<div class="mailchimp-field-control chaty-setting-col mapping-field-'+i+'">',g+='<label class="field-control-title font-primary text-cht-gray-150" for="'+h+'">'+h+"</label>",g+='<select class="field-control-dropdown w-full" id="'+h+'" name="cht_social_Contact_Us[mailchimp-field-mapping]['+h+']">',g+="</select>",g+="</div>",t(".chaty-mailchimp-field-lists").append(g),t(".chaty-mailchimp-field-lists").find(".chaty-setting-col").length>1?(t(".chaty-mailchimp-field-lists .chaty-setting-col:last-child select").html(t(".chaty-mailchimp-field-lists").find(".chaty-setting-col:first-child select").html()),t(".chaty-setting-col:last-child select").val("")):jQuery.ajax({url:ajaxurl,type:"post",data:"action=chaty-mailchimp-field-list&list_id="+t("#chaty_mailchimp_lists").val()+"&wpnonce="+cht_settings.ajax_nonce+"&field_name="+h,success:function(e){""!=e?(t(".chaty-mailchimp-field-mapping").show(),t(".chaty-mailchimp-field-lists .chaty-setting-col:last-child select").html(e)):t(".chaty-mailchimp-field-mapping").hide()}}),change_custom_preview()})),t(document).on("click",".custom-stickyelement-delete i.stickyelement-delete",(function(e){t(this).closest(".field-setting-col").hasClass("custom-textblock")&&tinymce.execCommand("mceRemoveEditor",!1,"textblock_editor"),t(this).closest(".field-setting-col").remove(),t(".chaty-default-settings .form-field-setting-col .chaty-custom-field-limit").remove();var a=t(this).closest(".custom-stickyelement-delete").attr("delete-id");t(".chaty-mailchimp-field-lists .mapping-field-"+a).remove(),0==t(".chaty-mailchimp-field-lists").find(".chaty-setting-col").length&&t(".chaty-mailchimp-field-mapping").hide(),change_custom_preview()})),t(document).on("mouseenter","#chaty-social-Contact_Us .form-field-setting-col .field-setting-col",(function(){t(this).find(".sort-contact-form-field").addClass("active")})),t(document).on("mouseleave","#chaty-social-Contact_Us .form-field-setting-col .field-setting-col",(function(){t(this).find(".sort-contact-form-field").removeClass("active")})),jQuery("#chaty-social-Contact_Us .chaty-default-settings .form-field-setting-col").sortable({placeholder:"sort-contact-form-field-placeholder",handle:".sort-contact-form-field",start:function(){},stop:function(){setupTextblockEditor()},update:function(t,e){setupTextblockEditor(),change_custom_preview(),save_contact_form_field_order()}});var l=t("#chaty-whatsapp-custom-fields-length").val(),r=void 0!==l?l:1;t(document).on("click",".custom-whatsapp-field-setting a.add-custom-field",(function(e){if(e.preventDefault(),t(".chaty-whatsapp-custom-field").length>=6){t(".pre-filled-message-setting .form-field-setting-col .chaty-custom-field-limit").remove();var a="<div class='chaty-custom-field-limit'><div class='social-channel-popover'><p class='description'>You can add up to 6 custom fields</p></div></div>";t(".pre-filled-message-setting .form-field-setting-col").append(a),t(".chaty-custom-field-limit .social-channel-popover").show()}else{var i=t(this).data("isactive"),o='<div class="upgrade-chaty-link"><a href="'+t(this).data("active-page-url")+'" target="_blank"><i class="fas fa-lock"></i>ACTIVATE YOUR KEY</a></div>';1==i&&(o="");a="";a+="<div class='chaty-popup whatsapp-field-open whatsapp-setting-popup-open active' id='whatsapp_field_open"+r+"'>",a+='<div class="chaty-popup-outer"></div>',a+='<div class="chaty-popup-inner popup-pos-bottom">',a+='<div class="chaty-popup-content">',a+='<div class="chaty-popup-close">',a+='<a href="javascript:void(0)" class="close-chaty-popup-btn right-2 top-2 relative">',a+='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M15.6 15.5c-.53.53-1.38.53-1.91 0L8.05 9.87 2.31 15.6c-.53.53-1.38.53-1.91 0s-.53-1.38 0-1.9l5.65-5.64L.4 2.4C-.13 1.87-.13 1.02.4.49s1.38-.53 1.91 0l5.64 5.63L13.69.39c.53-.53 1.38-.53 1.91 0s.53 1.38 0 1.91L9.94 7.94l5.66 5.65c.52.53.52 1.38 0 1.91z"/></svg>',a+="</a>",a+="</div>",a+='<div class="a-card a-card--normal">',a+='<div class="chaty-popup-header text-left font-primary text-cht-gray-150 font-medium p-5 relative">Add new field</div>',a+='<div class="chaty-popup-body text-cht-gray-150 text-base px-5 py-6">',a+="<div class='whatsapp-field-select-wrap "+(0==i?"chaty-free-version":"")+"'><label class='whatsapp-field-select'><input type='radio' value='text' data-field='"+r+"' name='whatsapp[custom_fields]["+r+"][field_dropdown]' /><span><i class='fas fa-edit'></i>Text</span></label><label class='whatsapp-field-select'><input type='radio' value='textarea' data-field='"+r+"' name='whatsapp[custom_fields]["+r+"][field_dropdown]' /><span><i class='fas fa-align-justify'></i>Text Area</span></label><label class='whatsapp-field-select'><input type='radio' value='number' data-field='"+r+"' name='whatsapp[custom_fields]["+r+"][field_dropdown]' /><span><i class='fas fa-phone'></i>Number</span></label><label class='whatsapp-field-select'><input type='radio' value='date' data-field='"+r+"' name='whatsapp[custom_fields]["+r+"][field_dropdown]' /><span><i class='fas fa-calendar-week'></i>Date</span></label><label class='whatsapp-field-select'><input type='radio' value='url' data-field='"+r+"' name='whatsapp[custom_fields]["+r+"][field_dropdown]' /><span><i class='fas fa-link'></i>Website</span></label><label class='whatsapp-field-select'><input type='radio' value='dropdown' data-field='"+r+"' name='whatsapp[custom_fields]["+r+"][field_dropdown]' /><span><i class='fas fa-caret-down'></i>Dropdown</span>\t</label>"+o+"</div></div><div id='whatsapp_custom_dropdown"+r+"' class='whatsapp-dropdown-main' style='display: none;'><input type='text' name='whatsapp[custom_fields]["+r+"][dropdown-placeholder]' class='whatsapp-dropdown-select' value='' placeholder='Select...'/><div class='whatsapp-dropdown-option'><div class='option-value-field'><span class='move-icon'></span><input type='text' name='whatsapp[custom_fields]["+r+"][dropdown-option][]' value=''/><span class='add-whatsapp-customfield-dropdown-option' data-field='"+r+"'>Add</span></div></div><input type='submit' name='submit' class='button button-primary' value='Save'></div><span class='whatsapp-dropdfown-close'><i class='fas fa-times'></i></span>",a+="</div>",a+="</div>",a+="</div>",a+="</div>",a+="</div>",t(".chaty-whatsapp-field-option").append(a),t("#whatsapp_field_open"+r).show(),t("body").addClass("whatsapp-popup-open"),r++}})),t(document).on("click",".add-whatsapp-customfield-dropdown-option",(function(e){var a=t(this).data("field");t(this).closest(".whatsapp-dropdown-option").append('<div class="option-value-field ui-sortable-handle"><div class="move-icon"></div><input type="text" data-id="'+a+'" name="cht_social_Whatsapp[custom_fields]['+a+'][dropdown_option][]" value=""/><span class="whatsapp-delete-dropdown-option"><i class="fas fa-times"></i></span></div>'),i()})),t(".add-whatsapp-customfield-dropdown-option").on("click",(function(e){var a=t(this).data("field");t(this).closest(".whatsapp-dropdown-option").append('<div class="option-value-field ui-sortable-handle"><div class="move-icon"></div><input type="text" data-id="'+a+'" name="cht_social_Whatsapp[custom_fields]['+a+'][dropdown_option][]" value=""/><span class="whatsapp-delete-dropdown-option"><i class="fas fa-times"></i></span></div>'),i()})),i(),t(document).on("click",".whatsapp-field-popup",(function(e){t("#"+t(this).data("id")).show(),t("body").addClass("whatsapp-popup-open")})),t(document).on("click",".whatsapp-field-open .whatsapp-dropdfown-close",(function(e){t(".whatsapp-field-open").hide(),t("body").removeClass("whatsapp-popup-open")})),t(document).on("click",".chaty-whatsapp-field-option .whatsapp-field-open .whatsapp-dropdfown-close",(function(e){t(".chaty-whatsapp-field-option .whatsapp-field-open").remove()})),t(document).on("click",".whatsapp-dropdown-popup",(function(){t(this).closest(".field-setting-col").find(".whatsapp-dropdown-open").css("display","block"),t("body").addClass("whatsapp-popup-open")})),t(document).on("click",".whatsapp-dropdown-open .whatsapp-dropdfown-close",(function(){t(".whatsapp-dropdown-open").hide(),t("body").removeClass("whatsapp-popup-open")})),jQuery(document).on("click",".whatsapp-btn-dropdown-save",(function(e){var a=[],i=0;t(this).closest(".whatsapp-dropdown-open").find(".option-value-field input").each((function(){i=t(this).data("id"),a.push(t(this).val())}));var o=t(this).closest(".whatsapp-dropdown-open").find(".whatsapp-dropdown-select").val();t("select[name='cht_social_Whatsapp[custom_fields]["+i+"][placeholder]']").html(""),o&&t("select[name='cht_social_Whatsapp[custom_fields]["+i+"][placeholder]']").append("<option>"+o+"</option>"),t(a).each((function(e,a){a&&t("select[name='cht_social_Whatsapp[custom_fields]["+i+"][placeholder]']").append("<option>"+a+"</option>")})),t(".whatsapp-dropdown-open").hide(),t(".whatsapp-field-open.whatsapp-setting-popup-open").hide(),t("body").removeClass("whatsapp-popup-open"),change_custom_preview()})),jQuery(".whatsapp-btn-dropdown-save").on("click",(function(e){var a=[],i=0;t(this).closest(".whatsapp-dropdown-open").find(".option-value-field input").each((function(){i=t(this).data("id"),a.push(t(this).val())}));var o=t(this).closest(".whatsapp-dropdown-open").find(".whatsapp-dropdown-select").val();t("select[name='cht_social_Whatsapp[custom_fields]["+i+"][placeholder]']").html(""),o&&t("select[name='cht_social_Whatsapp[custom_fields]["+i+"][placeholder]']").append("<option>"+o+"</option>"),t(a).each((function(e,a){a&&t("select[name='cht_social_Whatsapp[custom_fields]["+i+"][placeholder]']").append("<option>"+a+"</option>")})),t(".whatsapp-dropdown-open").hide(),t(".whatsapp-field-open.whatsapp-setting-popup-open").hide(),t("body").removeClass("whatsapp-popup-open"),change_custom_preview()})),t(document).on("mouseup",(function(e){t(e.target).closest(".chaty-whatsapp-field-option .whatsapp-field-open, .whatsapp-field-popup,.whatsapp-dropdown-popup, .whatsapp-dropdown-open, .whatsapp-setting-popup-open").length||(t(".whatsapp-field-open").hide(),t(".whatsapp-dropdown-open").hide(),t("body").removeClass("whatsapp-popup-open"))})),t(document).on("change",'.whatsapp-field-select input[type="radio"]',(function(e){var a=t(this).val(),i=t(this).data("field"),o="";if(o+='<div class="chaty-separator mt-2.5"></div>',o+='<div class="field-setting-col chaty-whatsapp-custom-field custom-'+a+'">',o+='<input type="hidden" name="cht_social_Whatsapp[custom_fields]['+i+'][is_active]" value="no">',o+='<input type="hidden" name="cht_social_Whatsapp[custom_fields]['+i+'][is_required]" value="no">',o+='<input type="hidden" name="cht_social_Whatsapp[custom_fields]['+i+'][field_dropdown]" value="'+a+'">',o+='<div class="label-flex mb-4">',o+='<label class="chaty-switch chaty-switch-toggle text-cht-gray-150 text-base" for="field_for_Whatsapp_'+i+'">',o+='<input type="checkbox" class="chaty-field-setting" name="cht_social_Whatsapp[custom_fields]['+i+'][is_active]" id="field_for_Contact_Us_'+i+'" value="yes" checked>',o+='<div class="chaty-slider round"></div>',o+='<span class="field-label"><span id="custom_field_label_whatsapp'+i+'">Custom Text</span>',o+='<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"> <g clip-path="url(#clip0_8719_30645)"> <path d="M7.33398 2.66699H2.66732C2.3137 2.66699 1.97456 2.80747 1.72451 3.05752C1.47446 3.30756 1.33398 3.6467 1.33398 4.00033V13.3337C1.33398 13.6873 1.47446 14.0264 1.72451 14.2765C1.97456 14.5265 2.3137 14.667 2.66732 14.667H12.0006C12.3543 14.667 12.6934 14.5265 12.9435 14.2765C13.1935 14.0264 13.334 13.6873 13.334 13.3337V8.66699" stroke="#C6D7E3" stroke-width="1.33" stroke-linecap="round" stroke-linejoin="round"/> <path d="M12.334 1.66617C12.5992 1.40095 12.9589 1.25195 13.334 1.25195C13.7091 1.25195 14.0688 1.40095 14.334 1.66617C14.5992 1.93138 14.7482 2.29109 14.7482 2.66617C14.7482 3.04124 14.5992 3.40095 14.334 3.66617L8.00065 9.9995L5.33398 10.6662L6.00065 7.9995L12.334 1.66617Z" stroke="#C6D7E3" stroke-width="1.33" stroke-linecap="round" stroke-linejoin="round"/> </g> <defs> <clipPath id="clip0_8719_30645"> <rect width="16" height="16" fill="white"/> </clipPath> </defs> </svg>',o+="</span>",o+="</label>",o+='<div class="label-input">',o+='<input type="text" class="label-input-field chaty-input-text" value="Custom Text" name="cht_social_Whatsapp[custom_fields]['+i+'][field_label]" />',o+="</div>",o+="</div>",o+='<div class="field-settings active">',o+='<div class="chaty-setting-col sm:grid grid-cols-2 items-center gap-3">',o+="<div>",o+='<input class="rounded-lg w-full chaty-input-text whatsapp_field_custom_value" id="placeholder_for_Whatsapp_'+i+'" type="text" name="cht_social_Whatsapp[custom_fields]['+i+'][placeholder]" value="Enter Text" data-type="'+a+'">',o+="</div>",o+='<div class="flex items-center space-x-3">',o+='<div class="checkbox">',o+='<label for="field_required_for_Contact_Us_'+i+'" class="chaty-checkbox text-cht-gray-150 text-base flex items-center">',o+='<input class="sr-only" type="checkbox" id="field_required_for_Contact_Us_'+i+'" name="cht_social_Whatsapp[custom_fields]['+i+'][is_required]" value="yes" checked />',o+='<span class="mr-2"></span>',o+="Required",o+="</label>",o+="</div>",o+='<div id="setting_label'+i+'" class="dropdown-setting-label" style="display: none;">',o+='<a class="flex items-center space-x-1.5 whatsapp-dropdown-popup" href="javascript:;">',o+='<span><svg width="16" height="16" viewBox="0 0 16 16" fill="none"> <path d="M8 10C9.10457 10 10 9.10457 10 8C10 6.89543 9.10457 6 8 6C6.89543 6 6 6.89543 6 8C6 9.10457 6.89543 10 8 10Z" stroke="currentColor" stroke-width="1.33" stroke-linecap="round" stroke-linejoin="round"></path> <path d="M12.9332 9.99984C12.8444 10.2009 12.818 10.424 12.8572 10.6402C12.8964 10.8565 12.9995 11.056 13.1532 11.2132L13.1932 11.2532C13.3171 11.377 13.4155 11.5241 13.4826 11.6859C13.5497 11.8478 13.5842 12.0213 13.5842 12.1965C13.5842 12.3717 13.5497 12.5452 13.4826 12.7071C13.4155 12.869 13.3171 13.016 13.1932 13.1398C13.0693 13.2638 12.9223 13.3621 12.7604 13.4292C12.5986 13.4963 12.4251 13.5309 12.2498 13.5309C12.0746 13.5309 11.9011 13.4963 11.7392 13.4292C11.5774 13.3621 11.4303 13.2638 11.3065 13.1398L11.2665 13.0998C11.1094 12.9461 10.9098 12.843 10.6936 12.8038C10.4773 12.7646 10.2542 12.7911 10.0532 12.8798C9.85599 12.9643 9.68782 13.1047 9.56937 13.2835C9.45092 13.4624 9.38736 13.672 9.3865 13.8865V13.9998C9.3865 14.3535 9.24603 14.6926 8.99598 14.9426C8.74593 15.1927 8.40679 15.3332 8.05317 15.3332C7.69955 15.3332 7.36041 15.1927 7.11036 14.9426C6.86031 14.6926 6.71984 14.3535 6.71984 13.9998V13.9398C6.71467 13.7192 6.64325 13.5052 6.51484 13.3256C6.38644 13.1461 6.20699 13.0094 5.99984 12.9332C5.79876 12.8444 5.57571 12.818 5.35944 12.8572C5.14318 12.8964 4.94362 12.9995 4.7865 13.1532L4.7465 13.1932C4.62267 13.3171 4.47562 13.4155 4.31376 13.4826C4.15189 13.5497 3.97839 13.5842 3.80317 13.5842C3.62795 13.5842 3.45445 13.5497 3.29258 13.4826C3.13072 13.4155 2.98367 13.3171 2.85984 13.1932C2.73587 13.0693 2.63752 12.9223 2.57042 12.7604C2.50332 12.5986 2.46879 12.4251 2.46879 12.2498C2.46879 12.0746 2.50332 11.9011 2.57042 11.7392C2.63752 11.5774 2.73587 11.4303 2.85984 11.3065L2.89984 11.2665C3.05353 11.1094 3.15663 10.9098 3.19584 10.6936C3.23505 10.4773 3.20858 10.2542 3.11984 10.0532C3.03533 9.85599 2.89501 9.68782 2.71615 9.56937C2.53729 9.45092 2.32769 9.38736 2.11317 9.3865H1.99984C1.64622 9.3865 1.30708 9.24603 1.05703 8.99598C0.80698 8.74593 0.666504 8.40679 0.666504 8.05317C0.666504 7.69955 0.80698 7.36041 1.05703 7.11036C1.30708 6.86031 1.64622 6.71984 1.99984 6.71984H2.05984C2.2805 6.71467 2.49451 6.64325 2.67404 6.51484C2.85357 6.38644 2.99031 6.20699 3.0665 5.99984C3.15525 5.79876 3.18172 5.57571 3.14251 5.35944C3.10329 5.14318 3.00019 4.94362 2.8465 4.7865L2.8065 4.7465C2.68254 4.62267 2.58419 4.47562 2.51709 4.31376C2.44999 4.15189 2.41545 3.97839 2.41545 3.80317C2.41545 3.62795 2.44999 3.45445 2.51709 3.29258C2.58419 3.13072 2.68254 2.98367 2.8065 2.85984C2.93033 2.73587 3.07739 2.63752 3.23925 2.57042C3.40111 2.50332 3.57462 2.46879 3.74984 2.46879C3.92506 2.46879 4.09856 2.50332 4.26042 2.57042C4.42229 2.63752 4.56934 2.73587 4.69317 2.85984L4.73317 2.89984C4.89029 3.05353 5.08985 3.15663 5.30611 3.19584C5.52237 3.23505 5.74543 3.20858 5.9465 3.11984H5.99984C6.19702 3.03533 6.36518 2.89501 6.48363 2.71615C6.60208 2.53729 6.66565 2.32769 6.6665 2.11317V1.99984C6.6665 1.64622 6.80698 1.30708 7.05703 1.05703C7.30708 0.80698 7.64621 0.666504 7.99984 0.666504C8.35346 0.666504 8.6926 0.80698 8.94264 1.05703C9.19269 1.30708 9.33317 1.64622 9.33317 1.99984V2.05984C9.33402 2.27436 9.39759 2.48395 9.51604 2.66281C9.63449 2.84167 9.80266 2.98199 9.99984 3.0665C10.2009 3.15525 10.424 3.18172 10.6402 3.14251C10.8565 3.10329 11.056 3.00019 11.2132 2.8465L11.2532 2.8065C11.377 2.68254 11.5241 2.58419 11.6859 2.51709C11.8478 2.44999 12.0213 2.41545 12.1965 2.41545C12.3717 2.41545 12.5452 2.44999 12.7071 2.51709C12.869 2.58419 13.016 2.68254 13.1398 2.8065C13.2638 2.93033 13.3621 3.07739 13.4292 3.23925C13.4963 3.40111 13.5309 3.57462 13.5309 3.74984C13.5309 3.92506 13.4963 4.09856 13.4292 4.26042C13.3621 4.42229 13.2638 4.56934 13.1398 4.69317L13.0998 4.73317C12.9461 4.89029 12.843 5.08985 12.8038 5.30611C12.7646 5.52237 12.7911 5.74543 12.8798 5.9465V5.99984C12.9643 6.19702 13.1047 6.36518 13.2835 6.48363C13.4624 6.60208 13.672 6.66565 13.8865 6.6665H13.9998C14.3535 6.6665 14.6926 6.80698 14.9426 7.05703C15.1927 7.30708 15.3332 7.64621 15.3332 7.99984C15.3332 8.35346 15.1927 8.6926 14.9426 8.94264C14.6926 9.19269 14.3535 9.33317 13.9998 9.33317H13.9398C13.7253 9.33402 13.5157 9.39759 13.3369 9.51604C13.158 9.63449 13.0177 9.80266 12.9332 9.99984V9.99984Z" stroke="currentColor" stroke-width="1.33" stroke-linecap="round" stroke-linejoin="round"></path> </svg></span>',o+="<span>Settings</span>",o+="</a>",o+="</div>",o+='<div class="custom-field-remove">',o+='<span class="whatsapp-custom-stickyelement-delete" delete-id="'+i+'">',o+='<i class="fas fa-trash-alt stickyelement-delete"></i>',o+="</span>",o+="</div>",o+="</div>",o+="</div>",o+="</div>",o+='<div class="chaty-popup whatsapp-dropdown-open whatsapp-setting-popup-open">',o+='<div class="chaty-popup-outer"></div>',o+='<div class="chaty-popup-inner popup-pos-bottom">',o+='<div class="chaty-popup-content">',o+='<div class="chaty-popup-close">',o+='<a href="javascript:void(0)" class="close-delete-pop close-chaty-popup-btn right-2 top-2 relative">',o+='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M15.6 15.5c-.53.53-1.38.53-1.91 0L8.05 9.87 2.31 15.6c-.53.53-1.38.53-1.91 0s-.53-1.38 0-1.9l5.65-5.64L.4 2.4C-.13 1.87-.13 1.02.4.49s1.38-.53 1.91 0l5.64 5.63L13.69.39c.53-.53 1.38-.53 1.91 0s.53 1.38 0 1.91L9.94 7.94l5.66 5.65c.52.53.52 1.38 0 1.91z"/></svg>',o+="</a>",o+="</div>",o+='<div class="a-card a-card--normal">',o+='<div class="chaty-popup-header text-left font-primary text-cht-gray-150 font-medium p-5 relative">Add Option</div>',o+='<div class="chaty-popup-body text-cht-gray-150 text-base px-5 py-6">',o+='<div class="whatsapp-dropdown-main">',o+='<input type="text" name="cht_social_Whatsapp[custom_fields]['+i+'][dropdown_placeholder]" class="whatsapp-dropdown-select" value="- Select -" placeholder="Select...">',o+='<div class="whatsapp-dropdown-option ui-sortable">',o+='<div class="option-value-field ui-sortable-handle">',o+='<input type="text" name="cht_social_Whatsapp[custom_fields]['+i+'][dropdown_option][]" value="" data-id="'+i+'">',o+='<span class="add-whatsapp-customfield-dropdown-option" data-field="'+i+'">Add</span>',o+="</div>",o+="</div>",o+="</div>",o+='<span class="whatsapp-dropdfown-close"><i class="fas fa-times"></i></span>',o+="</div>",o+='<div class="chaty-popup-footer flex px-5">',o+='<button type="button" class="btn rounded-lg whatsapp-btn-dropdown-save">Save</button>',o+="</div>",o+="</div>",o+="</div>",o+="</div>",o+="</div>",o+="</div>",o+="</div>",t(".pre-filled-message-setting .form-field-setting-col").append(o),t(".custom-dropdown").find(".dropdown-setting-label").show(),"textarea"!=a&&"dropdown"!=a&&"textblock"!=a){if("text"==a)var s="Enter your message";else if("number"==a)s="Enter a number";else if("url"==a)s="Enter your website";else if("date"==a)s="mm/dd/yyyy";var n=t(document.createElement("input")).attr({name:"cht_social_Whatsapp[custom_fields]["+i+"][placeholder]","data-id":i,placeholder:s,type:"text",class:"whatsapp_custom_value",value:s,"data-type":"text"});if(t('[name="cht_social_Whatsapp[custom_fields]['+i+'][placeholder]"]').replaceWith(n),"file"==a){var c=t(document.createElement("input")).attr({name:"cht_social_Whatsapp[custom_fields]["+i+"][placeholder]","data-id":i,placeholder:s,type:"file",class:"whatsapp_custom_value",style:"pointer-events: none;","data-type":"file"});t('[name="cht_social_Whatsapp[custom_fields]['+i+'][placeholder]"]').replaceWith(c)}}else if("textarea"==a){var l='<textarea name="cht_social_Whatsapp[custom_fields]['+i+'][placeholder]" data-id="'+i+'" placeholder="Enter your message" class="whatsapp_custom_value" rows="5" cols="50" data-type="textarea">Enter your message</textarea>';t('[name="cht_social_Whatsapp[custom_fields]['+i+'][placeholder]"]').replaceWith(l)}else if("textblock"==a);else{var r=t(document.createElement("select")).attr({name:"cht_social_Whatsapp[custom_fields]["+i+"][placeholder]",class:"whatsapp_custom_value","data-id":i,placeholder:"Select","data-type":"select"});t('[name="cht_social_Whatsapp[custom_fields]['+i+"][placeholder]").replaceWith(r),t("<select id='whatsapp-"+i+"' class='default_contact_form_input' data-field='"+i+"'><option disabled='' selected=''></option></select>").insertBefore("#whatsapp-consent-text")}if("number"==a)var d="Custom Number";else if("url"==a)d="Custom Website";else if("textarea"==a)d="Custom Text Area";else if("textblock"==a)d="Custom Text Block";else if("date"==a)d="Custom Date";else if("dropdown"==a)d="Custom Dropdown";else if("file"==a)d="Custom File Upload";else d="Custom Text";t("#custom_field_label_whatsapp"+i).text(d),t('[name="cht_social_Whatsapp[custom_fields]['+i+'][field_label]"]').val(d),t(".whatsapp-field-open").remove(),t("body").removeClass("whatsapp-popup-open"),change_custom_preview()})),t(document).on("click",".whatsapp-custom-stickyelement-delete i.stickyelement-delete",(function(e){t(this).closest(".field-setting-col").remove(),t(".pre-filled-message-setting .form-field-setting-col .chaty-custom-field-limit").remove(),change_custom_preview()})),t(document).on("keyup","#wp_popup_headline, #wp_popup_nickname",(function(){change_custom_preview()}));var d="";t(document).on("click",".upload-wp-profile",(function(){d=t(this).data("for");var e=wp.media({title:"Select Whatsapp Profile",multiple:!1,library:{type:"image"}}).open().on("select",(function(a){var i=e.state().get("selection").first();imageData=i.toJSON(),t("#"+d+"-custom-image-upload .img-value").val(imageData.url),t("#"+d+"-custom-image-upload").addClass("active"),t("#"+d+"-custom-image-upload .image-info").html("<img src='"+imageData.url+"'>"),change_custom_preview()}))})),t(document).on("click",".remove-custom-img",(function(){t(this).closest(".custom-img-upload").removeClass("active"),t(this).closest(".custom-img-upload").find(".image-info").html(""),t(this).closest(".custom-img-upload").find(".img-value").val(""),change_custom_preview()})),setupTextblockEditor()}))}(jQuery);var totalPageOptions=0,pageOptionContent="",totalDateAndTimeOptions=0,dateAndTimeOptionContent="",totalTrafficOptions=0,tafficOptionContent="";jQuery(document).ready((function(){if(totalPageOptions=parseInt(jQuery(".chaty-page-option").length),pageOptionContent=jQuery(".chaty-page-options-html").html(),jQuery(".chaty-page-options-html").remove(),totalDateAndTimeOptions=parseInt(jQuery(".chaty-date-time-option").length),dateAndTimeOptionContent=jQuery(".chaty-date-and-time-options-html").html(),jQuery(".chaty-date-and-time-options-html").remove(),totalTrafficOptions=parseInt(jQuery(".custom-traffic-rule").length),tafficOptionContent=jQuery(".custom-traffic-rules-html").html(),jQuery(".custom-traffic-rules-html").remove(),jQuery(document).on("click",".mail-merge-tags span",(function(t){var e=jQuery.trim(jQuery(this).closest(".chaty-setting-col").find("input[type='text']").val());e+=" "+jQuery(this).text(),jQuery(this).closest(".chaty-setting-col").find("input[type='text']").val(jQuery.trim(e))})),jQuery("#add-traffic-rule").on("click",(function(){appendHtml=tafficOptionContent.replace(/__count__/g,totalTrafficOptions,tafficOptionContent),jQuery(".traffic-custom-rules-box").append(appendHtml),jQuery("#url_option_"+totalTrafficOptions).SumoSelect(),totalTrafficOptions++})),jQuery(document).on("click","#create-date-rule",(function(t){jQuery("#date-schedule").addClass("active"),jQuery("#cht_date_rules").val("yes")})),jQuery(document).on("click","#remove-date-rule",(function(t){jQuery("#date-schedule").removeClass("active"),jQuery("#cht_date_rules").val("no")})),jQuery("#date_start_time").length&&jQuery("#date_end_time").length&&jQuery("#date_start_time, #date_end_time").timepicker({showLeadingZero:!0}),jQuery("#date_start_date").length&&jQuery("#date_start_date").datepicker({dateFormat:"mm/dd/yy",altFormat:"mm/dd/yy",onSelect:function(t,e){var a=jQuery("#date_start_date").datepicker("getDate");a.setDate(a.getDate()),jQuery("#date_end_date").datepicker("option","minDate",a),jQuery("#date_end_date").val()<=jQuery("#date_start_date").val()&&jQuery("#date_end_date").val(jQuery("#date_start_date").val()),""==jQuery("#date_end_date").val()&&jQuery("#date_end_date").val(jQuery("#date_start_date").val())}}),jQuery("#date_end_date").length&&jQuery("#date_end_date").datepicker({dateFormat:"mm/dd/yy",altFormat:"mm/dd/yy",onSelect:function(t,e){""==jQuery("#date_start_date").val()&&jQuery("#date_start_date").val(jQuery("#date_end_date").val())}}),jQuery("#date_start_date").length&&""!=jQuery("#date_start_date").val()){var t=jQuery("#date_start_date").datepicker("getDate");t.setDate(t.getDate()),jQuery("#date_end_date").datepicker("option","minDate",t),jQuery("#date_end_date").val()<=jQuery("#date_start_date").val()&&jQuery("#date_end_date").val(jQuery("#date_start_date").val())}jQuery(document).on("click","#update-chaty-traffic-source-rule",(function(t){jQuery(".traffic-options-box").addClass("active"),jQuery("#chaty_traffic_source").val("yes")})),jQuery(document).on("click","#remove-traffic-rules",(function(t){jQuery(".traffic-options-box").removeClass("active"),jQuery("#chaty_traffic_source").val("no")})),jQuery(document).on("click",".remove-traffic-option",(function(t){jQuery(this).closest(".custom-traffic-rule").remove()})),jQuery("#create-country-rule").on("click",(function(){const t=jQuery(this).parents(".country-option-box");t.find(".country-list-box").removeClass("hidden"),t.addClass("show-remove-rules-btn")})),jQuery("#remove-country-rules").on("click",(function(){const t=jQuery(this).parents(".country-option-box");jQuery("select.country-list")[0].sumo.unSelectAll(),jQuery(".country-list option:selected").prop("selected",!1),jQuery(".country-list").trigger("change"),t.find(".country-list-box").addClass("hidden"),t.removeClass("show-remove-rules-btn")})),jQuery("select#cht_widget_language").on("change",(function(){jQuery(".page-url-title").text(jQuery("select#cht_widget_language option:selected").data("url"))})),jQuery("#create-rule").on("click",(function(){appendHtml=pageOptionContent.replace(/__count__/g,totalPageOptions,pageOptionContent),jQuery(".chaty-page-options").append(appendHtml),jQuery(".chaty-page-options .chaty-page-option").removeClass("last"),jQuery(".chaty-page-options .chaty-page-option:last").addClass("last");const t=jQuery(this).parents(".chaty-option-box"),e=t.find(".chaty-page-option").length>0;if(t.toggleClass("show-remove-rules-btn",e),"0"==jQuery("#is_pro_plugin").val())jQuery(".chaty-page-options").find("input").attr("name",""),jQuery(".chaty-page-options").find("select").attr("name",""),jQuery(".chaty-page-options").find("input").removeClass("cht-required"),jQuery(".chaty-page-options").find("select").removeClass("cht-required");else{if(jQuery("#url_shown_on_"+totalPageOptions+"_option").SumoSelect({search:!1}),jQuery("#url_rules_"+totalPageOptions+"_option").SumoSelect({search:!1}),jQuery("#url_rules_"+totalPageOptions+"_page_ids").length)setPagesField("url_rules_"+totalPageOptions+"_page_ids","pages","Select Pages");if(jQuery("#url_rules_"+totalPageOptions+"_post_ids").length)setPagesField("url_rules_"+totalPageOptions+"_post_ids","posts","Select Posts");if(jQuery("#url_rules_"+totalPageOptions+"_category_ids").length)setPagesField("url_rules_"+totalPageOptions+"_category_ids","categories","Select Categories");if(jQuery("#url_rules_"+totalPageOptions+"_tag_ids").length)setPagesField("url_rules_"+totalPageOptions+"_tag_ids","tags","Select Tags");if(jQuery("#url_rules_"+totalPageOptions+"_products_ids").length)setPagesField("url_rules_"+totalPageOptions+"_products_ids","products","Select Products");if(jQuery("#url_rules_"+totalPageOptions+"_wc_products_ids").length)setPagesField("url_rules_"+totalPageOptions+"_wc_products_ids","sale_products","Select Products")}jQuery("#url_"+totalPageOptions+"_option").SumoSelect(),jQuery("select#cht_widget_language").length&&jQuery(".page-url-title").text(jQuery("select#cht_widget_language option:selected").data("url")),totalPageOptions++})),jQuery(".traffic-url-options").length&&jQuery(".traffic-url-options").SumoSelect(),jQuery("#create-data-and-time-rule").on("click",(function(){appendHtml=dateAndTimeOptionContent.replace(/__count__/g,totalDateAndTimeOptions,dateAndTimeOptionContent),jQuery(".chaty-data-and-time-rules").append(appendHtml),jQuery(".chaty-data-and-time-rules .chaty-date-time-option").removeClass("last"),jQuery(".chaty-data-and-time-rules .chaty-date-time-option:last").addClass("last"),jQuery(".chaty-data-and-time-rules .chaty-date-time-option").removeClass("first"),jQuery(".chaty-data-and-time-rules .chaty-date-time-option:first").addClass("first"),"0"==jQuery("#is_pro_plugin").val()&&(jQuery(".chaty-data-and-time-rules").find("input").attr("name",""),jQuery(".chaty-data-and-time-rules").find("select").attr("name",""),jQuery(".chaty-data-and-time-rules").find("input").removeClass("cht-required"),jQuery(".chaty-data-and-time-rules").find("select").removeClass("cht-required")),jQuery("#start_time_"+totalDateAndTimeOptions+", #end_time_"+totalDateAndTimeOptions).timepicker({showLeadingZero:!0}),jQuery("#gmt_"+totalDateAndTimeOptions+"_option").SumoSelect({search:!0});const t=jQuery(".chaty-data-and-time-rules .chaty-date-time-option:last"),e=jQuery(this).parents(".chaty-option-box");wp.hooks.doAction("chaty.days_and_hours_add_rule",{$scope:e,$current:t}),jQuery("#url_shown_on_"+totalDateAndTimeOptions+"_option").SumoSelect(),totalDateAndTimeOptions++}));const e=jQuery(".chaty-data-and-time-rules .chaty-date-time-option:last"),a=jQuery(".chaty-data-and-time-rules").parents(".chaty-option-box");wp.hooks.doAction("chaty.days_and_hours_add_rule",{$scope:a,$current:e}),jQuery(".chaty-data-and-time-rules .chaty-date-time-option").removeClass("last"),jQuery(".chaty-data-and-time-rules .chaty-date-time-option:last").addClass("last"),jQuery(".chaty-data-and-time-rules .chaty-date-time-option").removeClass("first"),jQuery(".chaty-data-and-time-rules .chaty-date-time-option:first").addClass("first"),totalDateAndTimeOptions>0&&(jQuery(".ui-timepicker-input").timepicker({showLeadingZero:!0}),totalDateAndTimeOptions>=1&&jQuery(".chaty-option-box .chaty-date-time-option:last").addClass("last")),jQuery(document).on("change","#chaty_attention_effect",(function(){var t=jQuery(this).attr("data-effect");""!=t&&jQuery("#iconWidget").removeClass("chaty-animation-"+t),jQuery("#iconWidget").removeClass("start-now"),jQuery("#iconWidget").addClass("chaty-animation-"+jQuery(this).val()).addClass("start-now"),jQuery(this).attr("data-effect",jQuery(this).val())})),setInterval((function(){var t=jQuery("#chaty_attention_effect").attr("data-effect");""!=t?(jQuery("#iconWidget").removeClass("chaty-animation-"+t),jQuery("#iconWidget").removeClass("start-now"),setTimeout((function(){jQuery("#iconWidget").addClass("chaty-animation-"+jQuery("#chaty_attention_effect").val()).addClass("start-now")}),1e3)):jQuery("#chaty_attention_effect").attr("data-effect",jQuery("#chaty_attention_effect").val())}),5e3),jQuery(document).on("click",".remove-chaty",(function(){const t=jQuery(this).parents(".chaty-option-box");jQuery(this).parents(".chaty-page-option").remove(),t.find(".chaty-page-options .chaty-page-option").removeClass("last"),t.find(".chaty-page-options .chaty-page-option:last").addClass("last");t.find(".chaty-page-option").length>0?t.addClass("show-remove-rules-btn"):t.removeClass("show-remove-rules-btn")})),jQuery(document).on("click","#remove-page-rules",(function(t){t.preventDefault(),jQuery("#chaty-page-options .chaty-page-option").remove(),jQuery(".chaty-option-box").removeClass("show-remove-rules-btn")})),jQuery(document).on("click",".remove-day-time-rules",(function(t){t.preventDefault();const e=jQuery(this).parents(".chaty-option-box"),a=e.find(".chaty-date-time-option");wp.hooks.doAction("chaty.days_and_hours_remove_rule",a,"all"),a.remove(),e.removeClass("show-remove-rules-btn"),e[0].scrollIntoView({behavior:"smooth",block:"center"})})),jQuery(document).on("click",".remove-page-option",(function(){const t=jQuery(this).closest(".chaty-date-time-option");wp.hooks.doAction("chaty.days_and_hours_remove_rule",t,"single"),jQuery(this).closest(".chaty-date-time-option").remove()})),jQuery("#image-upload-content .custom-control-label").on("click",(function(t){return t.stopPropagation(),jQuery(this).closest(".custom-control").find("input[type=radio]").prop("checked",!0),jQuery(".js-widget-i").trigger("change"),!1})),jQuery(".chaty-color-field").on("change",(function(){chaty_set_bg_color()})),jQuery(".remove-chaty-img").on("click",(function(t){t.stopPropagation()}));var i=!1;function o(){jQuery(".chaty-whatsapp-setting-textarea").length&&jQuery(".chaty-whatsapp-setting-textarea").each((function(){jQuery("#cht_social_embedded_message_"+jQuery(this).data("id")+"_ifr").length&&tinymce.get(jQuery(this).attr("id")).remove();var t=jQuery(this).attr("id");tinymce.init({selector:jQuery(this).attr("id"),toolbar:"bold, italic, underline | emoji",menubar:!1,branding:!1,setup:function(e){"textblock_editor"!=e.id&&"custom_textblock"!=e.id&&e.addButton("emoji",{image:cht_settings.icon_img,onclick:function(){const{createPopup:e}=window.picmoPopup,a=jQuery(".mce-emoji-custom-icon button").attr("id"),i=document.querySelector("#"+a),o=e({},{referenceElement:i,triggerElement:i,position:"right-start",hideOnEmojiSelect:!1});o.toggle(),o.addEventListener("emoji:select",(e=>{let a=tinyMCE.get(t);a.selection.getNode()&&a.selection.getNode()!==a.getBody()||(a.focus(),a.selection.select(a.getBody(),!0),a.selection.collapse(!1)),tinymce.activeEditor.execCommand("mceInsertContent",!1,e.emoji),change_custom_preview(),setWhatsAppPopupContent(a.getContent())}))},classes:"emoji-custom-icon"}),e.on("keyup",(function(t){change_custom_preview(),setWhatsAppPopupContent(e.getContent())}))}}),tinymce.execCommand("mceAddEditor",!0,jQuery(this).attr("id"))}))}(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|ipad|iris|kindle|Android|Silk|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(navigator.userAgent)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(navigator.userAgent.substr(0,4)))&&(i=!0),i||jQuery("body").hasClass("theme-utouch-lite")||jQuery("#channels-selected-list").sortable({placeholder:"ui-chaty-state-hl",items:"li.chaty-channel:not(#chaty-social-close)",handle:".move-icon",start:function(){jQuery("body").addClass("hide-agents")},stop:function(){jQuery("body").removeClass("hide-agents"),o()},update:function(t,e){set_social_channel_order(),change_custom_preview(),o()}}),jQuery(document).ready((function(){o(),jQuery("select#cht_widget_language").length&&jQuery(".page-url-title").text(jQuery("select#cht_widget_language option:selected").data("url")),jQuery(".toast-message").length&&(jQuery(".toast-message").addClass("active"),setTimeout((function(){jQuery(".toast-message").removeClass("active")}),5e3)),jQuery(document).on("click",".toast-close-btn a",(function(t){t.preventDefault(),jQuery(".toast-message").removeClass("active")})),jQuery("input[name='switchPreview']:checked").trigger("change")})),jQuery(".close-button-img img, .close-button-img .image-upload").on("click",(function(){var t=wp.media({title:"Upload Image",multiple:!1,library:{type:"image"}}).open().on("select",(function(e){var a=t.state().get("selection").first();imageData=a.toJSON(),jQuery(".close-button-img").addClass("active"),jQuery(".close-button-img input").val(imageData.id),jQuery(".close-button-img img").attr("src",imageData.url),change_custom_preview()}))})),jQuery(".remove-close-img").on("click",(function(){default_image=jQuery("#default_image").val(),jQuery(".close-button-img").removeClass("active"),jQuery(".close-button-img input").val(""),jQuery(".close-button-img img").attr("src",default_image),change_custom_preview()})),jQuery(document).on("click",".chaty-widget.click",(function(t){t.preventDefault(),jQuery(".chaty-widget").toggleClass("active")})),jQuery(document).on("change","#chaty-page-options .url-options",(function(t){thisVal=jQuery(this).val(),siteURL=jQuery("#chaty_site_url").val(),newURL=siteURL,jQuery(this).closest(".url-content").find(".url-title").hide(),jQuery(this).closest(".url-content").find(".url-title").removeClass("active"),jQuery(this).closest(".url-content").find(".chaty-url").show(),jQuery(this).closest(".url-content").find(".url-setting-option").removeClass("active"),jQuery(this).closest(".url-content").find(".url-default").addClass("active"),jQuery(this).closest(".url-content").find(".items-center").addClass("active"),"home"==thisVal?(newURL=siteURL,jQuery(this).closest(".url-content").find(".url-default").removeClass("active"),jQuery(this).closest(".url-content").find(".items-center").removeClass("active")):"page_has_url"==thisVal||"page_contains"==thisVal||"page_start_with"==thisVal||"page_end_with"==thisVal?newURL=siteURL:(jQuery(this).closest(".url-content").find(".url-title").hide(),jQuery(this).closest(".url-content").find(".chaty-"+thisVal).show(),jQuery(this).closest(".url-content").find(".url-setting-option").removeClass("active"),jQuery(this).closest(".url-content").find("."+thisVal+"-option").addClass("active"))})),jQuery(".chaty-settings.cls-btn a, .close-btn-set").on("click",(function(t){t.preventDefault(),jQuery(".cls-btn-settings, .close-btn-set").toggleClass("active")})),0==jQuery("input[name='cht_position']:checked").length&&(jQuery("#right-position").prop("checked",!0),jQuery("input[name='cht_position']:checked").trigger("change")),0==jQuery("input[name='widget_icon']:checked").length&&(jQuery("input[name='widget_icon']:first").prop("checked",!0),jQuery("input[name='widget_icon']:checked").trigger("change")),change_custom_preview()}));var selectedsocialSlug="";function upload_chaty_image(t){selectedsocialSlug=t;var e=wp.media({title:"Upload Image",multiple:!1,library:{type:"image"}}).open().on("select",(function(t){var a=e.state().get("selection").first();imageData=a.toJSON(),jQuery("#cht_social_image_"+selectedsocialSlug).val(imageData.id),jQuery(".custom-image-"+selectedsocialSlug+" img").attr("src",imageData.url),jQuery("#chaty_image_"+selectedsocialSlug).addClass("img-active").removeClass("icon-active"),jQuery("#chaty_image_"+selectedsocialSlug+" .fa-icon").val(""),change_custom_preview()}))}function upload_chaty_agent_image(t){selectedsocialSlug=t;var e=wp.media({title:"Upload Image",multiple:!1,library:{type:"image"}}).open().on("select",(function(t){var a=e.state().get("selection").first();imageData=a.toJSON(),jQuery("#cht_social_agent_image_"+selectedsocialSlug).length&&(jQuery("#image_agent_data_"+selectedsocialSlug+" img.agent-image").attr("src",imageData.url),jQuery("#image_agent_data_"+selectedsocialSlug).addClass("img-active").removeClass("icon-active"),jQuery("#image_agent_data_"+selectedsocialSlug+" .fa-icon").val(""),jQuery("#image_agent_data_"+selectedsocialSlug+" input.image-id").val(imageData.id),change_custom_preview())}))}function toggle_chaty_setting(t){if(jQuery("#chaty-social-"+t).find(".chaty-advance-settings").toggle(),jQuery("#chaty-social-"+t).find(".chaty-advance-settings").toggleClass("active"),"Contact_Us"==t&&jQuery("#Contact_Us-close-btn").length){var e=jQuery("#Contact_Us-close-btn").data("nonce");jQuery("#Contact_Us-close-btn").hasClass("active")||(jQuery("#Contact_Us-close-btn").addClass("active"),jQuery.ajax({type:"POST",url:ajaxurl,data:{nonce:e,action:"update_channel_setting"},success:function(t){}}))}jQuery("#chaty-social-"+t+" .chaty-advance-settings.active").length,change_custom_preview()}function chaty_set_bg_color(){jQuery(".chaty-color-field:not(.button-color)").each((function(){""!=jQuery(this).val()&&"#ffffff"!=jQuery(this).val()&&(jQuery(this).hasClass("agent-bg-color")?(defaultColor=jQuery(this).val(),jQuery(this).closest(".chaty-agent-form").find(".chaty-agent-setting").find(".color-element").css("fill",defaultColor),jQuery(this).closest(".chaty-agent-form").find(".chaty-agent-setting").find(".custom-agent-image").css("background",defaultColor),jQuery(this).closest(".chaty-agent-form").find(".chaty-agent-setting").find(".facustom-icon").css("background",defaultColor)):jQuery(this).hasClass("agent-icon-color")?(defaultColor=jQuery(this).val(),jQuery(this).closest("li.agent-info").find(".color-element").css("fill",defaultColor),jQuery(this).closest("li.agent-info").find(".custom-chaty-image").css("background",defaultColor),jQuery(this).closest("li.agent-info").find(".facustom-icon").css("background",defaultColor)):("Linkedin"!=jQuery(this).closest("li").data("id")||"Linkedin"==jQuery(this).closest("li").data("id")&&"#ffffff"!=jQuery(this).val())&&(defaultColor=jQuery(this).val(),jQuery(this).closest(".channels-selected__item").find(".color-element").css("fill",defaultColor),jQuery(this).closest(".channels-selected__item").find(".custom-chaty-image").css("background",defaultColor),jQuery(this).closest(".channels-selected__item").find(".facustom-icon").css("background",defaultColor)))})),change_custom_preview()}var activeWeChatChannel="";function upload_qr_code(t){activeWeChatChannel=t;var e=wp.media({title:"Upload QR Image",multiple:!1,library:{type:"image"}}).open().on("select",(function(t){var a=e.state().get("selection").first();imageData=a.toJSON(),jQuery("#upload_qr_code_val-"+activeWeChatChannel).val(imageData.id),jQuery("."+activeWeChatChannel+"-qr-code-setting").addClass("active"),jQuery("#"+activeWeChatChannel+"-qr-code-image").html("<img src='"+imageData.url+"' alt=''>"),change_custom_preview()}))}function remove_qr_code(t){jQuery("#upload_qr_code_val-"+t).val(""),jQuery("."+t+"-qr-code-setting").removeClass("active"),jQuery("#"+t+"-qr-code-image").html(""),change_custom_preview()}function remove_chaty_image(t){default_image=jQuery("#default_image").val(),jQuery("#cht_social_image_"+t).val(""),jQuery("#cht_social_image_src_"+t).attr("src",default_image),jQuery("#chaty_image_"+t).removeClass("icon-active").removeClass("img-active"),jQuery("#chaty_image_"+t+" .fa-icon").val(""),change_custom_preview()}var baseIcon='<svg version="1.1" id="ch" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="-496 507.7 54 54" style="enable-background:new -496 507.7 54 54;" xml:space="preserve">\n                            <style type="text/css">.st0 {fill: #A886CD;}  .st1 {fill: #FFFFFF;}\n                        </style><g><circle class="st0" cx="-469" cy="534.7" r="27"/></g><path class="st1" d="M-459.9,523.7h-20.3c-1.9,0-3.4,1.5-3.4,3.4v15.3c0,1.9,1.5,3.4,3.4,3.4h11.4l5.9,4.9c0.2,0.2,0.3,0.2,0.5,0.2 h0.3c0.3-0.2,0.5-0.5,0.5-0.8v-4.2h1.7c1.9,0,3.4-1.5,3.4-3.4v-15.3C-456.5,525.2-458,523.7-459.9,523.7z"/>\n                                                    <path class="st0" d="M-477.7,530.5h11.9c0.5,0,0.8,0.4,0.8,0.8l0,0c0,0.5-0.4,0.8-0.8,0.8h-11.9c-0.5,0-0.8-0.4-0.8-0.8l0,0\n                            C-478.6,530.8-478.2,530.5-477.7,530.5z"/>\n                                                    <path class="st0" d="M-477.7,533.5h7.9c0.5,0,0.8,0.4,0.8,0.8l0,0c0,0.5-0.4,0.8-0.8,0.8h-7.9c-0.5,0-0.8-0.4-0.8-0.8l0,0\n                            C-478.6,533.9-478.2,533.5-477.7,533.5z"/>\n                        </svg>',defaultIcon='<svg version="1.1" id="ch" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="-496 507.7 54 54" style="enable-background:new -496 507.7 54 54;" xml:space="preserve">\n                            <style type="text/css">.st0 {fill: #A886CD;}  .st1 {fill: #FFFFFF;}\n                        </style><g><circle class="st0" cx="-469" cy="534.7" r="27"/></g><path class="st1" d="M-459.9,523.7h-20.3c-1.9,0-3.4,1.5-3.4,3.4v15.3c0,1.9,1.5,3.4,3.4,3.4h11.4l5.9,4.9c0.2,0.2,0.3,0.2,0.5,0.2 h0.3c0.3-0.2,0.5-0.5,0.5-0.8v-4.2h1.7c1.9,0,3.4-1.5,3.4-3.4v-15.3C-456.5,525.2-458,523.7-459.9,523.7z"/>\n                                                    <path class="st0" d="M-477.7,530.5h11.9c0.5,0,0.8,0.4,0.8,0.8l0,0c0,0.5-0.4,0.8-0.8,0.8h-11.9c-0.5,0-0.8-0.4-0.8-0.8l0,0\n                            C-478.6,530.8-478.2,530.5-477.7,530.5z"/>\n                                                    <path class="st0" d="M-477.7,533.5h7.9c0.5,0,0.8,0.4,0.8,0.8l0,0c0,0.5-0.4,0.8-0.8,0.8h-7.9c-0.5,0-0.8-0.4-0.8-0.8l0,0\n                            C-478.6,533.9-478.2,533.5-477.7,533.5z"/>\n                        </svg>',iconBlock=document.getElementById("iconWidget");function set_social_channel_order(){socialString=[],jQuery("#channels-selected-list > li.chaty-channel").each((function(){socialString.push(jQuery(this).attr("data-id"))})),socialString=socialString.join(","),jQuery("#cht_numb_slug").val(socialString)}function save_contact_form_field_order(){var t=[];jQuery("#chaty-social-Contact_Us .form-field-setting-col .field-setting-col").each((function(){t.push(jQuery(this).attr("data-order"))})),t=t.join(","),jQuery("#contact_form_field_order").val(t)}!function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):"undefined"!=typeof module&&module.exports?module.exports=t(require("jquery")):t(jQuery)}((function(t,e){t(document).ready((function(){(t(document).on("keyup",".select2-search__field",(function(){if(""==t(this).val()&&t(this).closest(".url-setting-option").length){var e=t(this).closest(".url-setting-option").find("select").attr("id");t("#"+e).length&&t("#"+e).select2("close")}})),t(document).on("click","#image-upload-content .custom-control-radio",(function(e){e.preventDefault(),t(".js-upload").prop("checked",!0),change_custom_preview()})),jQuery("#wp-cta_wc_body_text-wrap").length)&&jQuery("#wp-cta_wc_body_text-wrap").find("iframe").contents().find("head").append("<style>p{margin:0; padding:0 }body{padding:10px !important;}</style>");t(document).on("click",".btn-cancel",(function(e){e.preventDefault();var a=t(this).data("social");t(this).closest("li.chaty-channel").remove(),t(".chat-channel-"+a).removeClass("active"),change_custom_preview();const i=[];jQuery(".channels-icons > .icon.active").each(((t,e)=>{i.push(e.dataset.social)})),wp.hooks.doAction("chaty.channel_update",{channel:i,target:a,action:"removed",isExceeded:!1})})),t(document).on("click",".js-switch-preview",(function(){change_custom_preview()})),t(document).on("click",".channels__view-check, #cht_close_button",(function(){change_custom_preview()})),t(document).on("change","input[name='cht_position']:checked",(function(){"custom"==t(this).val()?t("#positionPro").show():t("#positionPro").hide(),change_custom_preview()})),t(document).on("click","#aim-modal",(function(){t(".aim-cancel-icon-button").trigger("click")})),t(document).on("click",".aim-modal--content",(function(t){t.stopPropagation()})),t(document).on("click","#cht_pending_messages",(function(){t(this).is(":checked")?t(".pending-message-items").addClass("active"):t(".pending-message-items").removeClass("active"),change_custom_preview()})),t(document).on("change","input[name='positionSide']:checked, input[name='cht_cta_action']:checked, input[name='widget_icon']:checked",(function(){change_custom_preview()})),t(document).on("change","#chaty_attention_effect, #cht_number_of_messages, #chaty_icons_view",(function(){change_custom_preview()})),t(document).on("change",".form-fonts",(function(){jQuery("#custom-font-style, .preview-google-font").remove();var t=jQuery(".form-fonts").val();""!=t&&("System Stack"==t&&(t="-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif"),jQuery("head").append("<style id='custom-font-style'></style>"),customCSS=".chaty-preview, .chaty-preview *, .chaty-preview *:after { font-family: "+t+" }",jQuery("#custom-font-style").html(customCSS),"Default"!=jQuery(".form-fonts option:selected").closest("optgroup").attr("label")&&jQuery("head").append('<link class="preview-google-font" rel="preconnect" href="https://fonts.googleapis.com"><link class="preview-google-font" rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link class="preview-google-font" href="https://fonts.googleapis.com/css2?family='+t+'&display=swap" rel="stylesheet">'))})),t(document).on("change","#chaty_default_state",(function(){"open"==t(this).val()?t(".hide-show-button").addClass("active"):t(".hide-show-button").removeClass("active"),change_custom_preview()})),t(document).on("change","input[name='cht_color']:checked",(function(){change_custom_preview()})),t(document).on("click",".chaty-preview.click:not(.single) .chaty-preview-cta, .chaty-preview.open:not(.single) .chaty-preview-cta",(function(){t(".chaty-preview").toggleClass("active")})),t(document).on("mouseover",".chaty-preview.hover:not(.single):not(.on) .chaty-preview-cta",(function(){t(".chaty-preview").addClass("active"),t(".chaty-preview").addClass("on")})),t(document).on("click",".chaty-preview.hover:not(.single) .chaty-preview-cta",(function(){t(".chaty-preview").toggleClass("active")})),t(document).on("mouseleave",".chaty-preview.hover:not(.single) .chaty-preview-cta",(function(){t(".chaty-preview").removeClass("on")})),t(document).on("keyup",".test_textarea, .chaty-title",(function(){change_custom_preview()})),t(document).on("click",".trigger-block input[type='checkbox']",(function(){t(this).is(":checked")?(t(this).closest(".trigger-option-block").find("input[type='number']").prop("disabled",!1),t(this).closest(".trigger-option-block").find("input[type='text']").prop("disabled",!1)):(t(this).closest(".trigger-option-block").find("input[type='number']").prop("disabled",!0),t(this).closest(".trigger-option-block").find("input[type='text']").prop("disabled",!0))})),t("#trigger_on_time").is(":checked")||t("#chaty_trigger_time").prop("disabled",!0),t("#chaty_trigger_hide").is(":checked")||t("#chaty_trigger_hide_time").prop("disabled",!0),t("#chaty_trigger_on_scroll").is(":checked")||t("#chaty_trigger_on_page_scroll").prop("disabled",!0),jQuery(".form-fonts").trigger("change"),jQuery(".chaty-cta-body-textarea").length&&(jQuery("#cta_body_text_ifr").length&&tinymce.get("cta_body_text").remove(),tinymce.init({selector:"cta_body_text",toolbar:"bold, italic, underline | emoji",menubar:!1,branding:!1,setup:function(t){function e(){const{createPopup:t}=window.picmoPopup,e=jQuery(".mce-cta-emoji-custom-icon button").attr("id"),a=document.querySelector("#"+e),i=t({},{referenceElement:a,triggerElement:a,position:"right-start",hideOnEmojiSelect:!1});i.toggle(),i.addEventListener("emoji:select",(t=>{let e=tinyMCE.get("cta_body_text");e.selection.getNode()&&e.selection.getNode()!==e.getBody()||(e.focus(),e.selection.select(e.getBody(),!0),e.selection.collapse(!1)),tinymce.activeEditor.execCommand("mceInsertContent",!1,t.emoji),bodyMsg=e.getContent(),change_custom_preview()}))}"textblock_editor"!=t.id&&"custom_textblock"!=t.id&&t.addButton("emoji",{image:cht_settings.icon_img,onclick:e,classes:"cta-emoji-custom-icon"}),t.on("keyup",(function(e){bodyMsg=t.getContent(),change_custom_preview()}))}}),tinymce.execCommand("mceAddEditor",!0,"cta_body_text"))}))}));var imageDataEvent=!1;function loadPreviewFile(t){if(imageDataEvent=t,jQuery(t.target).parents("#image-upload-content").find("#uploadInput").prop("checked",!0),""!=jQuery("#testUpload").val()){var e=document.getElementById("outputImage");e.src=URL.createObjectURL(t.target.files[0]),e.onload=function(){URL.revokeObjectURL(e.src),jQuery("#image-upload").addClass("has-custom-image"),change_custom_preview()}}}function checkForUserCountry(){""!=getUserCountry()&&setWhatsAppCountryFlag()}function getUserCountry(){var t=chatyGetCookie("cht_country_code");return t||setClientCountry(),t}function setCountryForWhatsApp(t){if(jQuery("#cht_social_agent_Whatsapp_"+t).length){cht_settings.channel_settings["Whatsapp_agent_"+t]=document.querySelector("#cht_social_agent_Whatsapp_"+t),cht_settings.channel_settings["Whatsapp_agent_Country_"+t]=window.intlTelInput(cht_settings.channel_settings["Whatsapp_agent_"+t],{formatOnDisplay:!1,hiddenInput:"full_number",initialCountry:"auto",nationalMode:!1,autoHideDialCode:!1,utilsScript:cht_settings.plugin_url+"admin/assets/js/utils.js"});var e=getUserCountry();"-"!=e&&""==jQuery("#cht_social_agent_Whatsapp_"+t).val()?setTimeout((function(){cht_settings.channel_settings["Whatsapp_agent_Country_"+t].setCountry(e),jQuery(".custom-agent-channel-Whatsapp").trigger("keyup")}),200):""!=jQuery("#cht_social_agent_Whatsapp_"+t).val()&&setTimeout((function(){jQuery(".custom-agent-channel-Whatsapp").trigger("keyup")}),200)}}function setClientCountry(){if(!chatyGetCookie("cht_country_code")){jQuery.get("https://www.cloudflare.com/cdn-cgi/trace",(function(t){if(t){var e="-",a=t.match("loc=(.*)");a.length>1&&(a=a[1])&&""==(e=a.toUpperCase())&&(e="-")}chatySetCookie("cht_country_code",e,720),setWhatsAppCountryFlag()}))}}function setWhatsAppCountryFlag(){if(jQuery("#channel_input_Whatsapp").length){cht_settings.channel_settings.Whatsapp=document.querySelector("#channel_input_Whatsapp"),cht_settings.channel_settings.Whatsapp_Country=window.intlTelInput(cht_settings.channel_settings.Whatsapp,{formatOnDisplay:!1,hiddenInput:"full_number",initialCountry:"auto",nationalMode:!1,autoHideDialCode:!1,utilsScript:cht_settings.plugin_url+"admin/assets/js/utils.js"});var t=getUserCountry();"-"!=t&&""==jQuery("#channel_input_Whatsapp").val()?setTimeout((function(){cht_settings.channel_settings.Whatsapp_Country.setCountry(t),jQuery("#channel_input_Whatsapp").trigger("keyup")}),200):""!=jQuery("#channel_input_Whatsapp").val()&&setTimeout((function(){jQuery("#channel_input_Whatsapp").trigger("keyup")}),200)}}function chatySetCookie(t,e,a){var i=new Date;i.setTime(i.getTime()+24*a*60*60*1e3);var o="expires="+i.toUTCString();document.cookie=t+"="+e+"; "+o+"; path=/; SameSite=Lax"}function chatyGetCookie(t){t+="=";for(var e=document.cookie.split(";"),a=0;a<e.length;a++){for(var i=e[a];" "==i.charAt(0);)i=i.substring(1);if(0==i.indexOf(t))return i.substring(t.length,i.length)}return null}function chatyCheckCookie(t){var e=chatyGetCookie(t);return""!=e&&null!==e}function chatyDeleteCookie(t){document.cookie=t+"=;expires=Thu, 01 Jan 1970 00:00:01 GMT;"}!function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):"undefined"!=typeof module&&module.exports?module.exports=t(require("jquery")):t(jQuery)}((function(t,e){t(document).ready((function(){t(document).on("click","#chaty-social-channel",(function(){t("#chaty-social-channel, #chaty-app-customize-widget, #chaty-triger-targeting").removeClass("completed"),t("#chaty-social-channel, #chaty-app-customize-widget, #chaty-triger-targeting").removeClass("active"),t(this).addClass("active"),t(".social-channel-tabs").removeClass("active"),t("#chaty-tab-social-channel").addClass("active"),t("#current_step").val(1),t(".footer-buttons").removeClass("step-3").removeClass("step-2").addClass("step-1")})),t(document).on("click","#chaty-app-customize-widget",(function(){t(".footer-buttons").removeClass("step-3").removeClass("step-1").addClass("step-2"),function(){if(t(".chaty-popup").hide(),0==t("#cht-form .js-chanel-desktop").length||0==t("#cht-form .js-chanel-mobile").length)return void t("#no-step-device-popup").show();if(0==t("#cht-form .js-chanel-desktop:checked").length&&0==t("#cht-form .js-chanel-mobile:checked").length)return void t("#device-step-popup").show();t("#chaty-app-customize-widget, #chaty-triger-targeting").removeClass("completed"),t("#chaty-social-channel, #chaty-app-customize-widget, #chaty-triger-targeting").removeClass("active"),t("#chaty-app-customize-widget").addClass("active"),t("#chaty-social-channel").addClass("completed"),t(".social-channel-tabs").removeClass("active"),t("#chaty-tab-customize-widget").addClass("active"),t(".footer-buttons").removeClass("step-1").removeClass("step-3").addClass("step-2"),t("#current_step").val(2)}()})),t(document).on("click","#chaty-triger-targeting",(function(){t("#chaty-triger-targeting").removeClass("completed"),t("#chaty-social-channel, #chaty-app-customize-widget, #chaty-triger-targeting").removeClass("active"),t(this).addClass("active"),t("#chaty-social-channel, #chaty-app-customize-widget").addClass("completed"),t(".social-channel-tabs").removeClass("active"),t("#chaty-tab-triger-targeting").addClass("active"),t(".footer-buttons").removeClass("step-1").removeClass("step-2").addClass("step-3"),t("#current_step").val(3)})),t(document).on("click","#next-button",(function(e){e.preventDefault(),t("#chaty-social-channel").hasClass("active")?t("#chaty-app-customize-widget").trigger("click"):t("#chaty-app-customize-widget").hasClass("active")&&t("#chaty-triger-targeting").trigger("click")})),t(document).on("click","#back-button",(function(e){e.preventDefault(),t("#chaty-tab-triger-targeting").hasClass("active")?(t("#chaty-triger-targeting").removeClass("completed"),t("#chaty-social-channel, #chaty-app-customize-widget, #chaty-triger-targeting").removeClass("active"),t("#chaty-app-customize-widget").addClass("active"),t("#chaty-social-channel").addClass("completed"),t(".social-channel-tabs").removeClass("active"),t("#chaty-tab-customize-widget").addClass("active"),t(".footer-buttons").removeClass("step-1").removeClass("step-3").addClass("step-2"),t("#current_step").val(2)):t("#chaty-app-customize-widget").hasClass("active")&&(t("#chaty-triger-targeting, #chaty-app-customize-widget").removeClass("completed"),t(".social-channel-tabs").removeClass("active"),t("#chaty-social-channel, #chaty-app-customize-widget, #chaty-triger-targeting").removeClass("active"),t("#chaty-social-channel").addClass("active"),t("#chaty-tab-social-channel").addClass("active"),t(".footer-buttons").removeClass("step-2").removeClass("step-3").addClass("step-1"),t("#current_step").val(1))}))}))})),function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):"undefined"!=typeof module&&module.exports?module.exports=t(require("jquery")):t(jQuery)}((function(t,e){var a="";function i(){t("#channels-selected-list > .chaty-channel.has-agent-view").each((function(){var e=t(this).data("id"),a="";t("#agent-list-"+e+" .agent-channel-setting").each((function(){a+=t(this).data("item")+","})),t("#agent_order_"+e).val(a)})),change_custom_preview()}t(document).ready((function(){t(document).on("click",".customize-agent-button",(function(){0==t(this).closest("li.chaty-channel").find(".agent-info").length&&t(this).closest("li.chaty-channel").find(".add-agent-button button").trigger("click"),change_custom_preview()})),t(document).on("click",".remove-agent-btn",(function(){1==t(this).closest("ul.agent-list").find("li.agent-info").length&&(t(this).closest("li.chaty-channel").removeClass("has-agent-view"),t(this).closest("li.chaty-channel").find(".is-agent-active").val(0),t(this).closest("li.chaty-channel").find(".chaty-advance-settings").show(),t(this).closest("li.chaty-channel").find(".chaty-advance-settings").addClass("active")),t(this).closest("li.agent-info").remove(),change_custom_preview()})),t(document).on("click",".remove-img-icon",(function(){var e=t(this).data("slug");t("#image_agent_data_"+e).length&&(t("#image_agent_data_"+e).removeClass("img-active").removeClass("icon-active"),t("#image_agent_data_"+e+" .image-id").val(""),t("#image_agent_data_"+e+" .fa-icon").val(""),change_custom_preview())})),t(document).on("click",".agent-button-action",(function(e){e.preventDefault(),t(this).closest("li.chaty-channel").find(".is-agent-active").val(1),t(this).closest("li.chaty-channel").addClass("has-agent-view");var a=t(this).closest("li.chaty-channel").find(".chaty-default-settings").find(".channels__input").val();if(0==t(this).closest("li.chaty-channel").find(".agent-info").length){t(this).closest("li.chaty-channel").find(".add-agent-button button").trigger("click"),t(this).closest("li.chaty-channel").find(".agent-info").find(".agent-input-value").val(a).addClass("whatsapp-agent-input-deafault-value");var i=t(this).closest("li.chaty-channel").find(".agent-info").find(".agent-input-value").data("id");t("#cht_social_agent_Whatsapp_"+i).length&&(cht_settings.channel_settings["Whatsapp_agent_"+i]=document.querySelector("#cht_social_agent_Whatsapp_"+i),cht_settings.channel_settings["Whatsapp_agent_Country_"+i]=window.intlTelInput(cht_settings.channel_settings["Whatsapp_agent_"+i],{formatOnDisplay:!1,hiddenInput:"full_number",initialCountry:"auto",nationalMode:!1,autoHideDialCode:!1,utilsScript:cht_settings.plugin_url+"admin/assets/js/utils.js"}),setTimeout((function(){t(".custom-agent-channel-Whatsapp").trigger("keyup")}),200)),""!=t(this).closest("li.chaty-channel").find(".agent-info").find(".agent-input-value").val()&&t(this).closest("li.chaty-channel").find(".agent-info").find(".agent-input-value + .wf-test-button").addClass("active");var o=t(this).closest("li.chaty-channel").find(".chaty-advance-settings").find(".pre-set-message-whatsapp").val();t(this).closest("li.chaty-channel").find(".agent-info:first-child .agent-channel-setting-advance").find(".pre-set-message-whatsapp").val(o)}change_custom_preview()})),t(document).on("click",".remove-agents-button",(function(){a=t(this).data("id"),t("#remove-agents-popup").show()})),t(".remove-agent-list").on("click",(function(){t("#chaty-social-"+a).removeClass("has-agent-view"),t("#chaty-social-"+a+" .is-agent-active").val(0),t("#remove-agents-popup").hide(),change_custom_preview()})),t(".chaty-channel.has-agent-view .agent-list").length&&t(".chaty-channel.has-agent-view .agent-list").each((function(){var e=t(this).attr("id");t("#"+e).sortable({placeholder:"ui-chaty-state-hl",items:t("#"+e+" > li.agent-info"),handle:".move-channel-icon",update:function(t,e){i()}})})),t(document).on("click",".add-agent-button button",(function(){var e=parseInt(t(this).closest(".chaty-agents").data("count"));e+=1;var a=t(this).data("slug");t(this).closest(".chaty-agents").data("count",e);var o=t(this).closest(".chaty-agent-advance-setting").find(".default-agent-setting").html();if(o=(o=(o=(o=o.replace(/__count__/g,e)).replace(/chaty-color-field-agent/g,"chaty-color-field")).replace(/icon-picker-wrap-agent/g,"icon-picker-wrap")).replace(/chaty-whatsapp-phone-alt/g,"chaty-whatsapp-phone"),t(this).closest(".chaty-agents").find("ul.agent-list").append("<li class='agent-info'>"+o+"</li>"),t(this).closest(".chaty-agents").find("ul.agent-list li.agent-info:last-child .agent-input-value ").focus(),t("#agent-icon-picker-"+a+"-"+e).length&&t("#select-agent-icon-"+a+"-"+e).length){AestheticIconPicker({selector:"#agent-icon-picker-"+a+"-"+e,onClick:"#select-agent-icon-"+a+"-"+e,iconLibrary:{material:{regular:{"list-icon":"","icon-style":"mt-regular",icons:["some","some2"]}}}})}change_custom_preview(),t(document).trigger("chatyColorPicker/trigger",[{$scope:t(this).parents(".chaty-agents"),element:".chaty-color-field"}]);var s="agent-list-"+jQuery(this).closest("li.chaty-channel").data("id");t("#"+s).sortable({placeholder:"ui-chaty-state-hl",items:t("#"+s+" > li.agent-info"),handle:".move-channel-icon",update:function(t,e){i()}}),"Whatsapp"==a&&setCountryForWhatsApp(e)})),checkForUserCountry()}))}));