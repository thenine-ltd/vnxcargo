!function(s){"use strict";var t=Array.prototype.slice;s.extend(s.event.special,{resizestop:{add:function(e){var i=e.handler;s(this).on("resize",function(t){clearTimeout(i._timer),t.type="resizestop",t=s.proxy(i,this,t),i._timer=setTimeout(t,e.data||200)})}},resizestart:{add:function(e){var i=e.handler;s(this).on("resize",function(t){clearTimeout(i._timer),i._started||(t.type="resizestart",i.apply(this,arguments),i._started=!0),i._timer=setTimeout(s.proxy(function(){i._started=!1},this),e.data||300)})}}}),s.extend(s.fn,{resizestop:function(){s(this).on.apply(this,["resizestop"].concat(t.call(arguments)))},resizestart:function(){s(this).on.apply(this,["resizestart"].concat(t.call(arguments)))}})}(window.jQuery);!function(){"use strict";String.prototype.isNumeric||Object.defineProperty(String.prototype,"isNumeric",{value:function(){return!isNaN(parseFloat(this))&&isFinite(this)}})}(),window.jQuery.jMaskGlobals={maskElements:".tc-extra-product-options input"},function(i){"use strict";i.epoAPI={},i.epoAPI.error=!1,i.epoAPI.math={},i.epoAPI.dom={},i.epoAPI.util={},i.epoAPI.locale={},i.epoAPI.template={},i.epoAPI.math.toFloat=function(e,t){var n;return"string"!=typeof e&&"number"!=typeof e||isNaN(e)?0:(n=parseFloat(e),isNaN(n)?void 0!==t?t:e:n)},i.epoAPI.math.toInt=function(e,t){var n;return"string"!=typeof e&&"number"!=typeof e||isNaN(e)||""===e?0:(n=parseInt(e,10),isNaN(n)?void 0!==t?t:e:n)},i.epoAPI.math.round=function(e,t,n){var o,r,i;if(t=parseInt(t,10),Number.isFinite(t)||(t=0),r=(e*=t=Math.pow(10,t))%1==.5*(i="number"==typeof e&&e?e<0?-1:1:0),o=Math.floor(e),r)switch(n){case"PHP_ROUND_HALF_DOWN":e=o+(i<0?1:0);break;case"PHP_ROUND_HALF_EVEN":e=o+o%2*i;break;case"PHP_ROUND_HALF_ODD":e=o+(o%2?0:1);break;default:e=o+(0<i?1:0)}return(e=r?e:Math.round(e))/t},i.epoAPI.math.uniqueid=function(e,t){function n(e,t){return t<(e=parseInt(e,10).toString(16)).length?e.slice(e.length-t):t>e.length?new Array(t-e.length+1).join("0")+e:e}return void 0===e&&(e=""),i.epoAPI.php=i.epoAPI.php||{},i.epoAPI.php.uniqidSeed||(i.epoAPI.php.uniqidSeed=Math.floor(123456789*Math.random())),i.epoAPI.php.uniqidSeed+=1,e=e,e=(e+=n(parseInt(Date.now()/1e3,10),8))+n(i.epoAPI.php.uniqidSeed,5),t&&(e+=(10*Math.random()).toFixed(8).toString()),e},i.epoAPI.dom.id=function(e){return void 0===e?e:"string"!=typeof e&&"number"!=typeof e||"number"==typeof e&&isNaN(e)?e.toString():e.toString().replace(/(%|:|\.|\[|\]|,|=)/g,"\\$1")},i.epoAPI.dom.scroll=function(){var e,t;return window.pageYOffset?(t=window.pageYOffset,e=window.pageXOffset):document.documentElement&&document.documentElement.scrollTop?(t=document.documentElement.scrollTop,e=document.documentElement.scrollLeft):document.body&&(t=document.body.scrollTop,e=document.body.scrollLeft),{left:e,top:t}},i.epoAPI.dom.size=function(){var e,t,n,o=window.innerHeight&&window.scrollMaxY?(e=window.innerWidth+window.scrollMaxX,window.innerHeight+window.scrollMaxY):document.body.scrollHeight>document.body.offsetHeight?(e=document.body.scrollWidth,document.body.scrollHeight):(e=document.body.offsetWidth,document.body.offsetHeight);return window.innerHeight?(t=document.documentElement.clientWidth||window.innerWidth,n=window.innerHeight):document.documentElement&&document.documentElement.clientHeight?(t=document.documentElement.clientWidth,n=document.documentElement.clientHeight):document.body&&(t=document.body.clientWidth,n=document.body.clientHeight),{fullWidth:e<t?t:e,fullHeight:o<n?n:o,visibleWidth:t,visibleHeight:n,totalWidth:e,totalHeight:o}},i.epoAPI.util.trim=function(e){return"string"==typeof e?e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""):e},i.epoAPI.util.parseJSON=function(e){var t,n=window.JSON;try{if((t=n.parse(e+""))&&"object"==typeof t&&null!==t)return t}catch(e){i.epoAPI.error=e}return!1},i.epoAPI.util.decodeHTML=function(e){var t=document.createElement("textarea");return t.innerHTML=e,t.value},i.epoAPI.util.getStorage=function(e){var t,n;try{return t=window[e],n="__storage_test__",t.setItem(n,n),t.removeItem(n),t}catch(e){return!1}},i.epoAPI.util.basename=function(e){return e.replace(/.*\//,"")},i.epoAPI.util.deepCopyArray=function(t){var n,o;return void 0!==window.structuredClone?window.structuredClone(t):"object"!=typeof t||null===t?t:(n=Array.isArray(t)?[]:{},Object.keys(t).forEach(function(e){t&&(o=t[e],n[e]="object"==typeof o&&null!==o?i.epoAPI.util.deepCopyArray(o):o)}),n)},i.epoAPI.locale.getSystemDecimalSeparator=function(){var e=1.1;return e=(e=/^1(.+)1$/.exec(e.toLocaleString()))?e[1]:","},i.epoAPI.template.html=function(e,t){e=e(t);return e=(e=e.replace("/*<![CDATA[*/","")).replace("/*]]>*/","")},i.epoAPI.filters={},i.epoAPI.addFilter=function(e,t,n,o){var r;return n=parseInt(n,10),isNaN(n)&&(n=10),o=parseInt(o,10),isNaN(o)&&(o=1),r=t+"_"+n,i.epoAPI.filters[e]||(i.epoAPI.filters[e]={}),i.epoAPI.filters[e][n]||(i.epoAPI.filters[e][n]={}),i.epoAPI.filters[e][n][r]={func:t,accepted_args:o},!0},i.epoAPI.removeFilter=function(e,t,n){return n=parseInt(n,10),t=t+"_"+(n=isNaN(n)?10:n),!!(i.epoAPI.filters[e]&&i.epoAPI.filters[e][n]&&i.epoAPI.filters[e][n][t])&&(delete i.epoAPI.filters[e][n][t],!0)},i.epoAPI.applyFilter=function(e,n){var o=i.makeArray(arguments);return o.splice(0,1),i.epoAPI.filters[e]&&(e=i.epoAPI.filters[e],i.each(e,function(e,t){i.each(t,function(e,t){t=t.func;t instanceof Function?n=t.apply(null,o):window[t]&&window[t]instanceof Function&&(n=window[t].apply(null,o))})})),n},i.tc_add_filter=i.epoAPI.addFilter,i.tc_remove_filter=i.epoAPI.removeFilter,i.tc_apply_filters=i.epoAPI.applyFilter}(window.jQuery),function(e){"use strict";function i(e,t){return e=Math.round(Math.abs(e)),isNaN(e)?t:e}function a(e,t){var n;return Array.isArray(e)?e.map(e,function(e){return a(e,t)}):"number"==typeof(e=e||0)?e:(t=t||".",n=new RegExp("[^0-9-"+t+"]",["g"]),e=parseFloat((""+e).replace(n,"").replace(t,".")),isNaN(e)?0:e)}function c(e,t){return Number.isFinite(e)?(t=i(t,2),e=Number(a(e)*Math.pow(10,t)),e=Math.round(e),Number(e/Math.pow(10,t)).toFixed(t)):"-"}e.epoAPI.math.unformat=a,e.epoAPI.math.format=function t(e,n){var o,r;if(Array.isArray(e))return e.map(e,function(e){return t(e,n)});if(e=a(e),n)if(n.precision=i(n.precision),n.format&&n.symbol)o={pos:n.format,neg:n.format.replace("-","").replace("%v","-%v"),zero:n.format},o=0<e?o.pos:e<0?o.neg:o.zero,n.opts={precision:n.precision,thousand:n.thousand,decimal:n.decimal},e=o.replace("%s",n.symbol).replace("%v",t(Math.abs(e),n.opts));else{if(!Number.isFinite(e))return"-";e=(e<0?"-":"")+((r=3<(o=parseInt(c(Math.abs(e||0),n.precision),10)+"").length?o.length%3:0)?o.substring(0,r)+n.thousand:"")+o.substring(r).replace(/(\d{3})(?=\d)/g,"$1"+n.thousand)+(n.precision?n.decimal+c(Math.abs(e),n.precision).split(".")[1]:"")}return e},e.epoAPI.math.toFixed=c}(window.jQuery),function(l){"use strict";var t,o=/\r?\n/g,n=/^(?:checkbox|radio)$/i,r=/^(?:submit|button|image|reset|file)$/i,i=/^(?:input|select|textarea|keygen)/i;l.easing.easeInExpo||(l.easing.easeInExpo=t=function(e){return Math.pow(e,6)},l.easing.easeOutExpo=function(e){return 1-t(1-e)},l.easing.easeInOutExpo=function(e){return e<.5?t(2*e)/2:1-t(-2*e+2)/2}),l.fn.extend({tmcheckboxes:function(){var e=this.find(":checkbox:not('.tm-default-checkbox')").not(".wp-tab-panel :checkbox, .tm-weekdays-picker-wrap :checkbox, .tm-months-picker-wrap :checkbox");return e.wrap('<label class="tm-epo-switch-wrapper-label"></label>'),e.wrap('<span class="tm-epo-switch-wrapper tc"></span>'),e.after('<span class="tc-label tm-epo-switch tc"></span>'),this},tcSerializeArray:function(){return this.find(":input").filter(function(){var e=this.type;return this.name&&!l(this).is(":disabled")&&i.test(this.nodeName)&&!r.test(e)&&(this.checked||!n.test(e))}).map(function(e,t){var n=l(this).val();return null===n?null:Array.isArray(n)?l.map(n,function(e){return{name:t.name,value:e.replace(o,"\r\n")}}):{name:t.name,value:n.replace(o,"\r\n")}}).get()},tcSerializeObject:function(){var e={},t=this.tcSerializeArray();return l.each(t,function(){void 0!==e[this.name]&&this.name.endsWith("[]")?(e[this.name].push||(e[this.name]=[e[this.name]]),e[this.name].push(this.value||"")):e[this.name]=this.value||""}),e},tcScrollTo:function(e,t,n){var o=this;return 0===(e=l(e)).length?this:(t=t||0,n=n||0,o[0].self!==window&&(o=o.find(".woodmart-scroll-content").length?o.find(".woodmart-scroll-content"):o).offset()?n+=o.scrollTop()-o.offset().top:o=l("html, body"),o.animate({scrollTop:l(e).offset().top+n},t))},tcClone:function(){for(var e,t,n=l.fn.clone.apply(this,arguments),o=this.find("textarea").add(this.filter("textarea")),r=n.find("textarea").add(n.filter("textarea")),i=this.find("select").add(this.filter("select")),a=n.find("select").add(n.filter("select")),c=0,s=o.length;c<s;c+=1)l(r[c]).val(l(o[c]).val());for(c=0,s=i.length;c<s;c+=1)for(e=0,t=i[c].options.length;e<t;e+=1)!0===i[c].options[e].selected&&(a[c].options[e].selected=!0);return n}})}(window.jQuery);!function(s){"use strict";function c(t){for(var r,n=[void 0,null,!1,0,"","0"],e=0,a=n.length;e<a;e++)if(t===n[e])return 1;if("object"==typeof t){for(r in t)if(t.hasOwnProperty(r))return;return 1}}function f(t,r){return!(!r||r.constructor!==Array&&r.constructor!==Object)&&t in r}function l(t){return{}.toString.call(t).split(" ")[1].slice(0,-1).toLowerCase()}function h(t,r){var n;return"string"!=typeof t&&"number"!=typeof t||isNaN(t)?void 0!==r?r:0:(n=parseFloat(t),isNaN(n)?void 0!==r?r:t:n)}function n(t,r){return t===r?0:r<t?1:-1}function t(t){return t=(t+"").replace(/[^01]/gi,""),parseInt(t,2)}function r(t){return t<0&&(t=4294967295+t+1),parseInt(t,10).toString(2)}function e(t){return t<0&&(t=4294967295+t+1),parseInt(t,10).toString(16)}function a(t){return t<0&&(t=4294967295+t+1),parseInt(t,10).toString(8)}function i(t){return.017453292519943295*t}function o(t,r=0){var n=0<=t?1:-1;return 0===r?Math.round(t):parseFloat((Math.round(t*Math.pow(10,r)+1e-4*n)/Math.pow(10,r)).toFixed(r))}function _(t){return t=(t+"").replace(/[^a-f0-9]/gi,""),parseInt(t,16)}function p(t){return t=(t+"").replace(/[^0-7]/gi,""),parseInt(t,8)}function g(t,r){var n;return t=Math.abs(t),r=Math.abs(r),n=Math.min(t,r),n/=t=Math.max(t,r),t*Math.sqrt(1+n*n)||null}var u={variables:{},on_var_not_found:void 0,on_var_validation:void 0,operators:{},functions:{},cache:{},construct:function(){return this.add_defaults(),this.set_division_by_zero_to_zero(),this},add_operator:function(t){return this.operators[t.operator]=t,this},evaluate:function(t,r=!0){return this.execute(t,r)},execute:function(t,r=!0){var n,e=t;return f(e,this.cache)?n=this.cache[e]:(n=(n=new v(t,this.operators)).tokenize().build_reverse_polish_notation(),r&&(this.cache[e]=n)),t=new E(this.functions,this.operators).calculate(n,this.variables,this.on_var_not_found,this),t="number"===l(t)&&!isNaN(t)?t:0},add_function:function(t,r){return this.functions[t]=new y(t,r),this},get_vars:function(){return this.variables},get_var:function(t){return f(t,this.variables)?this.variables[t]:(this.on_var_not_found&&"function"==typeof this.on_var_not_found&&this.on_var_not_found(t),A.trigger("Variable ("+t+") not set","UnknownVariableError",0))},set_var:function(t,r){return this.on_var_validation&&"function"==typeof this.on_var_validation&&(r=this.on_var_validation(t,r)),this.variables[t]=r,this},var_exists:function(t){return f(t,this.variables)},set_vars:function(t,r=!0){var n=this;return r&&this.remove_vars(),t.forFach(function(t,r){n.set_var(r,t)}),this},set_var_not_found_handler:function(t){return this.on_var_not_found=t,this},set_var_validation_handler:function(t){return this.on_var_validation=t,this},remove_var:function(t){return delete this.variables[t],this},remove_vars:function(){return this.variables={},this.on_var_not_found=null,this},get_operators:function(){return this.operators},get_functions:function(){return this.functions},remove_operator:function(t){delete this.operators[t]},set_division_by_zero_to_zero:function(){return this.add_operator(new d("/",!1,180,function(t,r){return t=Number(t),0==(r=Number(r))?0:t/r})),this},get_cache:function(){return this.cache},clear_cache:function(){this.cache=[]},add_defaults:function(){var n=this,e=this.default_operators(),a=this.default_functions();return Object.keys(e).forEach(function(t){var r=e[t];n.add_operator(new d(t,r[2],r[1],r[0]))}),Object.keys(a).forEach(function(t){var r=a[t];n.add_function(t,r)}),this.on_var_validation=this.default_var_validation,this.variables=this.default_vars(),this},default_operators:function(){return{"+":[function(t,r){return(t=h(t,0))+(r=h(r,0))},170,!1],"-":[function(t,r){return(t=h(t,0))-(r=h(r,0))},170,!1],uPos:[function(t){return t=h(t,0)},200,!1],uNeg:[function(t){return 0-(t=h(t,0))},200,!1],"*":[function(t,r){return(t=h(t,0))*(r=h(r,0))},180,!1],"/":[function(t,r){return t=h(t,0),r=h(r,0),c(r)?A.trigger("Division By Zero","DivisionByZeroError",0):t/r},180,!1],"^":[function(t,r){return t=h(t,0),r=h(r,0),Math.pow(t,r)},220,!0],"%":[function(t,r){return(t=h(t,0))%(r=h(r,0))},180,!1],"&&":[function(t,r){return t=String(t),r=String(r),t.isNumeric()&&(t=h(t,0)),r.isNumeric()&&(r=h(r,0)),t&&r?1:0},100,!1],"||":[function(t,r){return t=String(t),r=String(r),t.isNumeric()&&(t=h(t,0)),r.isNumeric()&&(r=h(r,0)),t||r?1:0},90,!1],"==":[function(t,r){return t=String(t),r=String(r),t.isNumeric()&&r.isNumeric()?h(t)===h(r)?1:0:0===n(t,r)?1:0},140,!1],"!=":[function(t,r){return t=String(t),r=String(r),t.isNumeric()&&r.isNumeric()?h(t)!==h(r)?1:0:0===n(t,r)?1:0},140,!1],">=":[function(t,r){return t=String(t),r=String(r),t.isNumeric()&&(t=h(t,0)),(r=r.isNumeric()?h(r,0):r)<=t?1:0},150,!1],">":[function(t,r){return t=String(t),r=String(r),t.isNumeric()&&(t=h(t,0)),(r=r.isNumeric()?h(r,0):r)<t?1:0},150,!1],"<=":[function(t,r){return t=String(t),r=String(r),(t=t.isNumeric()?h(t,0):t)<=(r=r.isNumeric()?h(r,0):r)?1:0},150,!1],"<":[function(t,r){return t=String(t),r=String(r),(t=t.isNumeric()?h(t,0):t)<(r=r.isNumeric()?h(r,0):r)?1:0},150,!1]}},default_functions:function(){var u=this;return{abs:Math.abs,acos:Math.acos,acosh:Math.acosh,arcsin:Math.asin,arcctg:function(t){return Math.PI/2-Math.atan(t)},arccot:function(t){return Math.PI/2-Math.atan(t)},arccotan:function(t){return Math.PI/2-Math.atan(t)},arcsec:function(t){return Math.acos(1/t)},arccosec:function(t){return Math.asin(1/t)},arccsc:function(t){return Math.asin(1/t)},arccos:Math.acos,arctan:Math.atan,arctg:Math.atan,array:function(...t){return t},asin:Math.asin,atan:Math.atan,atan2:Math.atan2,atanh:Math.atanh,atn:Math.atan,avg:function(t,...r){return Array.isArray(t)&&0===t.length?A.trigger("Array must contain at least one element!","InvalidArgumentError",0):(r=[].concat.apply([],[t,...r])).reduce(function(t,r){return h(r,0)+h(t,0)})/r.length},average:function(t,...r){return Array.isArray(t)&&0===t.length?A.trigger("Array must contain at least one element!","InvalidArgumentError",0):(r=[].concat.apply([],[t,...r])).reduce(function(t,r){return h(r,0)+h(t,0)})/r.length},bindec:t,ceil:Math.ceil,cos:Math.cos,cosec:function(t){return Math.sin(1/t)},csc:function(t){return Math.sin(1/t)},cosh:Math.cosh,ctg:function(t){return Math.cos(t)/Math.sin(t)},cot:function(t){return Math.cos(t)/Math.sin(t)},cotan:function(t){return Math.cos(t)/Math.sin(t)},cotg:function(t){return Math.cos(t)/Math.sin(t)},ctn:function(t){return Math.cos(t)/Math.sin(t)},decbin:r,dechex:e,decoct:a,deg2rad:i,exp:Math.exp,expm1:Math.expm1,floor:Math.floor,int:Math.floor,fmod:function(t,r){return t%r},hexdec:_,hypot:g,if:function(t,r,n){t=0===t||1===t||!0===t||!1===t?t:u.execute(t);return t?u.execute(r):u.execute(n)},intdiv:function(t,r){return Math.trunc(Math.trunc(t)/Math.trunc(r))},ln:Math.log,lg:Math.log10,log:Math.log,log1p:Math.log1p,max:function(t,...r){return Array.isArray(t)&&0===t.length?A.trigger("Array must contain at least one element!","InvalidArgumentError",0):(t=(t=Array.isArray(t)?t:[t,...r]).map(h),Math.max(...t))},min:function(t,...r){return Array.isArray(t)&&0===t.length?A.trigger("Array must contain at least one element!","InvalidArgumentError",0):(t=(t=Array.isArray(t)?t:[t,...r]).map(h),Math.min(...t))},octdec:p,pi:function(){return Math.PI},pow:Math.pow,rad2deg:function(t){return 57.29577951308232*t},round:o,sin:Math.sin,sinh:Math.sinh,sec:function(t){return 1/Math.cos(t)},sqrt:Math.sqrt,tan:Math.tan,tanh:Math.tanh,tn:Math.tan,tg:Math.tan,lookuptable:function(t,r){var n,e=0,a=0,i=s.TMEPOJS;if(i&&(i=s&&s.jQuery&&s.jQuery.epoAPI&&s.jQuery.epoAPI.util.parseJSON(i.lookupTables))){if(Array.isArray(r)&&(a=r[1],r=r[0]),c(r))return 0;c(a)&&(a=0),t=Array.isArray(t)?(n=t[0],t[1]):(n=t,""),(i=(i=i[r])&&i[a])&&(void 0===(r=(i=i.data)[n])&&n&&void 0!==n&&(0===h(n)?r=i[Object.keys(i)[0]]:n&&(r=i[n=u.find_lookup_table_index(n,i)])),void 0!==r&&(t=t&&void 0!==t?u.find_lookup_table_index(t,r):Object.keys(r)[0],e=h("max"===t?r[Object.keys(r)[Object.keys(r).length-1]]:r[t])))}return e},concat:function(t,...r){return Array.isArray(t)&&0===t.length?A.trigger("Array must contain at least one element!","InvalidArgumentError",0):(Array.isArray(t)?t:[t,...r]).join("")}}},find_lookup_table_index:function(n,t){var r,t=Object.keys(t);return n=h(n),r=t.map(function(t){return"max"===t?t:h(t)}).reduce(function(t,r){return"max"===r&&t<n?r:"max"===t&&r<n?t:t<r?t<n&&n<=r||r<n?r:t:r<n&&n<=t||t<n||"max"===r?t:r}),t=t.map(function(t){return"max"===t?t:h(t)}),!(n>Math.max(...t)||n<Math.min(...t))&&r},default_vars:function(){return{pi:3.141592653589793,e:2.718281828459045}},default_var_validation:function(t,r){return/boolean|number|string/.test(typeof r)||Array.isArray(r)||void 0===r?r:A.trigger("Variable ("+t+") type ("+l(r)+") is not scalar or array!",0)}},v=function(t,r){var n={tokens:[],input:"",operators:{},number_buffer:"",string_buffer:"",allow_negative:!0,in_single_quoted_string:!1,in_double_quoted_string:!1,is_number:function(t){return"0"<=t&&t<="9"},is_alpha:function(t){return"a"<=t&&t<="z"||"A"<=t&&t<="Z"||"_"===t},is_dot:function(t){return"."===t},is_lp:function(t){return"("===t},is_rp:function(t){return")"===t},is_comma:function(t){return","===t},empty_number_buffer_as_literal:function(){this.number_buffer.length&&(this.tokens.push(m(b.LITERAL,this.number_buffer)),this.number_buffer="")},empty_str_buffer_as_variable:function(){""!==this.string_buffer&&(this.tokens.push(m(b.VARIABLE,this.string_buffer)),this.string_buffer="")},tokenize:function(){var r=!1,n=this,e=[];return this.tokens=[],this.input.toString().split("").forEach(function(t){switch(!0){case n.in_single_quoted_string:"\\"===t?r=!r||(n.string_buffer+="\\",!1):"'"===t?r?(n.string_buffer+="'",r=!1):(n.tokens.push(m(b.STRING,n.string_buffer)),n.in_single_quoted_string=!1,n.string_buffer=""):(r&&(n.string_buffer+="\\",r=!1),n.string_buffer+=t);break;case n.in_double_quoted_string:"\\"===t?r=!r||(n.string_buffer+="\\",!1):'"'===t?r?(n.string_buffer+='"',r=!1):(n.tokens.push(m(b.STRING,n.string_buffer)),n.in_double_quoted_string=!1,n.string_buffer=""):(r&&(n.string_buffer+="\\",r=!1),n.string_buffer+=t);break;case"["===t:n.tokens.push(m(b.FUNCTION,"array")),n.allow_negative=!0,n.tokens.push(m(b.LEFTPARENTHESIS,""));break;case" "===t||"\n"===t||"\r"===t||"\t"===t:break;case n.is_number(t):""!==n.string_buffer?n.string_buffer+=t:(n.number_buffer+=t,n.allow_negative=!1);break;case"e"===t.toLowerCase():if(n.number_buffer.length&&-1!==n.number_buffer.indexOf(".")){n.number_buffer+="e",n.allow_negative=!1;break}case n.is_alpha(t):n.number_buffer.length&&(n.empty_number_buffer_as_literal(),n.tokens.push(m(b.OPERATOR,"*"))),n.allow_negative=!1,n.string_buffer+=t;break;case'"'===t:n.in_double_quoted_string=!0;break;case"'"===t:n.in_single_quoted_string=!0;break;case n.is_dot(t):n.number_buffer+=t,n.allow_negative=!1;break;case n.is_lp(t):""!==n.string_buffer?(n.tokens.push(m(b.FUNCTION,n.string_buffer)),n.string_buffer=""):n.number_buffer.length&&(n.empty_number_buffer_as_literal(),n.tokens.push(m(b.OPERATOR,"*"))),n.allow_negative=!0,n.tokens.push(m(b.LEFTPARENTHESIS,t));break;case n.is_rp(t)||"]"===t:n.empty_number_buffer_as_literal(),n.empty_str_buffer_as_variable(),n.allow_negative=!1,n.tokens.push(m(b.RIGHTPARENTHESIS,t));break;case n.is_comma(t):n.empty_number_buffer_as_literal(),n.empty_str_buffer_as_variable(),n.allow_negative=!0,n.tokens.push(m(b.PARAMSEPARATOR,t));break;default:if("-"===t||"+"===t){if(n.allow_negative){n.allow_negative=!1,n.tokens.push(m(b.OPERATOR,"-"===t?"uNeg":"uPos"));break}if(n.number_buffer&&"e"===n.number_buffer[n.number_buffer.length-1]){n.number_buffer+=t;break}}n.empty_number_buffer_as_literal(),n.empty_str_buffer_as_variable(),"$"!==t&&(0<n.tokens.length&&b.OPERATOR===n.tokens[n.tokens.length-1].type?n.tokens[n.tokens.length-1].value+=t:n.tokens.push(m(b.OPERATOR,t))),n.allow_negative=!0}}),this.empty_number_buffer_as_literal(),this.empty_str_buffer_as_variable(),this.tokens.forEach(function(t,r){e[r]=t.type}),e.forEach(function(t,r){0<r&&"space"===t&&"variable"===e[r+1]&&"variable"===e[r-1]&&(n.tokens[r]=new m(b.LITERAL,0),n.tokens.splice(r+1,1),n.tokens.splice(r-1,1))}),this},build_reverse_polish_notation:function(){var r,n,e,a=[],i=[],u=[],o=this;try{this.tokens.forEach(function(t){switch(t.type){case b.LITERAL:case b.VARIABLE:case b.STRING:a.push(t),0<u.length&&0===u[u.length-1]&&u.push(u.pop()+1);break;case b.FUNCTION:0<u.length&&0===u[u.length-1]&&u.push(u.pop()+1),i.push(t),u.push(0);break;case b.LEFTPARENTHESIS:i.push(t);break;case b.PARAMSEPARATOR:for(;b.LEFTPARENTHESIS!==i[i.length-1].type;){if(0===i.length)return A.trigger("Incorrect Brackets","IncorrectBracketsError",a);a.push(i.pop())}u.push(u.pop()+1);break;case b.OPERATOR:if(!f(t.value,o.operators))return A.trigger(t.value,"UnknownOperatorError",a);for(e=o.operators[t.value];0<i.length&&b.OPERATOR===i[i.length-1].type;){if(!f(i[i.length-1].value,o.operators))return A.trigger(i[i.length-1].value,"UnknownOperatorError",a);if(!(o.operators[i[i.length-1].value].priority>=e.priority))break;a.push(i.pop())}i.push(t);break;case b.RIGHTPARENTHESIS:for(;;)try{if(r=i.pop(),b.LEFTPARENTHESIS===r.type)break;a.push(r)}catch(t){return A.trigger("Incorrect Brackets","IncorrectBracketsError",a)}0<i.length&&b.FUNCTION===i[i.length-1].type&&((n=i.pop()).param_count=u.pop(),a.push(n));break;case b.SPACE:}})}catch(t){return a=[],A.trigger(t,"Error",a)}for(;0!==i.length;){if(b.LEFTPARENTHESIS===i[i.length-1].type||b.RIGHTPARENTHESIS===i[i.length-1].type)return A.trigger("Incorrect Brackets","IncorrectBracketsError",a);b.SPACE===i[i.length-1].type?i.pop():a.push(i.pop())}return a}};return n.input=t,n.operators=r,n},b={LITERAL:"literal",VARIABLE:"variable",OPERATOR:"operator",LEFTPARENTHESIS:"LP",RIGHTPARENTHESIS:"RP",FUNCTION:"function",PARAMSEPARATOR:"separator",STRING:"string",SPACE:"space"},m=function(t,r,n){var e={type:b.LITERAL,value:void 0,name:void 0,param_count:null};return e.type=t,e.value=r,e.name=n,e},d=function(t,r,n,e){var a={operator:"",is_right_assoc:!1,priority:0,function:null,places:0};return a.operator=t,a.is_right_assoc=r,a.priority=n,a.function=e,a.places=function(t){var r=/^(function)?\s*[^\(]*\(\s*([^\)]*)\)/m;const n=/^\s*(_?)(.+?)\1\s*$/;return((t||"").toString().replace(/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,"").match(r)||["","",""])[2].split(/,/).map(function(t){return t.replace(n,function(t,r,n){return n.split("=")[0].trim()})}).filter(String).length}(e),a.execute=function(t){var r,n,e=[];if(t.length<this.places)return t.splice(0,t.length),A.trigger("Incorrect Expression","IncorrectExpressionError",new m(b.LITERAL,0));for(r=0;r<this.places;r++)e.unshift(t.pop().value);return n=this.function.apply(null,e),"number"!==l(n)&&"string"!==l(n)&&(n=0),new m(b.LITERAL,n)},a},y=function(t,r){var n={name:"",function:void 0,required_param_count:void 0};return n.name=t,n.function=r,n.required_param_count=r.length,n.execute=function(t,r){var n,e,a,i=[];if((r=r<this.required_param_count?this.required_param_count:r)<this.required_param_count)return t.splice(0,t.length),A.trigger(this.name,"IncorrectNumberOfFunctionParametersError",new m(b.LITERAL,0));if(0<r)for(n=0;n<r;n++)null===(e=t.length?t.pop().value:0)?i.push(e="0"):i.unshift(e);return a=this.function.apply(null,i),m(b.LITERAL,a=a!==1/0&&a!==-1/0?a:0)},n},E=function(t,r){var n={functions:{},operators:{}};return n.functions=t,n.operators=r,n.calculate=function(t,e,a=null,i=!1){var u=this,o=[];if(c(t))return 0;try{t.forEach(function(t){var r,n;if(b.LITERAL===t.type||b.STRING===t.type)o.push(t);else if(b.VARIABLE===t.type)r=t.value,n=null,f(r,e)?n=e[r]:a&&"function"==typeof a?n=a(r):(i.variables[n=r]=n,e[r]=n),o.push(m(b.LITERAL,n,r));else if(b.FUNCTION===t.type){if(!f(t.value,u.functions)){if(i.add_function(t.value,function(){return 0}),u.functions=i.functions,!f(t.value,u.functions))return A.trigger(t.value,"UnknownFunctionError",0);A.trigger(t.value,"UnknownFunctionError",0)}o.push(u.functions[t.value].execute(o,t.param_count))}else if(b.OPERATOR===t.type){if(!f(t.value,u.operators))return A.trigger(t.value,"UnknownOperatorError",0);o.push(u.operators[t.value].execute(o))}})}catch(t){s.TMEPOJS&&s.TMEPOJS.WP_DEBUG&&s.console.log(t)}return null!==(t=o.pop())&&c(o)?(!1===t.value&&(t.value=0),!0===t.value&&(t.value=1),"string"===l(t.value)&&t.value.isNumeric()&&(t.value=h(t.value)),t.value):A.trigger("Stack must be empty","IncorrectExpressionError",0)},n},A={trigger:function(t,r="",n=!1){return s.TMEPOJS&&s.TMEPOJS.WP_DEBUG&&(s.console.log(r+"\n"+t),s.console.trace()),n}};s.tcmexp=u.construct()}(window);!function(y,n,i){"use strict";function r(t,a,i,e,r){var o=this;o.field=a,o.currentCart=i,o.variableProductContainers=e,o.epoObject=r,o.$form=t,o.$wrap=t.closest(".tc-epo-element-product-container-wrap"),o.$attributeFields=t.find(".tc-epo-variable-product-selector"),o.$singleVariation=t.find(".tc-epo-element-single-variation"),o.$resetVariations=t.find(".tc-epo-element-variable-reset-variations"),o.variationData=t.data("product_variations"),o.useAjax=!1===o.variationData,o.xhr=!1,o.loading=!0,o.variationId=t.closest(".tc-epo-element-product-li-container").find(".tc-epo-element-product-container-variation-id input.product-variation-id"),o.getChosenAttributes=o.getChosenAttributes.bind(o),o.findMatchingVariations=o.findMatchingVariations.bind(o),o.isMatch=o.isMatch.bind(o),o.toggleResetLink=o.toggleResetLink.bind(o),t.on("click.tc-variation-form",".tc-epo-element-variable-reset-variations",{variationForm:o},o.onReset),t.on("tc_hide_variation",{variationForm:o},o.onHide),t.on("tc_show_variation",{variationForm:o},o.onShow),t.on("tc_reset_data",{variationForm:o},o.onResetDisplayedVariation),t.on("tc_reset_image",{variationForm:o},o.onResetImage),t.on("change.tc-variation-form",".tc-epo-variable-product-selector",{variationForm:o},o.onChange),t.on("tc_found_variation.tc-variation-form",{variationForm:o},o.onFoundVariation),t.on("tc_check_variations.tc-variation-form",{variationForm:o},o.onFindVariation),t.on("tc_update_variation_values.tc-variation-form",{variationForm:o},o.onUpdateAttributes),t.on("refresh.tc-variation-form",{variationForm:o},o.onRefreshContainer),t.on("update_field.tc-variation-form",{variationForm:o},o.onUpdateField),o.variationId.val(""),setTimeout(function(){t.trigger("refresh"),t.trigger("tc_variation_form"),o.loading=!1},100)}function l(t){var a=i.getElementById("tmpl-"+t).textContent;return/<#\s?data\./.test(a)||/{{{?\s?data\.(?!variation\.).+}}}?/.test(a)||/{{{?\s?data\.variation\.[\w-]*[^\s}]/.test(a)?n.wp.template(t):function(t){var r,o=t.variation||{};return a.replace(/({{{?)\s?data\.variation\.([\w-]*)\s?(}}}?)/g,function(t,a,i,e){return a.length!==e.length?"":(r=o[i]||"",2===a.length?n.escape(r):r)})}}r.prototype.onRefreshContainer=function(t){t=t.data.variationForm;t.variableProductContainers.find(".tc-epo-element-product-container").removeClass("variations_form"),t.$form.addClass("variations_form"),t.$form.trigger("tc_check_variations.tc-variation-form")},r.prototype.onUpdateField=function(t,a){var i=t.data.variationForm;t.preventDefault(),a||((a=t=i.field).is("select")&&(a=t.find("option:selected")),t.data("price_set",1),a.data("associated_price_set",1),a.data("price_set",1),a.data("raw_price",0),a.data("raw_original_price",0),a.data("price",0),a.data("original_price",0),t.data("price-changed",1),i.$form.trigger({type:"tm-epo-update",norules:2}),i.currentCart.trigger({type:"tm-epo-update",norules:2}))},r.prototype.onReset=function(t){t.preventDefault(),t.data.variationForm.$attributeFields.val("").trigger("change"),t.data.variationForm.$form.trigger("tc_reset_data")},r.prototype.onHide=function(t){t.preventDefault()},r.prototype.onShow=function(t){t.preventDefault()},r.prototype.onResetDisplayedVariation=function(t){t=t.data.variationForm;t.$form.find(".product-meta").find(".tc-product-sku").tc_reset_content(),t.$form.trigger("tc_reset_image"),t.$singleVariation.slideUp(200).trigger("tc_hide_variation")},r.prototype.onResetImage=function(t){t.data.variationForm.$form.tc_variations_image_update(!1)},r.prototype.onFindVariation=function(t){var a,i=t.data.variationForm,e=i.getChosenAttributes(),t=e.data;if(e.count===e.chosenCount)if(i.useAjax){if("undefined"==typeof wc_add_to_cart_variation_params)return;i.xhr&&i.xhr.abort(),a=i.$form.closest(".cpf-type-product"),i.$form.block({message:null,overlayCSS:{background:"#fff",opacity:.6}}),t.product_id=parseInt(i.$form.data("product_id"),10),t.discount=a.attr("data-discount"),t.discount_type=a.attr("data-discount-type"),t.discount_exclude_addons=a.attr("data-discount-exclude-addons"),i.xhr=y.ajax({url:wc_add_to_cart_variation_params.wc_ajax_url.toString().replace("%%endpoint%%","get_variation"),type:"POST",data:t,success:function(t){t?i.$form.trigger("tc_found_variation",[t]):(i.$form.trigger("tc_reset_data"),e.chosenCount=0,i.loading||(i.$form.find(".tc-epo-element-single-variation").after('<p class="wc-no-matching-variations woocommerce-info">'+wc_add_to_cart_variation_params.i18n_no_matching_variations_text+"</p>"),i.$form.find(".wc-no-matching-variations").slideDown(200),i.$form.trigger("update_field",[])))},complete:function(){i.$form.unblock()}})}else i.$form.trigger("tc_update_variation_values"),(a=i.findMatchingVariations(i.variationData,t).shift())?i.$form.trigger("tc_found_variation",[a]):(i.$form.trigger("tc_reset_data"),e.chosenCount=0,i.loading||(i.$form.find(".tc-epo-element-single-variation").after('<p class="wc-no-matching-variations woocommerce-info">'+wc_add_to_cart_variation_params.i18n_no_matching_variations_text+"</p>"),i.$form.find(".wc-no-matching-variations").slideDown(200)));else i.variationId.val("").trigger("change"),i.$form.trigger("update_field",[]),i.$form.trigger("tc_update_variation_values"),i.$form.trigger("tc_reset_data");i.toggleResetLink(0<e.chosenCount)},r.prototype.onFoundVariation=function(t,a){var t=t.data.variationForm,i=t.$form.find(".product-meta").find(".tc-product-sku"),e=t.$wrap.find(".tm-quantity-alt"),r=e.find("input.tm-qty-alt"),o=y.epoAPI.math.toInt(r.attr("data-min")),n=y.epoAPI.math.toInt(r.attr("data-max")),c=r.attr("data-max"),s=!0,_=!1,d="";a.sku?i.tc_set_content(a.sku):i.tc_reset_content(),t.$form.tc_variations_image_update(a),_=a.variation_is_visible?l("variation-template"):l("unavailable-variation-template"),t.field.attr("data-no-price")&&(a.display_price="",a.display_regular_price="",a.price_html=""),t.$form.find(".tc-epo-element-product-container-cart").find(".stock").remove(),d=(d=(d=_({variation:a})).replace("/*<![CDATA[*/","")).replace("/*]]>*/",""),t.$singleVariation.html(d),t.variationId.val(a.variation_id).trigger("change"),"yes"===a.is_sold_individually?(r.val("1").attr("min","1").attr("max","1"),e.hide()):(""!==a.min_qty&&a.min_qty>o&&0<o&&(o=a.min_qty),""!==a.max_qty&&a.max_qty<n&&(n=a.max_qty),""!==o?r.attr("min",o):r.removeAttr("min"),""!==c?r.attr("max",n):r.removeAttr("max"),n&&y.epoAPI.math.toInt(r.val())>n&&r.val(n),o>y.epoAPI.math.toInt(r.val())&&r.val(o),e.show()),a.is_purchasable&&a.is_in_stock&&a.variation_is_visible||(s=!1,r.val("0").attr("min","0").attr("max","0"),e.hide()),r.trigger("change"),(y.epoAPI.util.trim(t.$singleVariation.text())?t.$singleVariation.slideDown(200):t.$singleVariation.show()).trigger("tc_show_variation",[a,s]),t.$form.trigger("update_field",[a])},r.prototype.onChange=function(t){var t=t.data.variationForm,a=t.field;t.variationId.val("").trigger("change"),t.$form.find(".wc-no-matching-variations").remove(),t.useAjax||t.$form.trigger("woocommerce_variation_select_change"),t.$form.trigger("tc_check_variations"),t.$form.trigger("woocommerce_variation_has_changed"),setTimeout(function(){a.closest(".tcowl-carousel").trigger("refresh.owl.carousel")},50)},r.prototype.onUpdateAttributes=function(t){var w=t.data.variationForm,b=w.getChosenAttributes().data;w.useAjax||(w.$attributeFields.each(function(t,a){var i,e,r,o,n,c,s,_,d,l,m,v=y(a),g=v.data("attribute_name")||v.attr("name"),a=y(a).data("show_option_none"),p=":gt(0)",f=y("<select/>"),u=v.val()||"",h=!0;for(r in v.data("attribute_html")||((i=v.clone()).find("option").prop("disabled",!1).prop("selected",!1).removeAttr("attached"),v.data("attribute_options",i.find("option"+p).get()),v.data("attribute_html",i.html())),f.html(v.data("attribute_html")),(i=y.extend(!0,{},b))[g]="",e=w.findMatchingVariations(w.variationData,i))if(void 0!==e[r])for(s in c=e[r].attributes)if(Object.prototype.hasOwnProperty.call(c,s)&&(_=c[s],d="",s===g))if(e[r].variation_is_active&&(d="enabled"),_){if(_=y("<div/>").html(_).text(),(l=f.find("option")).length)for(o=0,n=l.length;o<n;o++)if(_===(m=y(l[o])).val()){m.addClass("attached "+d);break}}else f.find("option:gt(0)").addClass("attached "+d);i=f.find("option.attached").length,u&&(h=!1,0!==i&&f.find("option.attached.enabled").each(function(){var t=y(this).val();if(u===t)return!(h=!0)})),0<i&&u&&h&&"no"===a&&(f.find("option:first").remove(),p=""),f.find("option"+p+":not(.attached)").remove(),v.html(f.html()),v.find("option"+p+":not(.enabled)").prop("disabled",!0),u?h?v.val(u):v.val("").trigger("change"):v.val("")}),w.$form.trigger("woocommerce_update_variation_values"))},r.prototype.getChosenAttributes=function(){var i={},e=0,r=0;return this.$attributeFields.each(function(){var t=y(this).data("attribute_name")||y(this).attr("name"),a=y(this).val()||"";0<a.length&&r++,e++,i[t]=a}),{count:e,chosenCount:r,data:i}},r.prototype.findMatchingVariations=function(t,a){for(var i,e=[],r=0;r<t.length;r++)i=t[r],this.isMatch(i.attributes,a)&&e.push(i);return e},r.prototype.isMatch=function(t,a){var i,e,r,o=!0;for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&(i=t[r],e=a[r],void 0!==i&&void 0!==e&&0!==i.length&&0!==e.length&&i!==e&&(o=!1));return o},r.prototype.toggleResetLink=function(t){t?"hidden"===this.$resetVariations.css("visibility")&&this.$resetVariations.css("visibility","visible").hide().fadeIn():this.$resetVariations.css("visibility","hidden")},y.fn.tc_product_variation_form=function(t,a,i,e){return new r(this,t,a,i,e),this.trigger("tc_product_variation_form"),this},y.fn.tc_set_content=function(t){void 0===this.attr("data-o_content")&&this.attr("data-o_content",this.text()),this.text(t)},y.fn.tc_reset_content=function(){void 0!==this.attr("data-o_content")&&this.text(this.attr("data-o_content"))},y.fn.tc_set_variation_attr=function(t,a){void 0===this.attr("data-o_"+t)&&this.attr("data-o_"+t,this.attr(t)?this.attr(t):""),!1===a?this.removeAttr(t):this.attr(t,a)},y.fn.tc_reset_variation_attr=function(t){void 0!==this.attr("data-o_"+t)&&this.attr(t,this.attr("data-o_"+t))},y.fn.tc_variations_image_update=function(t){var a=this.find(".tc-product-image, .woocommerce-product-gallery__image, .woocommerce-product-gallery__image--placeholder").eq(0),i=a.find(".wp-post-image"),e=a.find("a").eq(0);t&&t.image&&t.image.src&&1<t.image.src.length?(i.tc_set_variation_attr("src",t.image.src),i.tc_set_variation_attr("height",t.image.src_h),i.tc_set_variation_attr("width",t.image.src_w),i.tc_set_variation_attr("srcset",t.image.srcset),i.tc_set_variation_attr("sizes",t.image.sizes),i.tc_set_variation_attr("title",t.image.title),i.tc_set_variation_attr("data-caption",t.image.caption),i.tc_set_variation_attr("alt",t.image.alt),i.tc_set_variation_attr("data-src",t.image.full_src),i.tc_set_variation_attr("data-large_image",t.image.full_src),i.tc_set_variation_attr("data-large_image_width",t.image.full_src_w),i.tc_set_variation_attr("data-large_image_height",t.image.full_src_h),a.tc_set_variation_attr("data-thumb",t.image.src),e.tc_set_variation_attr("href",t.image.full_src)):this.tc_variations_image_reset()},y.fn.tc_variations_image_reset=function(){var t=this.find(".tc-product-image, .woocommerce-product-gallery__image, .woocommerce-product-gallery__image--placeholder").eq(0),a=t.find(".wp-post-image"),i=t.find("a").eq(0);a.tc_reset_variation_attr("src"),a.tc_reset_variation_attr("width"),a.tc_reset_variation_attr("height"),a.tc_reset_variation_attr("srcset"),a.tc_reset_variation_attr("sizes"),a.tc_reset_variation_attr("title"),a.tc_reset_variation_attr("data-caption"),a.tc_reset_variation_attr("alt"),a.tc_reset_variation_attr("data-src"),a.tc_reset_variation_attr("data-large_image"),a.tc_reset_variation_attr("data-large_image_width"),a.tc_reset_variation_attr("data-large_image_height"),t.tc_reset_variation_attr("data-thumb"),i.tc_reset_variation_attr("href")}}(window.jQuery,window,document);!function(o){"use strict";function a(t,e){return this.element=o(t),this.settings=o.extend({},o.fn.tcFloatBox.defaults,e),this.settings.type="<"+this.settings.type+">",this.top=0,this.left=0,this.ticking=!1,1===this.element.length&&(this.init(),this)}a.prototype={constructor:a,destroy:function(){var t=this.settings;return void 0!==this.instance&&(o.fn.tcFloatBox.instances.splice(this.instance,1),delete this.instance,t.hideelements&&o("embed, object, select").css({visibility:"visible"}),t._ovl&&(t._ovl.off(),t._ovl.remove(),delete t._ovl),o(t.floatboxID).remove(),this.element.removeData("tcfloatbox"),o(window).off("scroll.tcfloatbox"+this.instance),o(window).off("resize.tcfloatbox"+this.instance)),this},hide:function(){var t=this.settings;t.hideelements&&o("embed, object, select").css({visibility:"visible"}),!0===t.showoverlay&&t._ovl&&t._ovl.hide(),o(t.floatboxID).addClass("tc-closing").removeClass(t.animateIn).addClass(t.animateOut),o(t.floatboxID).animate({opacity:0},t.closefadeouttime,function(){o(t.floatboxID).hide(),o(t.floatboxID).removeClass("tc-closing").addClass("tc-closed")}),o(window).off("scroll.tcfloatbox"+this.instance),o(window).off("resize.tcfloatbox"+this.instance)},requestTick:function(){var t=this.settings;this.ticking||(t.refresh?setTimeout(this.requestAnimationFrame.bind(this),t.refresh):requestAnimationFrame(this.update),this.ticking=!0)},requestAnimationFrame:function(){requestAnimationFrame(this.update.bind(this))},update:function(){this.render(),this.ticking=!1},doit:function(){this.requestTick()},render:function(){var t=this.settings,e=o.epoAPI.dom.size(),i="fixed"===t.refresh?{top:0,left:0}:o.epoAPI.dom.scroll(),s=parseInt(i.top+(e.visibleHeight-o(t.floatboxID).height())/2,10),i=parseInt(i.left+(e.visibleWidth-o(t.floatboxID).width())/2,10);s=parseInt((s-this.top)/t.fps,10),i=parseInt((i-this.left)/t.fps,10),this.top+=s,this.left+=i,o(t.floatboxID).css({top:this.top+"px",left:this.left+"px",opacity:1})},show:function(){var t,e,i=this.settings;1===this.element.length&&(void 0===this.instance&&this.init(),i.hideelements&&o("embed, object, select").css({visibility:"hidden"}),e=o.epoAPI.dom.size(),!0===i.showoverlay&&(i._ovl?i._ovl.show():(i._ovl=o('<div class="fl-overlay"></div>').css({zIndex:parseInt(i.zIndex,10)-1,opacity:i.overlayopacity}),i._ovl.appendTo("body"),i.ismodal||(i.cancelEvent||i.unique?i._ovl.on("click",this.applyCancelEvent.bind(this)):i._ovl.on("click",i.cancelfunc.bind(this))))),i.showfunc&&i.showfunc.call(),o(i.floatboxID).removeClass("tc-closing").addClass(i.animationBaseClass+" "+i.animateIn),"fixed"===i.refresh?(!1!==i.top?t=i.top:(t=parseInt((e.visibleHeight-o(i.floatboxID).height())/2,10),t+="px"),o(i.floatboxID).css({position:"fixed",top:t}),!1!==i.left&&o(i.floatboxID).css({left:i.left})):this.render())},applyCancelEvent:function(){var t=this.settings;!0===t.cancelEvent?this.destroy():"function"==typeof t.cancelEvent&&t.cancelEvent.call(this,this)},applyCancelEventFromKey:function(t){27===t.which&&this.applyCancelEvent()},applyUpdateEvent:function(){var t=this.settings;"function"==typeof t.updateEvent&&t.updateEvent.call(this,this)},applyUpdateEventFromKey:function(t){13===t.which&&this.applyUpdateEvent()},init:function(){var t,e,i=this.settings;1===this.element.length&&(0<o.fn.tcFloatBox.instances.length&&(i.zIndex=parseInt(o.fn.tcFloatBox.instances[o.fn.tcFloatBox.instances.length-1].zIndex,10)+100),this.instance=o.fn.tcFloatBox.instances.length,o.fn.tcFloatBox.instances.push(i),i.id=i.id+this.instance,i.floatboxID="#"+o.epoAPI.dom.id(i.id),this.hide(),t=o.epoAPI.dom.size(),e=o.epoAPI.dom.scroll(),o(i.type).attr("id",i.id).addClass(i.classname).html(i.data).appendTo(this.element),o(i.floatboxID).css({width:i.width,height:i.height}),e=parseInt(e.left+(t.visibleWidth-o(i.floatboxID).width())/2,10),o(i.floatboxID).css({top:"0px",left:e+"px","z-index":i.zIndex}),this.top=0,this.left=e,this.cancelfunc=i.cancelfunc,i.cancelEvent&&i.cancelClass&&(o(i.floatboxID).find(i.cancelClass).on("click",this.applyCancelEvent.bind(this)),i.isconfirm&&o(document).off("keyup.escape-"+i.floatboxID).on("keyup.escape-"+i.floatboxID,this.applyCancelEventFromKey.bind(this))),i.updateEvent&&i.updateClass&&(o(i.floatboxID).find(i.updateClass).on("click",this.applyUpdateEvent.bind(this)),i.isconfirm&&o(document).off("keyup.enter-"+i.floatboxID).on("keyup.enter-"+i.floatboxID,this.applyUpdateEventFromKey.bind(this))),this.show(),"fixed"!==i.refresh&&o(window).on("scroll.tcfloatbox"+this.instance,this.doit.bind(this)),o(window).on("resize.tcfloatbox"+this.instance,this.doit.bind(this)))}},o.fn.tcFloatBox=function(t){var e,i=o(this),s=i.data("tcfloatbox"),n="object"==typeof t?t:{};return s||(s=new a(this,n),i.data("tcfloatbox",s)),void 0===(e="string"==typeof t?s[t].apply(s,[]):e)?i:e},o.fn.tcFloatBox.defaults={id:"flasho",classname:"flasho",type:"div",data:"",width:"500px",height:"auto",closefadeouttime:1e3,animationBaseClass:"tm-animated",animateIn:"fadein",animateOut:"fadeout",top:!1,left:!1,refresh:!1,fps:4,hideelements:!1,showoverlay:!0,zIndex:100100,ismodal:!1,cancelfunc:a.prototype.hide,showfunc:null,cancelEvent:!0,cancelClass:".floatbox-cancel",updateEvent:!1,updateClass:!1,unique:!0,overlayopacity:.5,isconfirm:!1},o.fn.tcFloatBox.instances=[],o.fn.tcFloatBox.Constructor=a,o.tcFloatBox=function(t){var e=o("body"),i=!1;return e.map(function(){return o(this).data("tcfloatbox")||""}).get().some(function(t){return""===t})||t.unique?(i=new a(e,t),e.data("tcfloatbox",i)):(i=e.data("tcfloatbox")).init(),i}}(window.jQuery);!function(m,u){"use strict";function l(t,i){return this.targets=u(t),this.settings=u.extend({},u.fn.tcToolTip.defaults,i),0<this.targets.length&&(this.init(),this)}var n;u(function(){n=m.TMEPOJS||{tm_epo_global_tooltip_max_width:"340px"}}),l.prototype={constructor:l,removeTooltip:function(t,i){var o=this.settings;t.data("is_moving")||(i.removeClass(o.fadin).addClass(o.fadeout),i.animate({opacity:0},o.speed,function(){u(this).remove()}),t.data("tmtip-title")&&void 0===t.data("tm-tip-html")&&!t.attr("data-tm-tooltip-html")&&t.attr("title",t.data("tmtip-title")),u(m).off("scroll.tcToolTip resize.tcToolTip"),o.onetime&&this.destroy())},initTooltip:function(t,i,o){var a,e,l,s,d=this.settings;t&&i&&1===t.length&&1===i.length&&1===t.data("tm-has-tm-tip")&&(1===o&&(a=void 0!==t.data("tm-tip-html")?t.data("tm-tip-html"):t.attr("data-tm-tooltip-html")?t.attr("data-tm-tooltip-html"):t.attr("title"),i.html(a),t.data("is_moving",!0)),i.find("aside").hide(),""===n.tm_epo_global_tooltip_max_width?u(m).width()<=1.2*i.outerWidth()?i.css("max-width",u(m).width()/1.2+"px"):i.css("max-width","340px"):(n.tm_epo_global_tooltip_max_width.isNumeric()&&(n.tm_epo_global_tooltip_max_width=n.tm_epo_global_tooltip_max_width+"px"),i.css("max-width",n.tm_epo_global_tooltip_max_width)),i.find("aside").show(),i.css({left:"",right:"",top:""}),a=u.epoAPI.dom.scroll(),(s=e=t.offset().left+t.outerWidth()/2-i.outerWidth()/2)<0?(e=t.offset().left+t.outerWidth()/2-20,i.addClass("left")):i.removeClass("left"),0<=s&&e+i.outerWidth()>u(m).width()?((e=t.offset().left-i.outerWidth()+t.outerWidth()/2+20)<0&&(e-=10,i.css("max-width","calc("+i.css("max-width")+" - "+Math.abs(e)+"px)"),e=10),i.addClass("right")):i.removeClass("right"),i.css({left:e,right:"auto",top:l}),l=t.offset().top-i.outerHeight()-10,s=t.offset().top-a.top-i.outerHeight()-10,l<0||s<0?(l=t.offset().top+t.outerHeight()+10,i.addClass("top"),i.removeClass("bottom")):(i.removeClass("top"),i.addClass("bottom")),u(m).trigger("tm_tooltip_show"),o?(i.css({left:e,top:l}),t.data("is_moving",!1)):i.css({left:e,top:l}).removeClass(d.fadeout).addClass(d.fadin))},show:function(t){var i,o=this.settings;if(!t.data("is_moving"))return 1===t.data("tm-has-tm-tip")&&(void 0!==t.data("tm-tip-html")?(i=t.data("tm-tip-html"),t.attr("title")&&t.data("tmtip-title",t.attr("title")),t.removeAttr("title")):t.attr("data-tm-tooltip-html")?(i=t.attr("data-tm-tooltip-html"),t.attr("title")&&t.data("tmtip-title",t.attr("title")),t.removeAttr("title")):i=t.attr("title"),void 0!==i&&(u("#tm-tooltip").remove(),o.tipclass?o.tipclass=" "+o.tipclass:o.tipclass="",(o=u('<div id="tm-tooltip" class="tm-tip tm-animated'+o.tipclass+'"></div>')).css("opacity",0).html(i).appendTo("body"),0<(i=o.find("img")).length&&i.on("load",this.initTooltip.bind(this,t,o)),this.initTooltip(t,o),u(m).on("scroll.tcToolTip resize.tcToolTip",this.initTooltip.bind(this,t,o)),t.data("is_moving",!1),t.on("tmmovetooltip",this.initTooltip.bind(this,t,o,1)),t.on("mouseleave.tc tmhidetooltip",this.removeTooltip.bind(this,t,o)),t.closest("label").on("mouseleave.tc tmhidetooltip",this.removeTooltip.bind(this,t,o)),o.on("click",this.removeTooltip.bind(this,t,o)))),!1},destroy:function(){0<this.targets.length&&(this.targets.toArray().forEach(function(t){t=u(t);t.closest("off").on("mouseleave.tc tmhidetooltip"),t.off("tc-tooltip-html-changed tmmovetooltip tmhidetooltip mouseenter.tc mouseleave.tc tmshowtooltip.tc"),t.removeData("tmtip-title"),t.removeData("tm-tip-html")}),this.targets.removeData("tctooltip tm-has-tm-tip is_moving"))},init:function(){var f=this,g=this.settings;0<this.targets.length&&this.targets.toArray().forEach(function(t){var i,o,a,e,l,s,d,m,n,r,h,p,c=u(t),t=g.tip||void 0;void 0===c.data("tm-has-tm-tip")&&(i=c.attr("data-tm-tooltip-swatch"),o=c.attr("data-tm-tooltip-swatch-desc"),a=c.attr("data-tm-tooltip-swatch-lbl-desc"),e=c.attr("data-tm-tooltip-swatch-img"),l=c.attr("data-tm-tooltip-swatch-img-lbl"),s=c.attr("data-tm-tooltip-swatch-img-desc"),d=c.attr("data-tm-tooltip-swatch-img-lbl-desc"),c.data("tm-has-tm-tip",1),r=void 0!==c.attr("data-original")?c.attr("data-original"):void 0!==c.attr("src")?void 0!==c.attr("data-src")?c.attr("data-src"):c.attr("src"):c[0].src,0===(h=0===(h=0===(h=(p=0===(p=0===(p=(p=c.closest(".tmcp-field-wrap")).is(".tc-epo-element-product-holder")?c.closest(".cpf-element"):p).length?c.closest(".cpf-element"):p).length?c.closest(".cpf-section").find(".tc-section-inner-wrap .tm-section-description.tm-description"):p).find(".tm-tip-html")).length?p.find(".checkbox-image-label,.checkbox-image-label-inline,.radio-image-label,.radio-image-label-inline"):h).length?p.next(".checkbox-image-label,.checkbox-image-label-inline,.radio-image-label,.radio-image-label-inline,.tm-tip-html"):h).length&&p.is(".tm-description")&&(h=p),h=u(p=h),p="yes"===c.attr("data-tm-hide-label")||void 0===c.attr("data-tm-hide-label")||h.is(".tm-tip-html"),n="",0===(m=(m=c.closest(".tmcp-field-wrap")).find("[data-tm-tooltip-html]")).length?0<(m=c.closest(".tmcp-field-wrap").find(".tc-inline-description")).length&&(n=m.html()):n=m.attr("data-tm-tooltip-html"),void 0===t?(i?t=h.html():o&&""!==n?t="<aside>"+n+"</aside>":!a||""===h.html()&&""===n?e&&""!==r?t='<img src="'+r+'">':!l||""===h.html()&&""===r?!s||""===r&&""===n?!d||""===h.html()&&""===r&&""===n||(t='<img src="'+r+'"><aside>'+h.html()+"</aside><aside>"+n+"</aside>"):t='<img src="'+r+'"><aside>'+n+"</aside>":t='<img src="'+r+'"><aside>'+h.html()+"</aside>":t="<aside>"+h.html()+"</aside><aside>"+n+"</aside>",void 0!==t&&(c.data("tm-tip-html",t),p&&h.hide()),t=c.attr("data-tm-tooltip-html")?c.attr("data-tm-tooltip-html"):c.attr("title")):c.data("tm-tip-html",t),c.on("tc-tooltip-html-changed",function(){c.attr("data-tm-tooltip-html")?c.show():c.hide()}),c.closest("label").on("mouseenter tmshowtooltip",f.show.bind(f,c)),c.on("mouseenter.tc tmshowtooltip.tc",f.show.bind(f,c)),g.trigger&&f.show(c))})}},u.fn.tcToolTip=function(t){var i,o,a=u(this),e="object"==typeof t?t:{};return a.map(function(){return u(this).data("tctooltip")||""}).get().some(function(t){return""===t})&&(o=new l(this,e),a.data("tctooltip",o)),void 0===(i="string"==typeof t?(o=a.data("tctooltip"))[t].apply(o,[]):i)?a:i},u.fn.tcToolTip.defaults={fadin:"fadein",fadeout:"fadeout",speed:1500},u.fn.tcToolTip.instances=[],u.fn.tcToolTip.Constructor=l,u.tcToolTip=function(t,i){var o=!1;return(t=t||u(".tm-tooltip")).map(function(){return u(this).data("tctooltip")||""}).get().some(function(t){return""===t})&&(o=new l(t,i),t.data("tctooltip",o)),o}}(window,window.jQuery);!function(t){"use strict";"function"==typeof window.define&&window.define.amd?window.define(["jquery"],t):"object"==typeof window.module&&window.module.exports?window.module.exports=t(window.require("jquery")):t(window.jQuery)}(function(d){"use strict";var i,e,n={};return d.extend(d.fn,{tc_validate:function(t){var s;if(this.length)return(s=d.data(this[0],"tc_validator"))||(this.attr("novalidate","novalidate"),s=new d.tc_validator(t,this[0]),d.data(this[0],"tc_validator",s),s.settings.onsubmit&&(this.on("click.tc_validate",":submit",function(t){s.submitButton=t.currentTarget,d(this).hasClass("cancel")&&(s.cancelSubmit=!0),void 0!==d(this).attr("formnovalidate")&&(s.cancelSubmit=!0)}),this.on("submit.tc_validate",function(i){function t(){var t,e;return s.submitButton&&(s.settings.submitHandler||s.formSubmitted)&&(t=d("<input type='hidden'>").attr("name",s.submitButton.name).val(d(s.submitButton).val()).appendTo(s.currentForm)),!(s.settings.submitHandler&&!s.settings.debug)||(e=s.settings.submitHandler.call(s,s.currentForm,i),t&&t.remove(),void 0!==e&&e)}return s.settings.debug&&i.preventDefault(),s.cancelSubmit?(s.cancelSubmit=!1,t()):s.form()?s.pendingRequest?!(s.formSubmitted=!0):t():(s.focusInvalid(),!1)}))),s},tc_valid:function(){var t,e,i;return d(this[0]).is("form")?t=this.tc_validate().form():(i=[],t=!0,e=d(this[0].form).tc_validate(),this.each(function(){(t=e.element(this)&&t)||(i=i.concat(e.errorList))}),e.errorList=i),t},tc_rules:function(t,e){var i,s,n,r,a,o=this[0],l=void 0!==this.attr("contenteditable")&&"false"!==this.attr("contenteditable");if(null!==o&&(!o.form&&l&&(o.form=this.closest("form")[0],o.name=this.attr("name")),null!==o.form)){if(t)switch(s=(i=d.data(o.form,"tc_validator").settings).rules,n=d.tc_validator.staticRules(o),t){case"add":d.extend(n,d.tc_validator.normalizeRule(e)),delete n.messages,s[o.name]=n,e.messages&&(i.messages[o.name]=d.extend(i.messages[o.name],e.messages));break;case"remove":return e?(a={},d.each(e.split(/\s/),function(t,e){a[e]=n[e],delete n[e]}),a):(delete s[o.name],n)}return(l=d.tc_validator.normalizeRules(d.extend({},d.tc_validator.classRules(o),d.tc_validator.attributeRules(o),d.tc_validator.dataRules(o),d.tc_validator.staticRules(o)),o)).required&&(r=l.required,delete l.required,l=d.extend({required:r},l)),l.remote&&(r=l.remote,delete l.remote,l=d.extend(l,{remote:r})),l}}}),e=function(t){return t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},d.extend(d.expr.pseudos||d.expr[":"],{blank:function(t){return!e(""+d(t).val())},filled:function(t){t=d(t).val();return null!==t&&!!e(""+t)},unchecked:function(t){return!d(t).prop("checked")}}),d.tc_validator=function(t,e){this.settings=d.extend(!0,{},d.tc_validator.defaults,t),this.currentForm=e,this.init()},d.tc_validator.format=function(i,t){return 1===arguments.length?function(){var t=d.makeArray(arguments);return t.unshift(i),d.tc_validator.format.apply(this,t)}:(void 0!==t&&((t=2<arguments.length&&t.constructor!==Array?d.makeArray(arguments).slice(1):t).constructor!==Array&&(t=[t]),d.each(t,function(t,e){i=i.replace(new RegExp("\\{"+t+"\\}","g"),function(){return e})})),i)},d.extend(d.tc_validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",pendingClass:"pending",validClass:"valid",errorElement:"label",focusCleanup:!1,focusInvalid:!0,errorContainer:d([]),errorLabelContainer:d([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(t){this.lastActive=t,this.settings.focusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,t,this.settings.errorClass,this.settings.validClass),this.hideThese(this.errorsFor(t)))},onfocusout:function(t){this.checkable(t)||!(t.name in this.submitted)&&this.optional(t)||this.element(t)},onkeyup:function(t,e){9===e.which&&""===this.elementValue(t)||-1!==d.inArray(e.keyCode,[16,17,18,20,35,36,37,38,39,40,45,144,225])||(t.name in this.submitted||t.name in this.invalid)&&this.element(t)},onclick:function(t){t.name in this.submitted?this.element(t):t.parentNode.name in this.submitted&&this.element(t.parentNode)},highlight:function(t,e,i){("radio"===t.type?this.findByName(t.name):d(t)).addClass(e).removeClass(i)},unhighlight:function(t,e,i){("radio"===t.type?this.findByName(t.name):d(t)).removeClass(e).addClass(i)}},setDefaults:function(t){d.extend(d.tc_validator.defaults,t)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",equalTo:"Please enter the same value again.",maxlength:d.tc_validator.format("Please enter no more than {0} characters."),maxlengthsingle:d.tc_validator.format("Please enter no more than {0} character."),minlength:d.tc_validator.format("Please enter at least {0} characters."),minlengthsingle:d.tc_validator.format("Please enter at least {0} character."),rangelength:d.tc_validator.format("Please enter a value between {0} and {1} characters long."),range:d.tc_validator.format("Please enter a value between {0} and {1}."),max:d.tc_validator.format("Please enter a value less than or equal to {0}."),min:d.tc_validator.format("Please enter a value greater than or equal to {0}."),step:d.tc_validator.format("Please enter a multiple of {0}.")},autoCreateRanges:!1,prototype:{init:function(){var i,n=this.currentForm;function t(t){var e,i,s=void 0!==d(t.data.that).attr("contenteditable")&&"false"!==d(t.data.that).attr("contenteditable");!t.data.that.form&&s&&(t.data.that.form=d(t.data.that).closest("form")[0],t.data.that.name=d(t.data.that).attr("name")),n===t.data.that.form&&(s=d.data(t.data.that.form,"tc_validator"),e="on"+t.type.replace(/^validate/,""),(i=s.settings)[e]&&!d(t.data.that).is(i.ignore)&&i[e].call(s,t.data.that,t))}this.labelContainer=d(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||d(this.currentForm),this.containers=d(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset(),this.groups={},d.each(this.settings.groups,function(t,e){"string"==typeof e&&(e=e.split(/\s/)),d.each(e,function(t,e){e,0})}),i=this.settings.rules,d.each(i,function(t,e){i[t]=d.tc_validator.normalizeRule(e)}),d(this.currentForm).on("focusin.tc_validate focusout.tc_validate keyup.tc_validate",":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'], [type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], [type='radio'], [type='checkbox'], [contenteditable], [type='button']",{that:this},t).on("click.tc_validate","select, option, [type='radio'], [type='checkbox']",{that:this},t),this.settings.invalidHandler&&d(this.currentForm).on("invalid-form.tc_validate",this.settings.invalidHandler)},form:function(){return this.checkForm(),d.extend(this.submitted,this.errorMap),this.invalid=d.extend({},this.errorMap),this.tc_valid()||d(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.tc_valid()},checkForm:function(){var t,e;for(this.prepareForm(),t=0,e=this.elements();e[t];t+=1)this.currentElements=e,this.check(e[t]);return this.tc_valid()},element:function(t){var e,i,s=this.clean(t),n=this.validationTargetFor(s),r=this,a=!0;return void 0===n?delete this.invalid[s.name]:(this.prepareElement(n),this.currentElements=d(n),(i=this.groups[n.name])&&d.each(this.groups,function(t,e){e===i&&t!==n.name&&(s=r.validationTargetFor(r.clean(r.findByName(t))))&&s.name in r.invalid&&(r.currentElements.push(s),a=r.check(s)&&a)}),e=!1!==this.check(n),a=a&&e,this.invalid[n.name]=!e,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),d(t).attr("aria-invalid",!e)),a},showErrors:function(e){var i;e&&(d.extend((i=this).errorMap,e),this.errorList=d.map(this.errorMap,function(t,e){return{message:t,element:i.findByName(e)[0]}}),this.successList=d.grep(this.successList,function(t){return!(t.name in e)})),this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){var t;d.fn.resetForm&&d(this.currentForm).resetForm(),this.invalid={},this.submitted={},this.prepareForm(),this.hideErrors(),t=this.elements().removeData("previousValue").removeAttr("aria-invalid"),this.resetElements(t)},resetElements:function(t){var e;if(this.settings.unhighlight)for(e=0;t[e];e+=1)this.settings.unhighlight.call(this,t[e],this.settings.errorClass,""),this.findByName(t[e].name).removeClass(this.settings.validClass);else t.removeClass(this.settings.errorClass).removeClass(this.settings.validClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(t){var e,i=0;for(e in t)void 0!==t[e]&&null!==t[e]&&!1!==t[e]&&(i+=1);return i},hideErrors:function(){this.hideThese(this.toHide)},hideThese:function(t){t.not(this.containers).text(""),this.addWrapper(t).hide()},tc_valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{d(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").trigger("focus").trigger("focusin")}catch(t){}},findLastActive:function(){var e=this.lastActive;return e&&1===d.grep(this.errorList,function(t){return t.element.name===e.name}).length&&e},elements:function(){var e=this,i={};return d(this.currentForm).find("input, select, textarea, [contenteditable]").not(":submit, :reset, :image, :disabled").not(this.settings.ignore).filter(function(){var t=this.name||d(this).attr("name");return void 0!==d(this).attr("contenteditable")&&"false"!==d(this).attr("contenteditable")&&(this.form=d(this).closest("form")[0],this.name=t),this.form===e.currentForm&&(!(t in i||!e.objectLength(d(this).tc_rules()))&&(i[t]=!0))})},clean:function(t){return d(t)[0]},errors:function(){var t=this.settings.errorClass.split(" ").join(".");return d(this.settings.errorElement+"."+t,this.errorContext)},resetInternals:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=d([]),this.toHide=d([])},reset:function(){this.resetInternals(),this.currentElements=d([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(t){this.reset(),this.toHide=this.errorsFor(t)},elementValue:function(t){var e=d(t),i=t.type,s=void 0!==e.attr("contenteditable")&&"false"!==e.attr("contenteditable");return"radio"===i||"checkbox"===i?this.findByName(t.name).filter(":checked").val():"number"===i&&void 0!==t.validity?t.validity.badInput?"NaN":e.val():(t=s?e.text():e.val(),"file"===i?"C:\\fakepath\\"===t.substring(0,12)?t.substring(12):0<=(s=t.lastIndexOf("/"))||0<=(s=t.lastIndexOf("\\"))?t.substring(s+1):t:"string"==typeof t?t.replace(/\r/g,""):t)},check:function(e){var t,i,s,n,r,a,o,l;for(a in e=this.validationTargetFor(this.clean(e)),t=d(e).tc_rules(),i=d.map(t,function(t,e){return e}).length,s=!1,n=this.elementValue(e),"function"==typeof t.normalizer?l=t.normalizer:"function"==typeof this.settings.normalizer&&(l=this.settings.normalizer),l&&(n=l.call(e,n),delete t.normalizer),t)if(a){o={method:a,parameters:t[a]};try{if("dependency-mismatch"===(r=d.tc_validator.methods[a].call(this,n,e,o.parameters))&&1===i)s=!0;else{if(s=!1,"pending"===r)return void(this.toHide=this.toHide.not(this.errorsFor(e)));if(!r)return this.formatAndAdd(e,o),!1}}catch(t){throw t instanceof TypeError&&(t.message+=".  Exception occurred when checking element "+e.id+", check the '"+o.method+"' method."),t}}if(!s)return this.objectLength(t)&&this.successList.push(e),!0},customDataMessage:function(t,e){return d(t).data("msg"+e.charAt(0).toUpperCase()+e.substring(1).toLowerCase())||d(t).data("msg")},customMessage:function(t,e){t=this.settings.messages[t];return t&&(t.constructor===String?t:t[e])},findDefined:function(){for(var t=0;t<arguments.length;t+=1)if(void 0!==arguments[t])return arguments[t]},defaultMessage:function(t,e){var i,s="";return"minlength"!==(e="string"==typeof e?{method:e}:e).method&&"maxlength"!==e.method||1!==e.parameters&&"1"!==e.parameters||(s="single"),i=/\$?\{(\d+)\}/g,"function"==typeof(s=this.findDefined(this.customMessage(t.name,e.method+s),this.customDataMessage(t,e.method+s),!this.settings.ignoreTitle&&t.title||void 0,d.tc_validator.messages[e.method+s],"<strong>Warning: No message defined for "+t.name+"</strong>"))?s=s.call(this,e.parameters,t):i.test(s)&&(s=d.tc_validator.format(s.replace(i,"{$1}"),e.parameters)),s},formatAndAdd:function(t,e){var i=this.defaultMessage(t,e);this.errorList.push({message:i,element:t,method:e.method}),this.errorMap[t.name]=i,this.submitted[t.name]=i},addWrapper:function(t){return t=this.settings.wrapper?t.add(t.parent(this.settings.wrapper)):t},defaultShowErrors:function(){for(var t,e,i=0;this.errorList[i];i+=1)e=this.errorList[i],this.settings.highlight&&this.settings.highlight.call(this,e.element,this.settings.errorClass,this.settings.validClass),this.showLabel(e.element,e.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(i=0;this.successList[i];i+=1)this.showLabel(this.successList[i]);if(this.settings.unhighlight)for(i=0,t=this.validElements();t[i];i+=1)this.settings.unhighlight.call(this,t[i],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return d(this.errorList).map(function(){return this.element})},showLabel:function(t,e){var i,s,n,r=this.errorsFor(t),a=this.idOrName(t),o=d(t).attr("aria-describedby");r.length?(r.removeClass(this.settings.validClass).addClass(this.settings.errorClass),r.html(e)):(s=r=d("<"+this.settings.errorElement+">").attr("id",a+"-error").addClass(this.settings.errorClass).html(e||""),this.settings.wrapper&&(s=r.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.length?this.labelContainer.append(s):this.settings.errorPlacement?this.settings.errorPlacement.call(this,s,d(t)):s.insertAfter(t),r.is("label")?r.attr("for",a):0===r.parents("label[for='"+this.escapeCssMeta(a)+"']").length&&(s=r.attr("id"),o?o.match(new RegExp("\\b"+this.escapeCssMeta(s)+"\\b"))||(o+=" "+s):o=s,d(t).attr("aria-describedby",o),(i=this.groups[t.name])&&d.each((n=this).groups,function(t,e){e===i&&d("[name='"+n.escapeCssMeta(t)+"']",n.currentForm).attr("aria-describedby",r.attr("id"))}))),!e&&this.settings.success&&(r.text(""),"string"==typeof this.settings.success?r.addClass(this.settings.success):this.settings.success(r,t)),this.toShow=this.toShow.add(r)},errorsFor:function(t){var e=this.escapeCssMeta(this.idOrName(t)),t=d(t).attr("aria-describedby"),e="label[for='"+e+"'], label[for='"+e+"'] *";return t&&(e=e+", #"+this.escapeCssMeta(t).replace(/\s+/g,", #")),this.errors().filter(e)},escapeCssMeta:function(t){return t.replace(/([\\!"#$%&'()*+,.\/:;<=>?@\[\]\^`{|}~])/g,"\\$1")},idOrName:function(t){return this.groups[t.name]||!this.checkable(t)&&t.id||t.name},validationTargetFor:function(t){return this.checkable(t)&&(t=this.findByName(t.name)),d(t).not(this.settings.ignore)[0]},checkable:function(t){return/radio|checkbox/i.test(t.type)},findByName:function(t){return d(this.currentForm).find("[name='"+this.escapeCssMeta(t)+"']")},getLength:function(t,e){switch(e.nodeName.toLowerCase()){case"select":return d("option:selected",e).length;case"input":if(this.checkable(e))return this.findByName(e.name).filter(":checked").length}return t.length},depend:function(t,e){return!this.dependTypes[typeof t]||this.dependTypes[typeof t](t,e)},dependTypes:{boolean:function(t){return t},string:function(t,e){return!!d(t,e.form).length},function:function(t,e){return t(e)}},optional:function(t){var e=this.elementValue(t);return!d.tc_validator.methods.required.call(this,e,t)&&"dependency-mismatch"},startRequest:function(t){this.pending[t.name]||(this.pendingRequest+=1,d(t).addClass(this.settings.pendingClass),this.pending[t.name]=!0)},stopRequest:function(t,e){--this.pendingRequest,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[t.name],d(t).removeClass(this.settings.pendingClass),e&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(d(this.currentForm).trigger("submit"),this.submitButton&&d("input:hidden[name='"+this.submitButton.name+"']",this.currentForm).remove(),this.formSubmitted=!1):!e&&0===this.pendingRequest&&this.formSubmitted&&(d(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(t,e){return e="string"==typeof e&&e||"remote",d.data(t,"previousValue")||d.data(t,"previousValue",{old:null,valid:!0,message:this.defaultMessage(t,{method:e})})},destroy:function(){this.resetForm(),d(this.currentForm).off(".tc_validate").removeData("tc_validator").find(".tc_validate-equalTo-blur").off(".tc_validate-equalTo").removeClass("validate-equalTo-blur").find(".tc_validate-lessThan-blur").off(".tc_validate-lessThan").removeClass("validate-lessThan-blur").find(".tc_validate-lessThanEqual-blur").off(".tc_validate-lessThanEqual").removeClass("validate-lessThanEqual-blur").find(".tc_validate-greaterThanEqual-blur").off(".tc_validate-greaterThanEqual").removeClass("validate-greaterThanEqual-blur").find(".tc_validate-greaterThan-blur").off(".tc_validate-greaterThan").removeClass("validate-greaterThan-blur")}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(t,e){t.constructor===String?this.classRuleSettings[t]=e:d.extend(this.classRuleSettings,t)},classRules:function(t){var e={},t=d(t).attr("class");return t&&d.each(t.split(" "),function(){this in d.tc_validator.classRuleSettings&&d.extend(e,d.tc_validator.classRuleSettings[this])}),e},normalizeAttributeRule:function(t,e,i,s){/min|max|step/.test(i)&&(null===e||/number|range|text/.test(e))&&(s=Number(s),isNaN(s)&&(s=void 0)),s||0===s?t[i]=s:e===i&&"range"!==e&&(t[i]=!0)},attributeRules:function(t){var e,i,s={},n=d(t),r=t.getAttribute("type");for(e in d.tc_validator.methods)e&&(i="required"===e?!!(i=""===(i=t.getAttribute(e))?!0:i):n.attr(e),this.normalizeAttributeRule(s,r,e,i));return s.maxlength&&/-1|2147483647|524288/.test(s.maxlength)&&delete s.maxlength,s},dataRules:function(t){var e,i,s={},n=d(t),r=t.getAttribute("type");for(e in d.tc_validator.methods)e&&(""===(i=n.data("rule"+e.charAt(0).toUpperCase()+e.substring(1).toLowerCase()))&&(i=!0),this.normalizeAttributeRule(s,r,e,i));return s},staticRules:function(t){var e={},i=d.data(t.form,"tc_validator");return e=i.settings.rules?d.tc_validator.normalizeRule(i.settings.rules[t.name])||{}:e},normalizeRules:function(i,s){var n;return d.each(i,function(t,e){if(!1===e)delete i[t];else if(e.param||e.depends){switch(n=!0,typeof e.depends){case"string":n=!!d(e.depends,s.form).length;break;case"function":n=e.depends.call(s,s)}n?i[t]=void 0===e.param||e.param:(d.data(s.form,"tc_validator").resetElements(d(s)),delete i[t])}}),d.each(i,function(t,e){i[t]="function"==typeof e&&"normalizer"!==t?e(s):e}),d.each(["minlength","maxlength"],function(){i[this]&&(i[this]=Number(i[this]))}),d.each(["rangelength","range"],function(){var t;i[this]&&(Array.isArray(i[this])?i[this]=[Number(i[this][0]),Number(i[this][1])]:"string"==typeof i[this]&&(t=i[this].replace(/[[\]]/g,"").split(/[\s,]+/),i[this]=[Number(t[0]),Number(t[1])]))}),d.tc_validator.autoCreateRanges&&(null!==i.min&&null!==i.max&&(i.range=[i.min,i.max],delete i.min,delete i.max),null!==i.minlength&&null!==i.maxlength&&(i.rangelength=[i.minlength,i.maxlength],delete i.minlength,delete i.maxlength)),i},normalizeRule:function(t){var e;return"string"==typeof t&&(e={},d.each(t.split(/\s/),function(){e[this]=!0}),t=e),t},addMethod:function(t,e,i){d.tc_validator.methods[t]=e,d.tc_validator.messages[t]=void 0!==i?i:d.tc_validator.messages[t],e.length<3&&d.tc_validator.addClassRules(t,d.tc_validator.normalizeRule(t))},methods:{required:function(t,e,i){return this.depend(i,e)?"select"===e.nodeName.toLowerCase()?(i=d(e).val())&&0<i.length:this.checkable(e)?0<this.getLength(t,e):null!=t&&0<t.length:"dependency-mismatch"},email:function(t,e){return this.optional(e)||/^[a-zA-Z0-9.!#$%&'*+\/=?\^_`{|}~\-]+@[a-zA-Z0-9](?:[a-zA-Z0-9\-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9\-]{0,61}[a-zA-Z0-9])?)*$/.test(t)},url:function(t,e){return this.optional(e)||/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u00a1-\uffff][a-z0-9\u00a1-\uffff_-]{0,62})?[a-z0-9\u00a1-\uffff]\.)+(?:[a-z\u00a1-\uffff]{2,}\.?))(?::\d{2,5})?(?:[/?#]\S*)?$/i.test(t)},date:function(t,e){return this.optional(e)||!/Invalid|NaN/.test(new Date(t).toString())},dateISO:function(t,e){return this.optional(e)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(t)},number:function(t,e){return this.optional(e)||/^(?:-?\d+|-?\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(t)},digits:function(t,e){return this.optional(e)||/^\d+$/.test(t)},minlength:function(t,e,i){t=Array.isArray(t)?t.length:this.getLength(t,e);return this.optional(e)||i<=t},maxlength:function(t,e,i){t=Array.isArray(t)?t.length:this.getLength(t,e);return this.optional(e)||t<=i},rangelength:function(t,e,i){t=Array.isArray(t)?t.length:this.getLength(t,e);return this.optional(e)||t>=i[0]&&t<=i[1]},min:function(t,e,i){return this.optional(e)||i<=t},max:function(t,e,i){return this.optional(e)||t<=i},range:function(t,e,i){return this.optional(e)||t>=i[0]&&t<=i[1]},step:function(t,e,i){function s(t){return(t=(""+t).match(/(?:\.(\d+))?$/))&&t[1]?t[1].length:0}function n(t){return Math.round(t*Math.pow(10,r))}var r,a=d(e).attr("type"),o="Step attribute on input type "+a+" is not supported.",l=new RegExp("\\b"+a+"\\b"),h=!0;if(a&&!l.test(["text","number","range"].join()))throw new Error(o);return r=s(i),(s(t)>r||n(t)%n(i)!=0)&&(h=!1),this.optional(e)||h},equalTo:function(t,e,i){i=d(i);return this.settings.onfocusout&&i.not(".tc_validate-equalTo-blur").length&&i.addClass("validate-equalTo-blur").on("blur.tc_validate-equalTo",function(){d(e).tc_valid()}),t===i.val()},remote:function(s,n,t,r){var a,o,e;return this.optional(n)?"dependency-mismatch":(r="string"==typeof r&&r||"remote",a=this.previousValue(n,r),this.settings.messages[n.name]||(this.settings.messages[n.name]={}),a.originalMessage=a.originalMessage||this.settings.messages[n.name][r],this.settings.messages[n.name][r]=a.message,e=d.param(d.extend({data:s},(t="string"==typeof t?{url:t}:t).data)),a.old===e?a.valid:(a.old=e,(o=this).startRequest(n),(e={})[n.name]=s,d.ajax(d.extend(!0,{mode:"abort",port:"validate"+n.name,dataType:"json",data:e,context:o.currentForm,success:function(t){var e,i=!0===t||"true"===t;o.settings.messages[n.name][r]=a.originalMessage,i?(e=o.formSubmitted,o.resetInternals(),o.toHide=o.errorsFor(n),o.formSubmitted=e,o.successList.push(n),o.invalid[n.name]=!1,o.showErrors()):(e={},t=t||o.defaultMessage(n,{method:r,parameters:s}),a.message=t,e[n.name]=t,o.invalid[n.name]=!0,o.showErrors(e)),a.valid=i,o.stopRequest(n,i)}},t)),"pending"))}}}),d.ajaxPrefilter?d.ajaxPrefilter(function(t,e,i){var s=t.port;"abort"===t.mode&&(n[s]&&n[s].abort(),n[s]=i)}):(i=d.ajax,d.ajax=function(t){var e=("mode"in t?t:d.ajaxSettings).mode,t=("port"in t?t:d.ajaxSettings).port;return"abort"===e?(n[t]&&n[t].abort(),n[t]=i.apply(this,arguments),n[t]):i.apply(this,arguments)}),d});!function(t){"use strict";"function"==typeof window.define&&window.define.amd?window.define(["jquery"],t):t(window.jQuery)}(function(M){"use strict";var n;function r(t){M.tm_datepicker._isDisabledDatepicker((n.inline?n.dpDiv.parent():n.input)[0])||(M(t).parents(".ui-tm-datepicker-calendar").find("a").removeClass("ui-state-hover"),M(t).addClass("ui-state-hover"),-1!==t.className.indexOf("ui-tm-datepicker-prev")&&M(t).addClass("ui-tm-datepicker-prev-hover"),-1!==t.className.indexOf("ui-tm-datepicker-next")&&M(t).addClass("ui-tm-datepicker-next-hover"))}function a(t){var e="button, .ui-tm-datepicker-prev, .ui-tm-datepicker-next, .ui-tm-datepicker-calendar td a";return t.on("mouseout",e,function(){M(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-tm-datepicker-prev")&&M(this).removeClass("ui-tm-datepicker-prev-hover"),-1!==this.className.indexOf("ui-tm-datepicker-next")&&M(this).removeClass("ui-tm-datepicker-next-hover")}).on("mouseover",e,function(){r(this)})}function d(t,e){for(var a in M.extend(t,e),e)null===e[a]&&(t[a]=e[a])}function t(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-tm-datepicker-div",this._inlineClass="ui-tm-datepicker-inline",this._appendClass="ui-tm-datepicker-append",this._triggerClass="ui-tm-datepicker-trigger",this._dialogClass="ui-tm-datepicker-dialog",this._disableClass="ui-tm-datepicker-disabled",this._unselectableClass="ui-tm-datepicker-unselectable",this._currentClass="ui-tm-datepicker-current-day",this._dayOverClass="ui-tm-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},M.extend(this._defaults,this.regional[""]),this.regional.en=M.extend(!0,{},this.regional[""]),this.regional["en-US"]=M.extend(!0,{},this.regional.en),this.dpDiv=a(M("<div id='"+this._mainDivId+"' class='ui-tm-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}M.ui.tm_datepicker=M.ui.tm_datepicker||{},M.ui.tm_datepicker.version||(M.extend(M.ui,{tm_datepicker:{version:"1.11.4"}}),M.extend(t.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(t){return d(this._defaults,t||{}),this},_attachDatepicker:function(t,e){var a,i=t.nodeName.toLowerCase(),s="div"===i||"span"===i;t.id||(this.uuid+=1,t.id="dp"+this.uuid),(a=this._newInst(M(t),s)).settings=M.extend({},e||{}),"input"===i?this._connectDatepicker(t,a):s&&this._inlineDatepicker(t,a)},_newInst:function(t,e){return{id:t[0].id.replace(/([^A-Za-z0-9_-])/g,"\\\\$1"),input:t,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:e,dpDiv:e?a(M("<div class='"+this._inlineClass+" ui-tm-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(t,e){var a=M(t);e.append=M([]),e.trigger=M([]),a.hasClass(this.markerClassName)||(this._attachments(a,e),a.addClass(this.markerClassName).on("keydown",this._doKeyDown).on("keypress",this._doKeyPress).on("keyup",this._doKeyUp),this._autoSize(e),M.data(t,"datepicker",e),e.settings.disabled&&this._disableDatepicker(t))},_attachments:function(t,e){var a,i=this._get(e,"appendText"),s=this._get(e,"isRTL");e.append&&e.append.remove(),i&&(e.append=M("<span class='"+this._appendClass+"'>"+i+"</span>"),t[s?"before":"after"](e.append)),t.off("focus",this._showDatepicker),e.trigger&&e.trigger.remove(),"focus"!==(i=this._get(e,"showOn"))&&"both"!==i||t.on("focus",this._showDatepicker),"button"!==i&&"both"!==i||(i=this._get(e,"buttonText"),a=this._get(e,"buttonImage"),e.trigger=M(this._get(e,"buttonImageOnly")?M("<img/>").addClass(this._triggerClass).attr({src:a,alt:i,title:i}):M("<button type='button'></button>").addClass(this._triggerClass).html(a?M("<img/>").attr({src:a,alt:i,title:i}):i)),t[s?"before":"after"](e.trigger),e.trigger.on("click",function(){return M.tm_datepicker._datepickerShowing&&M.tm_datepicker._lastInput===t[0]?M.tm_datepicker._hideDatepicker():(M.tm_datepicker._datepickerShowing&&M.tm_datepicker._lastInput!==t[0]&&M.tm_datepicker._hideDatepicker(),M.tm_datepicker._showDatepicker(t[0])),!1}))},_autoSize:function(t){var e,a,i,s,n,r=this._get(t,"dateFormat");this._get(t,"autoSize")&&!t.inline&&(n=new Date(2009,11,20),(r=this._get(t,"dateFormat")).match(/[DM]/)&&(n.setMonth((e=function(t){for(s=i=a=0;s<t.length;s+=1)t[s].length>a&&(a=t[s].length,i=s);return i})(this._get(t,r.match(/MM/)?"monthNames":"monthNamesShort"))),n.setDate(e(this._get(t,r.match(/DD/)?"dayNames":"dayNamesShort"))+20-n.getDay())),t.input.attr("size",this._formatDate(t,n).length))},_inlineDatepicker:function(t,e){var a=M(t);a.hasClass(this.markerClassName)||(a.addClass(this.markerClassName).append(e.dpDiv),M.data(t,"datepicker",e),this._setDate(e,this._getDefaultDate(e),!0),this._updateDatepicker(e),this._updateAlternate(e),e.settings.disabled&&this._disableDatepicker(t),e.dpDiv.css("display","block"))},_dialogDatepicker:function(t,e,a,i,s){var n,r=this._dialogInst;return r||(this.uuid+=1,n="dp"+this.uuid,this._dialogInput=M("<input type='text' id='"+n+"'>"),this._dialogInput.on("keydown",this._doKeyDown),M("body").append(this._dialogInput),r=this._newInst(this._dialogInput,!1),(this._dialogInst=r).settings={},M.data(this._dialogInput[0],"datepicker",r)),d(r.settings,i||{}),e=e&&e.constructor===Date?this._formatDate(r,e):e,this._dialogInput.val(e),this._pos=s?s.length?s:[s.pageX,s.pageY]:null,this._pos||(n=document.documentElement.clientWidth,i=document.documentElement.clientHeight,e=document.documentElement.scrollLeft||document.body.scrollLeft,s=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[n/2-100+e,i/2-150+s]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),r.settings.onSelect=a,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),M.blockUI&&M.blockUI(this.dpDiv),M.data(this._dialogInput[0],"datepicker",r),this},_destroyDatepicker:function(t){var e,a=M(t),i=M.data(t,"datepicker");a.hasClass(this.markerClassName)&&(e=t.nodeName.toLowerCase(),M.removeData(t,"datepicker"),"input"===e?(i.append.remove(),i.trigger.remove(),a.removeClass(this.markerClassName).off("focus",this._showDatepicker).off("keydown",this._doKeyDown).off("keypress",this._doKeyPress).off("keyup",this._doKeyUp)):"div"!==e&&"span"!==e||a.removeClass(this.markerClassName).empty(),n===i&&(n=null))},_enableDatepicker:function(e){var t,a=M(e),i=M.data(e,"datepicker");a.hasClass(this.markerClassName)&&("input"===(t=e.nodeName.toLowerCase())?(e.disabled=!1,i.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):"div"!==t&&"span"!==t||((i=a.children("."+this._inlineClass)).children().removeClass("ui-state-disabled"),i.find("select.ui-tm-datepicker-month, select.ui-tm-datepicker-year").prop("disabled",!1)),this._disabledInputs=M.map(this._disabledInputs,function(t){return t===e?null:t}))},_disableDatepicker:function(e){var t,a=M(e),i=M.data(e,"datepicker");a.hasClass(this.markerClassName)&&("input"===(t=e.nodeName.toLowerCase())?(e.disabled=!0,i.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):"div"!==t&&"span"!==t||((i=a.children("."+this._inlineClass)).children().addClass("ui-state-disabled"),i.find("select.ui-tm-datepicker-month, select.ui-tm-datepicker-year").prop("disabled",!0)),this._disabledInputs=M.map(this._disabledInputs,function(t){return t===e?null:t}),this._disabledInputs[this._disabledInputs.length]=e)},_isDisabledDatepicker:function(t){var e;if(t)for(e=0;e<this._disabledInputs.length;e+=1)if(this._disabledInputs[e]===t)return!0;return!1},_getInst:function(t){try{return M.data(t,"datepicker")}catch(t){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(t,e,a){var i,s,n=this._getInst(t);if(2===arguments.length&&"string"==typeof e)return"defaults"===e?M.extend({},M.tm_datepicker._defaults):n?"all"===e?M.extend({},n.settings):this._get(n,e):null;i=e||{},"string"==typeof e&&((i={})[e]=a),n&&(this._curInst===n&&this._hideDatepicker(),e=this._getDateDatepicker(t,!0),a=this._getMinMaxDate(n,"min"),s=this._getMinMaxDate(n,"max"),d(n.settings,i),null!==a&&void 0!==i.dateFormat&&void 0===i.minDate&&(n.settings.minDate=this._formatDate(n,a)),null!==s&&void 0!==i.dateFormat&&void 0===i.maxDate&&(n.settings.maxDate=this._formatDate(n,s)),"disabled"in i&&(i.disabled?this._disableDatepicker(t):this._enableDatepicker(t)),this._attachments(M(t),n),this._autoSize(n),this._setDate(n,e),this._updateAlternate(n),this._updateDatepicker(n))},_changeDatepicker:function(t,e,a){this._optionDatepicker(t,e,a)},_refreshDatepicker:function(t){t=this._getInst(t);t&&this._updateDatepicker(t)},_setDateDatepicker:function(t,e){t=this._getInst(t);t&&(this._setDate(t,e),this._updateDatepicker(t),this._updateAlternate(t))},_getDateDatepicker:function(t,e){t=this._getInst(t);return t&&!t.inline&&this._setDateFromField(t,e),t?this._getDate(t):null},_doKeyDown:function(t){var e,a,i=M.tm_datepicker._getInst(t.target),s=!0,n=i.dpDiv.is(".ui-tm-datepicker-rtl");if(i._keyEvent=!0,M.tm_datepicker._datepickerShowing)switch(t.keyCode){case 9:M.tm_datepicker._hideDatepicker(),s=!1;break;case 13:return(a=M("td."+M.tm_datepicker._dayOverClass+":not(."+M.tm_datepicker._currentClass+")",i.dpDiv))[0]&&M.tm_datepicker._selectDay(t.target,i.selectedMonth,i.selectedYear,a[0]),(a=M.tm_datepicker._get(i,"onSelect"))?(e=M.tm_datepicker._formatDate(i),a.apply(i.input?i.input[0]:null,[e,i])):M.tm_datepicker._hideDatepicker(),!1;case 27:M.tm_datepicker._hideDatepicker();break;case 33:M.tm_datepicker._adjustDate(t.target,t.ctrlKey?-M.tm_datepicker._get(i,"stepBigMonths"):-M.tm_datepicker._get(i,"stepMonths"),"M");break;case 34:M.tm_datepicker._adjustDate(t.target,t.ctrlKey?+M.tm_datepicker._get(i,"stepBigMonths"):+M.tm_datepicker._get(i,"stepMonths"),"M");break;case 35:(t.ctrlKey||t.metaKey)&&M.tm_datepicker._clearDate(t.target),s=t.ctrlKey||t.metaKey;break;case 36:(t.ctrlKey||t.metaKey)&&M.tm_datepicker._gotoToday(t.target),s=t.ctrlKey||t.metaKey;break;case 37:(t.ctrlKey||t.metaKey)&&M.tm_datepicker._adjustDate(t.target,n?1:-1,"D"),s=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&M.tm_datepicker._adjustDate(t.target,t.ctrlKey?-M.tm_datepicker._get(i,"stepBigMonths"):-M.tm_datepicker._get(i,"stepMonths"),"M");break;case 38:(t.ctrlKey||t.metaKey)&&M.tm_datepicker._adjustDate(t.target,-7,"D"),s=t.ctrlKey||t.metaKey;break;case 39:(t.ctrlKey||t.metaKey)&&M.tm_datepicker._adjustDate(t.target,n?-1:1,"D"),s=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&M.tm_datepicker._adjustDate(t.target,t.ctrlKey?+M.tm_datepicker._get(i,"stepBigMonths"):+M.tm_datepicker._get(i,"stepMonths"),"M");break;case 40:(t.ctrlKey||t.metaKey)&&M.tm_datepicker._adjustDate(t.target,7,"D"),s=t.ctrlKey||t.metaKey;break;default:s=!1}else 36===t.keyCode&&t.ctrlKey?M.tm_datepicker._showDatepicker(this):s=!1;s&&(t.preventDefault(),t.stopPropagation())},_doKeyPress:function(t){var e,a=M.tm_datepicker._getInst(t.target);if(M.tm_datepicker._get(a,"constrainInput"))return a=M.tm_datepicker._possibleChars(M.tm_datepicker._get(a,"dateFormat")),e=String.fromCharCode(null===t.charCode?t.keyCode:t.charCode),t.ctrlKey||t.metaKey||e<" "||!a||-1<a.indexOf(e)},_doKeyUp:function(t){t=M.tm_datepicker._getInst(t.target);if(t.input.val()!==t.lastVal)try{M.tm_datepicker.parseDate(M.tm_datepicker._get(t,"dateFormat"),t.input?t.input.val():null,M.tm_datepicker._getFormatConfig(t))&&(M.tm_datepicker._setDateFromField(t),M.tm_datepicker._updateAlternate(t),M.tm_datepicker._updateDatepicker(t))}catch(t){return!1}return!0},_showDatepicker:function(t){var e,a,i,s;"input"!==(t=t.target||t).nodeName.toLowerCase()&&(t=M("input",t.parentNode)[0]),M.tm_datepicker._isDisabledDatepicker(t)||M.tm_datepicker._lastInput===t||(e=M.tm_datepicker._getInst(t),M.tm_datepicker._curInst&&M.tm_datepicker._curInst!==e&&(M.tm_datepicker._curInst.dpDiv.stop(!0,!0),e&&M.tm_datepicker._datepickerShowing&&M.tm_datepicker._hideDatepicker(M.tm_datepicker._curInst.input[0])),!1!==(i=(i=M.tm_datepicker._get(e,"beforeShow"))?i.apply(t,[t,e]):{})&&(d(e.settings,i),e.lastVal=null,M.tm_datepicker._lastInput=t,M.tm_datepicker._setDateFromField(e),M.tm_datepicker._inDialog&&(t.value=""),M.tm_datepicker._pos||(M.tm_datepicker._pos=M.tm_datepicker._findPos(t),M.tm_datepicker._pos[1]+=t.offsetHeight),a=!1,M(t).parents().each(function(){return!(a=a||"fixed"===M(this).css("position"))}),i={left:M.tm_datepicker._pos[0],top:M.tm_datepicker._pos[1]},M.tm_datepicker._pos=null,e.dpDiv.empty(),e.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),M.tm_datepicker._updateDatepicker(e),i=M.tm_datepicker._checkOffset(e,i,a),e.dpDiv.css({position:M.tm_datepicker._inDialog&&M.blockUI?"static":a?"fixed":"absolute",display:"none",left:i.left+"px",top:i.top+"px"}),e.inline||(i=M.tm_datepicker._get(e,"showAnim"),s=M.tm_datepicker._get(e,"duration"),e.dpDiv.css("z-index",function(t){for(var e;t.length&&t[0]!==document;){if(("absolute"===(e=t.css("position"))||"relative"===e||"fixed"===e)&&(e=parseInt(t.css("zIndex"),10),!isNaN(e)&&0!==e))return e;t=t.parent()}return 0}(M(t))+1),M.tm_datepicker._datepickerShowing=!0,M.effects&&M.effects.effect[i]?e.dpDiv.show(i,M.tm_datepicker._get(e,"showOptions"),s):e.dpDiv[i||"show"](i?s:null),M.tm_datepicker._shouldFocusInput(e)&&e.input.trigger("focus"),M.tm_datepicker._curInst=e)))},_updateDatepicker:function(t){var e,a,i,s;this.maxRows=4,(n=t).dpDiv.empty().append(this._generateHTML(t)),this._attachHandlers(t),i=(a=this._getNumberOfMonths(t))[1],0<(s=t.dpDiv.find("."+this._dayOverClass+" a")).length&&r.apply(s.get(0),[s.get(0)]),t.dpDiv.removeClass("ui-tm-datepicker-multi-2 ui-tm-datepicker-multi-3 ui-tm-datepicker-multi-4").width(""),1<i&&t.dpDiv.addClass("ui-tm-datepicker-multi-"+i).css("width",17*i+"em"),t.dpDiv[(1!==a[0]||1!==a[1]?"add":"remove")+"Class"]("ui-tm-datepicker-multi"),t.dpDiv[(this._get(t,"isRTL")?"add":"remove")+"Class"]("ui-tm-datepicker-rtl"),t===M.tm_datepicker._curInst&&M.tm_datepicker._datepickerShowing&&M.tm_datepicker._shouldFocusInput(t)&&t.input.trigger("focus"),t.yearshtml&&(e=t.yearshtml,setTimeout(function(){e===t.yearshtml&&t.yearshtml&&t.dpDiv.find("select.ui-tm-datepicker-year:first").replaceWith(t.yearshtml),e=null,t.yearshtml=null},0))},_shouldFocusInput:function(t){return t.input&&t.input.is(":visible")&&!t.input.is(":disabled")&&!t.input.is(":focus")},_checkOffset:function(t,e,a){var i=t.dpDiv.outerWidth(),s=t.dpDiv.outerHeight(),n=t.input?t.input.outerWidth():0,r=t.input?t.input.outerHeight():0,d=document.documentElement.clientWidth+(a?0:M(document).scrollLeft()),c=document.documentElement.clientHeight+(a?0:M(document).scrollTop());return e.left-=this._get(t,"isRTL")?i-n:0,e.left-=a&&e.left===t.input.offset().left?M(document).scrollLeft():0,e.top-=a&&e.top===t.input.offset().top+r?M(document).scrollTop():0,e.left-=Math.min(e.left,e.left+i>d&&i<d?Math.abs(e.left+i-d):0),e.top-=Math.min(e.top,e.top+s>c&&s<c?Math.abs(s+r):0),e},_findPos:function(t){for(var e=this._getInst(t),a=this._get(e,"isRTL");t&&("hidden"===t.type||1!==t.nodeType||M.expr.filters.hidden(t));)t=t[a?"previousSibling":"nextSibling"];return[(e=M(t).offset()).left,e.top]},_hideDatepicker:function(t){var e,a,i=this._curInst;!i||t&&i!==M.data(t,"datepicker")||this._datepickerShowing&&(t=this._get(i,"showAnim"),a=this._get(i,"duration"),e=function(){M.tm_datepicker._tidyDialog(i)},M.effects&&(M.effects.effect[t]||M.effects[t])?i.dpDiv.hide(t,M.tm_datepicker._get(i,"showOptions"),a,e):i.dpDiv["slideDown"===t?"slideUp":"fadeIn"===t?"fadeOut":"hide"](t?a:null,e),t||e(),this._datepickerShowing=!1,(a=this._get(i,"onClose"))&&a.apply(i.input?i.input[0]:null,[i.input?i.input.val():"",i]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),M.blockUI&&(M.unblockUI(),M("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(t){t.dpDiv.removeClass(this._dialogClass).off(".ui-tm-datepicker-calendar")},_checkExternalClick:function(t){var e;M.tm_datepicker._curInst&&(t=M(t.target),e=M.tm_datepicker._getInst(t[0]),(!(t[0].id===M.tm_datepicker._mainDivId||0!==t.parents("#"+M.tm_datepicker._mainDivId).length||t.hasClass(M.tm_datepicker.markerClassName)||t.closest("."+M.tm_datepicker._triggerClass).length||!M.tm_datepicker._datepickerShowing||M.tm_datepicker._inDialog&&M.blockUI)||t.hasClass(M.tm_datepicker.markerClassName)&&M.tm_datepicker._curInst!==e)&&M.tm_datepicker._hideDatepicker())},_adjustDate:function(t,e,a){var t=M(t),i=this._getInst(t[0]);this._isDisabledDatepicker(t[0])||(this._adjustInstDate(i,e+("M"===a?this._get(i,"showCurrentAtPos"):0),a),this._updateDatepicker(i))},_gotoToday:function(t){var e,t=M(t),a=this._getInst(t[0]);this._get(a,"gotoCurrent")&&a.currentDay?(a.selectedDay=a.currentDay,a.drawMonth=a.currentMonth,a.selectedMonth=a.currentMonth,a.drawYear=a.currentYear,a.selectedYear=a.currentYear):(e=new Date,a.selectedDay=e.getDate(),a.drawMonth=e.getMonth(),a.selectedMonth=a.drawMonth,a.drawYear=e.getFullYear(),a.selectedYear=a.drawYear),this._notifyChange(a),this._adjustDate(t)},_selectMonthYear:function(t,e,a){var t=M(t),i=this._getInst(t[0]);i["selected"+("M"===a?"Month":"Year")]=parseInt(e.options[e.selectedIndex].value,10),i["draw"+("M"===a?"Month":"Year")]=parseInt(e.options[e.selectedIndex].value,10),this._notifyChange(i),this._adjustDate(t)},_selectDay:function(t,e,a,i){var s=M(t);M(i).hasClass(this._unselectableClass)||this._isDisabledDatepicker(s[0])||((s=this._getInst(s[0])).selectedDay=M("a",i).html(),s.currentDay=s.selectedDay,s.selectedMonth=e,s.currentMonth=e,s.selectedYear=a,s.currentYear=a,this._selectDate(t,this._formatDate(s,s.currentDay,s.currentMonth,s.currentYear)))},_clearDate:function(t){t=M(t);this._selectDate(t,"")},_selectDate:function(t,e){var a,t=M(t),t=this._getInst(t[0]);e=null!==e?e:this._formatDate(t),t.input&&t.input.val(e),this._updateAlternate(t),(a=this._get(t,"onSelect"))?a.apply(t.input?t.input[0]:null,[e,t]):t.input&&t.input.trigger("change"),t.inline?this._updateDatepicker(t):(this._hideDatepicker(),this._lastInput=t.input[0],"object"!=typeof t.input[0]&&t.input.trigger("focus"),this._lastInput=null)},_updateAlternate:function(t){var e,a,i=this._get(t,"altField");i&&(a=this._get(t,"altFormat")||this._get(t,"dateFormat"),e=this._getDate(t),a=this.formatDate(a,e,this._getFormatConfig(t)),M(i).val(a))},noWeekends:function(t){t=t.getDay();return[0<t&&t<6,""]},iso8601Week:function(t){var e,t=new Date(t.getTime());return t.setDate(t.getDate()+4-(t.getDay()||7)),e=t.getTime(),t.setMonth(0),t.setDate(1),Math.floor(Math.round((e-t)/864e5)/7)+1},parseDate:function(e,s,t){var a,i,n,r,d,c,l,o,u,h,p,m,_,g=0,f=-1,k=-1,D=-1,v=-1,y=!1;if(null===e||null===s)throw"Invalid arguments";if(""===(s="object"==typeof s?s.toString():s+""))return null;for(n="string"!=typeof(n=(t?t.shortYearCutoff:null)||this._defaults.shortYearCutoff)?n:(new Date).getFullYear()%100+parseInt(n,10),r=(t?t.dayNamesShort:null)||this._defaults.dayNamesShort,d=(t?t.dayNames:null)||this._defaults.dayNames,c=(t?t.monthNamesShort:null)||this._defaults.monthNamesShort,l=(t?t.monthNames:null)||this._defaults.monthNames,u=function(t){t=a+1<e.length&&e.charAt(a+1)===t;return t&&(a+=1),t},h=function(t){var e=u(t),e="@"===t?14:"!"===t?20:"y"===t&&e?4:"o"===t?3:2,t=new RegExp("^\\d{"+("y"===t?e:1)+","+e+"}"),e=s.substring(g).match(t);if(e)return g+=e[0].length,parseInt(e[0],10);throw"Missing number at position "+g},p=function(t,e,a){var i=-1,t=M.map(u(t)?a:e,function(t,e){return[[e,t]]}).sort(function(t,e){return-(t[1].length-e[1].length)});if(M.each(t,function(t,e){var a=e[1];if(s.substring(g,parseInt(g,10)+a.length).toLowerCase()===a.toLowerCase())return i=e[0],g+=a.length,!1}),-1!==i)return i+1;throw"Unknown name at position "+g},m=function(){if(s.charAt(g)!==e.charAt(a))throw"Unexpected literal at position "+g;g+=1},a=0;a<e.length;a+=1)if(y)"'"!==e.charAt(a)||u("'")?m():y=!1;else switch(e.charAt(a)){case"d":D=h("d");break;case"D":p("D",r,d);break;case"o":v=h("o");break;case"m":k=h("m");break;case"M":k=p("M",c,l);break;case"y":f=h("y");break;case"@":f=(o=new Date(h("@"))).getFullYear(),k=o.getMonth()+1,D=o.getDate();break;case"!":f=(o=new Date((h("!")-this._ticksTo1970)/1e4)).getFullYear(),k=o.getMonth()+1,D=o.getDate();break;case"'":u("'")?m():y=!0;break;default:m()}if(g<s.length&&(t=s.substring(g),!/^\s+/.test(t)))throw"Extra/unparsed characters found in date: "+t;if(-1===f?f=(new Date).getFullYear():f<100&&(f+=(new Date).getFullYear()-(new Date).getFullYear()%100+(f<=n?0:-100)),-1<v)for(k=1,D=v,_=!0;D<=(i=this._getDaysInMonth(f,k-1))?_=!1:(k+=1,D-=i),_;);if((o=this._daylightSavingAdjust(new Date(f,k-1,D))).getFullYear()!==f||o.getMonth()+1!==k||o.getDate()!==D)throw"Invalid date";return o},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(e,t,a){function i(t,e,a){var i=""+e;if(o(t))for(;i.length<a;)i="0"+i;return i}function s(t,e,a,i){return(o(t)?i:a)[e]}var n,r=(a?a.dayNamesShort:null)||this._defaults.dayNamesShort,d=(a?a.dayNames:null)||this._defaults.dayNames,c=(a?a.monthNamesShort:null)||this._defaults.monthNamesShort,l=(a?a.monthNames:null)||this._defaults.monthNames,o=function(t){t=n+1<e.length&&e.charAt(n+1)===t;return t&&(n+=1),t},u="",h=!1;if(!t)return"";if(t)for(n=0;n<e.length;n+=1)if(h)"'"!==e.charAt(n)||o("'")?u+=e.charAt(n):h=!1;else switch(e.charAt(n)){case"d":u+=i("d",t.getDate(),2);break;case"D":u+=s("D",t.getDay(),r,d);break;case"o":u+=i("o",Math.round((new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5),3);break;case"m":u+=i("m",t.getMonth()+1,2);break;case"M":u+=s("M",t.getMonth(),c,l);break;case"y":u+=o("y")?t.getFullYear():(t.getFullYear()%100<10?"0":"")+t.getFullYear()%100;break;case"@":u+=t.getTime();break;case"!":u+=1e4*t.getTime()+this._ticksTo1970;break;case"'":o("'")?u+="'":h=!0;break;default:u+=e.charAt(n)}return u},_possibleChars:function(e){for(var t="",a=!1,i=function(t){t=s+1<e.length&&e.charAt(s+1)===t;return t&&(s+=1),t},s=0;s<e.length;s+=1)if(a)"'"!==e.charAt(s)||i("'")?t+=e.charAt(s):a=!1;else switch(e.charAt(s)){case"d":case"m":case"y":case"@":t+="0123456789";break;case"D":case"M":return null;case"'":i("'")?t+="'":a=!0;break;default:t+=e.charAt(s)}return t},_get:function(t,e){return(void 0!==t.settings[e]?t.settings:this._defaults)[e]},_setDateFromField:function(t,e){var a,i,s,n,r;if(t.input.val()!==t.lastVal){a=this._get(t,"dateFormat"),i=t.input?t.input.val():null,n=s=this._getDefaultDate(t),r=this._getFormatConfig(t),t.lastVal=i;try{n=this.parseDate(a,i,r)||s}catch(t){i=e?"":i}t.selectedDay=n.getDate(),t.selectedMonth=n.getMonth(),t.drawMonth=t.selectedMonth,t.selectedYear=n.getFullYear(),t.drawYear=t.selectedYear,t.currentDay=i?n.getDate():0,t.currentMonth=i?n.getMonth():0,t.currentYear=i?n.getFullYear():0,this._adjustInstDate(t)}},_getDefaultDate:function(t){return this._restrictMinMax(t,this._determineDate(t,this._get(t,"defaultDate"),new Date))},_determineDate:function(d,t,e){var a,i=null===t||""===t?e:"string"==typeof t?function(t){var e,a,i,s,n,r;try{return M.tm_datepicker.parseDate(M.tm_datepicker._get(d,"dateFormat"),t,M.tm_datepicker._getFormatConfig(d))}catch(t){}for(a=(e=(t.toLowerCase().match(/^c/)?M.tm_datepicker._getDate(d):null)||new Date).getFullYear(),i=e.getMonth(),s=e.getDate(),r=(n=/([+-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g).exec(t);r;){switch(r[2]||"d"){case"d":case"D":s+=parseInt(r[1],10);break;case"w":case"W":s+=7*parseInt(r[1],10);break;case"m":case"M":i+=parseInt(r[1],10),s=Math.min(s,M.tm_datepicker._getDaysInMonth(a,i));break;case"y":case"Y":a+=parseInt(r[1],10),s=Math.min(s,M.tm_datepicker._getDaysInMonth(a,i))}r=n.exec(t)}return new Date(a,i,s)}(t):"number"==typeof t?Number.isFinite(t)?(i=t,(a=new Date).setDate(a.getDate()+i),a):e:new Date(t.getTime());return(i=i&&"Invalid Date"===i.toString()?e:i)&&(i.setHours(0),i.setMinutes(0),i.setSeconds(0),i.setMilliseconds(0)),this._daylightSavingAdjust(i)},_daylightSavingAdjust:function(t){return t?(t.setHours(12<t.getHours()?t.getHours()+2:0),t):null},_setDate:function(t,e,a){var i=!e,s=t.selectedMonth,n=t.selectedYear,e=this._restrictMinMax(t,this._determineDate(t,e,new Date));t.currentDay=e.getDate(),t.selectedDay=t.currentDay,t.currentMonth=e.getMonth(),t.drawMonth=t.currentMonth,t.selectedMonth=t.currentMonth,t.currentYear=e.getFullYear(),t.drawYear=t.currentYear,t.selectedYear=t.currentYear,s===t.selectedMonth&&n===t.selectedYear||a||this._notifyChange(t),this._adjustInstDate(t),t.input&&t.input.val(i?"":this._formatDate(t))},_getDate:function(t){return!t.currentYear||t.input&&""===t.input.val()?null:this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay))},_attachHandlers:function(t){var e=this._get(t,"stepMonths"),a="#"+t.id.replace(/\\\\/g,"\\");t.dpDiv.find("[data-handler]").map(function(){var t={prevM:function(){M.tm_datepicker._adjustDate(a,-1,"M")},nextM:function(){M.tm_datepicker._adjustDate(a,1,"M")},prevY:function(){M.tm_datepicker._adjustDate(a,-1,"Y")},nextY:function(){M.tm_datepicker._adjustDate(a,1,"Y")},prev:function(){M.tm_datepicker._adjustDate(a,-e,"M")},next:function(){M.tm_datepicker._adjustDate(a,+e,"M")},hide:function(){M.tm_datepicker._hideDatepicker()},today:function(){},selectDay:function(){return M.tm_datepicker._selectDay(a,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return M.tm_datepicker._selectMonthYear(a,this,"M"),!1},selectYear:function(){return M.tm_datepicker._selectMonthYear(a,this,"Y"),!1}};return M(this).on(this.getAttribute("data-event"),t[this.getAttribute("data-handler")]),null})},_tm_canAdjustMonth:function(t,e,a,i){a=this._daylightSavingAdjust(new Date(a,i+e,1));return e<0&&a.setDate(this._getDaysInMonth(a.getFullYear(),a.getMonth())),this._isInRange(t,a)},_generateHTML:function(t){var e,a,i,s,n,O,R,r,d,c,L,l,o,u,h,p,m,_,g,f,W,E,k,H,D,P,U,v,y,M,z,B,b,w,I=new Date,J=this._daylightSavingAdjust(new Date(I.getFullYear(),I.getMonth(),I.getDate())),C=this._get(t,"isRTL"),I=this._get(t,"showButtonPanel"),x=this._get(t,"hideIfNoPrevNext"),Y=this._get(t,"navigationAsDateFormat"),F=this._getNumberOfMonths(t),S=this._get(t,"showCurrentAtPos"),N=this._get(t,"stepMonths"),V=1!==F[0]||1!==F[1],q=this._daylightSavingAdjust(t.currentDay?new Date(t.currentYear,t.currentMonth,t.currentDay):new Date(9999,9,9)),A=this._getMinMaxDate(t,"min"),T=this._getMinMaxDate(t,"max"),j=t.drawMonth-S,K=t.drawYear;if(j<0&&(j+=12,--K),T)for(e=this._daylightSavingAdjust(new Date(T.getFullYear(),T.getMonth()-F[0]*F[1]+1,T.getDate())),e=A&&e<A?A:e;this._daylightSavingAdjust(new Date(K,j,1))>e;)--j<0&&(j=11,--K);for(t.drawMonth=j,t.drawYear=K,S=this._get(t,"prevText"),S=Y?this.formatDate(S,this._daylightSavingAdjust(new Date(K,j-N,1)),this._getFormatConfig(t)):S,a=this._canAdjustMonth(t,-1,K,j)?"<a class='ui-tm-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+S+"'><span class='ui-icon ui-icon-circle-triangle-"+(C?"e":"w")+"'>"+S+"</span></a>":x?"":"<a class='ui-tm-datepicker-prev ui-corner-all ui-state-disabled' title='"+S+"'><span class='ui-icon ui-icon-circle-triangle-"+(C?"e":"w")+"'>"+S+"</span></a>",b=this._get(t,"nextText"),b=Y?this.formatDate(b,this._daylightSavingAdjust(new Date(K,j+N,1)),this._getFormatConfig(t)):b,i=this._canAdjustMonth(t,1,K,j)?"<a class='ui-tm-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+b+"'><span class='ui-icon ui-icon-circle-triangle-"+(C?"w":"e")+"'>"+b+"</span></a>":x?"":"<a class='ui-tm-datepicker-next ui-corner-all ui-state-disabled' title='"+b+"'><span class='ui-icon ui-icon-circle-triangle-"+(C?"w":"e")+"'>"+b+"</span></a>",N=this._get(t,"currentText"),r=this._get(t,"gotoCurrent")&&t.currentDay?q:J,N=Y?this.formatDate(N,r,this._getFormatConfig(t)):N,Y=t.inline?"":"<div class='tm-ui-dp-btn-wrap tm-ui-dp-close'><div role='button' class='tm-ui-dp-btn ui-tm-datepicker-close' data-handler='hide' data-event='click'>"+this._get(t,"closeText")+"</div></div>",I=I?"<div class='tm-ui-dp-buttonpane'>"+(C?Y:"")+(this._isInRange(t,r)?"<div class='tm-ui-dp-btn-wrap tm-ui-dp-current'><div role='button' class='tm-ui-dp-btn ui-tm-datepicker-current' data-handler='today' data-event='click'>"+N+"</div></div>":"")+(C?"":Y)+"</div>":"",s=parseInt(this._get(t,"firstDay"),10),s=isNaN(s)?0:s,n=this._get(t,"showWeek"),O=this._get(t,"dayNames"),R=this._get(t,"dayNamesMin"),r=this._get(t,"monthNames"),d=this._get(t,"beforeShowDay"),c=this._get(t,"showOtherMonths"),L=this._get(t,"selectOtherMonths"),l=this._getDefaultDate(t),o="",Y='<div class="tm-ui-dp-button-prev tm-ui-dp-button"><div '+((N=this._tm_canAdjustMonth(t,-1,K,j))?'data-handler="prevM" data-event="click" ':"")+'aria-label="'+S+'" class="'+(N?"":"tm-ui-dp-button-disabled ")+'tm-ui-dp-button-arrow tcfa tcfa-angle-left" tabindex="0" role="button"></div></div>',N='<div class="tm-ui-dp-button-next tm-ui-dp-button"><div '+((N=this._tm_canAdjustMonth(t,1,K,j))?'data-handler="nextM" data-event="click" ':"")+'aria-label="'+b+'" class="'+(N?"":"tm-ui-dp-button-disabled ")+'tm-ui-dp-button-arrow tcfa tcfa-angle-right" tabindex="0" role="button"></div></div>',S='<div class="tm-ui-dp-button-prev tm-ui-dp-button"><div '+((w=this._tm_canAdjustMonth(t,-12,K,j))?'data-handler="prevY" data-event="click" ':"")+'aria-label="'+S+'" class="'+(w?"":"tm-ui-dp-button-disabled ")+'tm-ui-dp-button-arrow tcfa tcfa-angle-left" tabindex="0" role="button"></div></div>',b='<div class="tm-ui-dp-button-next tm-ui-dp-button"><div '+((w=this._tm_canAdjustMonth(t,12,K,j))?'data-handler="nextY" data-event="click" ':"")+'aria-label="'+b+'" class="'+(w?"":"tm-ui-dp-button-disabled ")+'tm-ui-dp-button-arrow tcfa tcfa-angle-right" tabindex="0" role="button"></div></div>',z=x?"":'<div class="tm-ui-dp-title-button">'+(C?N:Y)+'<span aria-label="'+r[j]+'" role="button" class="tm-ui-dp-month">'+r[j]+"</span>"+(C?Y:N)+"</div>",B=x?"":'<div class="tm-ui-dp-title-button">'+(C?b:S)+'<span class="tm-ui-dp-year" role="button" aria-label="'+K+'">'+K+"</span>"+(C?S:b)+"</div>",o+="<div class='tm-ui-dp-wrap'><div class='tm-ui-dp-overlay'></div><div class='tm-ui-dp'><div class='tm-ui-dp-container'><div class='tm-ui-dp-inner-container'><div class='tm-ui-dp-ui'><div class='tm-ui-dp-ui-inner'><div class='tm-ui-dp-main-wrap'><div class='tm-ui-dp-main'>",h=0;h<F[0];h+=1){for(p="",this.maxRows=4,m=0;m<F[1];m+=1){if(_=this._daylightSavingAdjust(new Date(K,j,t.selectedDay)),g=" ui-corner-all",f="",V){if(f+="<div class='ui-tm-datepicker-group",1<F[1])switch(m){case 0:f+=" ui-tm-datepicker-group-first",g=" ui-corner-"+(C?"right":"left");break;case F[1]-1:f+=" ui-tm-datepicker-group-last",g=" ui-corner-"+(C?"left":"right");break;default:f+=" ui-tm-datepicker-group-middle",g=""}f+="'>"}for(f=(f=f+("<div class='tm-ui-dp-header ui-tm-datepicker-header ui-widget-header ui-helper-clearfix"+g+"'>"+(/all|left/.test(g)&&0===h?C?i:a:"")+(/all|right/.test(g)&&0===h?C?a:i:"")+'<div class="ui-tm-datepicker-title tm-ui-dp-title">'+(/all|left/.test(g)&&0===h?C?B+z:z+B:"")+"</div></div>")+"<div class='tm-ui-dp-main-content'>")+"<div class='tm-ui-dp-main-header-wrap'><div class='tm-ui-dp-main-header'>"+"<table class='ui-tm-datepicker-calendar'><tbody><tr>",W=n?"<th class='ui-tm-datepicker-week-col'>"+this._get(t,"weekHeader")+"</th>":"",u=0;u<7;u+=1)W+="<th scope='col'"+(5<=(u+s+6)%7?" class='ui-tm-datepicker-week-end'":"")+"><span title='"+O[E=(u+s)%7]+"'>"+R[E]+"</span></th>";for(f=(f+=W+"</tr></tbody></table>")+"</div></div>"+"<div class='tm-ui-dp-main-table'>",k=this._getDaysInMonth(K,j),K===t.selectedYear&&j===t.selectedMonth&&(t.selectedDay=Math.min(t.selectedDay,k)),k=(this._getFirstDayOfMonth(K,j)-s+7)%7,H=V&&6<this.maxRows?this.maxRows:6,this.maxRows=H,D=this._daylightSavingAdjust(new Date(K,j,1-k)),P=0;P<H;P+=1){for(f+="<div class='tm-ui-dp-main-row'>",U=n?"<div class='ui-tm-datepicker-week-col'>"+this._get(t,"calculateWeek")(D)+"</div>":"",u=0;u<7;u+=1)v=d?d.apply(t.input?t.input[0]:null,[D]):[!0,""],M=(y=D.getMonth()!==j)&&!L||!v[0]||A&&D<A||T&&T<D,U+="<div class='tm-ui-dp-main-cell "+(5<=(u+s+6)%7?" ui-tm-datepicker-week-end":"")+(y?" ui-tm-datepicker-other-month":"")+(D.getTime()===_.getTime()&&j===t.selectedMonth&&t._keyEvent||l.getTime()===D.getTime()&&l.getTime()===_.getTime()?" "+this._dayOverClass:"")+(M?" "+this._unselectableClass+" ui-state-disabled":"")+(y&&!c?"":" "+v[1]+(D.getTime()===q.getTime()?" "+this._currentClass:"")+(D.getTime()===J.getTime()?" ui-tm-datepicker-today":""))+"'"+(y&&!c||!v[2]?"":" title='"+v[2].replace(/'/g,"&#39;")+"'")+(M?"":" data-handler='selectDay' data-event='click' data-month='"+D.getMonth()+"' data-year='"+D.getFullYear()+"'")+"><div class='tm-ui-dp-main-cell-inner'><div class='tm-ui-dp-main-cell-content'>"+(y&&!c?"&#xa0;":M?"<span class='ui-state-default'>"+D.getDate()+"</span>":"<a class='ui-state-default"+(D.getTime()===J.getTime()?" ui-state-highlight":"")+(D.getTime()===q.getTime()?" ui-state-active":"")+(y?" ui-priority-secondary":"")+"' href='#'>"+D.getDate()+"</a>")+"</div></div></div>",D.setDate(D.getDate()+1),D=this._daylightSavingAdjust(D);f+=U+"</div>"}11<(j+=1)&&(j=0,K+=1),p+=f=(f+="</div>")+("</div>"+(V?"</div>"+(0<F[0]&&m===F[1]-1?"<div class='ui-tm-datepicker-row-break'></div>":""):""))}o+=p}return o=(o+="</div></div></div></div></div>")+I+"</div></div></div>",t._keyEvent=!1,o},_generateMonthYearHeader:function(t,e,a,i,s,n,r,d){var c,l,o,u,h,p,m,_=this._get(t,"changeMonth"),g=this._get(t,"changeYear"),f=this._get(t,"showMonthAfterYear"),k="<div class='ui-tm-datepicker-title'>",D="";if(n||!_)D+="<span class='ui-tm-datepicker-month'>"+r[e]+"</span>";else{for(c=i&&i.getFullYear()===a,l=s&&s.getFullYear()===a,D+="<select class='ui-tm-datepicker-month' data-handler='selectMonth' data-event='change'>",o=0;o<12;o+=1)(!c||o>=i.getMonth())&&(!l||o<=s.getMonth())&&(D+="<option value='"+o+"'"+(o===e?" selected='selected'":"")+">"+d[o]+"</option>");D+="</select>"}if(f||(k+=D+(!n&&_&&g?"":"&#xa0;")),!t.yearshtml)if(t.yearshtml="",n||!g)k+="<span class='ui-tm-datepicker-year'>"+a+"</span>";else{for(r=this._get(t,"yearRange").split(":"),u=(new Date).getFullYear(),p=(h=function(t){t=t.match(/c[+-].*/)?a+parseInt(t.substring(1),10):t.match(/[+-].*/)?u+parseInt(t,10):parseInt(t,10);return isNaN(t)?u:t})(r[0]),m=Math.max(p,h(r[1]||"")),p=i?Math.max(p,i.getFullYear()):p,m=s?Math.min(m,s.getFullYear()):m,t.yearshtml+="<select class='ui-tm-datepicker-year' data-handler='selectYear' data-event='change'>";p<=m;p+=1)t.yearshtml+="<option value='"+p+"'"+(p===a?" selected='selected'":"")+">"+p+"</option>";t.yearshtml+="</select>",k+=t.yearshtml,t.yearshtml=null}return k+=this._get(t,"yearSuffix"),f&&(k+=(!n&&_&&g?"":"&#xa0;")+D),k+="</div>"},_adjustInstDate:function(t,e,a){var i=t.selectedYear+("Y"===a?e:0),s=t.selectedMonth+("M"===a?e:0),e=Math.min(t.selectedDay,this._getDaysInMonth(i,s))+("D"===a?e:0),i=this._restrictMinMax(t,this._daylightSavingAdjust(new Date(i,s,e)));t.selectedDay=i.getDate(),t.selectedMonth=i.getMonth(),t.drawMonth=t.selectedMonth,t.selectedYear=i.getFullYear(),t.drawYear=t.selectedYear,"M"!==a&&"Y"!==a||this._notifyChange(t)},_restrictMinMax:function(t,e){var a=this._getMinMaxDate(t,"min"),t=this._getMinMaxDate(t,"max"),a=a&&e<a?a:e;return t&&t<a?t:a},_notifyChange:function(t){var e=this._get(t,"onChangeMonthYear");e&&e.apply(t.input?t.input[0]:null,[t.selectedYear,t.selectedMonth+1,t])},_getNumberOfMonths:function(t){t=this._get(t,"numberOfMonths");return null===t?[1,1]:"number"==typeof t?[1,t]:t},_getMinMaxDate:function(t,e){return this._determineDate(t,this._get(t,e+"Date"),null)},_getDaysInMonth:function(t,e){return 32-this._daylightSavingAdjust(new Date(t,e,32)).getDate()},_getFirstDayOfMonth:function(t,e){return new Date(t,e,1).getDay()},_canAdjustMonth:function(t,e,a,i){var s=this._getNumberOfMonths(t),a=this._daylightSavingAdjust(new Date(a,i+(e<0?e:s[0]*s[1]),1));return e<0&&a.setDate(this._getDaysInMonth(a.getFullYear(),a.getMonth())),this._isInRange(t,a)},_isInRange:function(t,e){var a,i=this._getMinMaxDate(t,"min"),s=this._getMinMaxDate(t,"max"),n=null,r=null,t=this._get(t,"yearRange");return t&&(t=t.split(":"),a=(new Date).getFullYear(),n=parseInt(t[0],10),r=parseInt(t[1],10),t[0].match(/[+-].*/)&&(n+=a),t[1].match(/[+-].*/)&&(r+=a)),(!i||e.getTime()>=i.getTime())&&(!s||e.getTime()<=s.getTime())&&(!n||e.getFullYear()>=n)&&(!r||e.getFullYear()<=r)},_getFormatConfig:function(t){var e=this._get(t,"shortYearCutoff");return{shortYearCutoff:"string"!=typeof e?e:(new Date).getFullYear()%100+parseInt(e,10),dayNamesShort:this._get(t,"dayNamesShort"),dayNames:this._get(t,"dayNames"),monthNamesShort:this._get(t,"monthNamesShort"),monthNames:this._get(t,"monthNames")}},_formatDate:function(t,e,a,i){return e||(t.currentDay=t.selectedDay,t.currentMonth=t.selectedMonth,t.currentYear=t.selectedYear),i=e?"object"==typeof e?e:this._daylightSavingAdjust(new Date(i,a,e)):this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay)),this.formatDate(this._get(t,"dateFormat"),i,this._getFormatConfig(t))}}),M.fn.tm_datepicker=function(t){var e;return this.length?(M.tm_datepicker.initialized||(M(document).on("mousedown",M.tm_datepicker._checkExternalClick),M.tm_datepicker.initialized=!0),0===M("#"+M.tm_datepicker._mainDivId).length&&M("body").append(M.tm_datepicker.dpDiv),e=Array.prototype.slice.call(arguments,1),"string"==typeof t&&("isDisabled"===t||"getDate"===t||"widget"===t)||"option"===t&&2===arguments.length&&"string"==typeof arguments[1]?M.tm_datepicker["_"+t+"Datepicker"].apply(M.tm_datepicker,[this[0]].concat(e)):this.each(function(){"string"==typeof t?M.tm_datepicker["_"+t+"Datepicker"].apply(M.tm_datepicker,[this].concat(e)):M.tm_datepicker._attachDatepicker(this,t)})):this},M.tm_datepicker=new t,M.tm_datepicker.initialized=!1,M.tm_datepicker.uuid=(new Date).getTime(),M.tm_datepicker.version="1.11.4")});!function(e){"use strict";"function"==typeof window.define&&window.define.amd?window.define(["jquery","jquery-ui"],e):e(window.jQuery)}(function(k){"use strict";function n(e,t){for(var i in k.extend(e,t),t)null!==t[i]&&void 0!==t[i]||(e[i]=t[i]);return e}function u(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function h(e){function t(e,t){return-1!==e.indexOf(t)}var i=e.replace(/'.*?'/g,"").toLowerCase();return{hour:t(i,"h"),minute:t(i,"m"),second:t(i,"s"),millisec:t(i,"l"),microsec:t(i,"c"),timezone:t(i,"z"),ampm:t(i,"t")&&t(e,"h"),iso8601:t(e,"Z")}}function r(e){return 0===(e%=12)&&(e=12),String(e)}function l(e,t){var i=o(t,"separator"),t=o(t,"timeFormat").split(i).length,s=e.split(i),a=s.length;return 1<a?{dateString:s.splice(0,a-t).join(i),timeString:s.splice(0,t).join(i)}:{dateString:e,timeString:""}}function m(e,t,i,s,a){if(i=l(i,a),e=k.tm_datepicker._base_parseDate(e,i.dateString,s),""===i.timeString)return{date:e};if(s=k.tm_datepicker.parseTime(t,i.timeString,a))return{date:e,timeObj:s};throw"Wrong time format"}function T(e,t){e&&e.timezone_select&&(t=t||new Date,e.timezone_select.val(-t.getTimezoneOffset()))}function _(){this.regional=[],this.regional[""]={currentText:"Now",closeText:"Done",amNames:["AM","A"],pmNames:["PM","P"],timeFormat:"HH:mm",timeSuffix:"",timeOnlyTitle:"Choose Time",timeText:"Time",hourText:"Hour",minuteText:"Minute",secondText:"Second",millisecText:"Millisecond",microsecText:"Microsecond",timezoneText:"Time Zone",isRTL:!1},this._defaults={showButtonPanel:!0,timeOnly:!1,timeOnlyShowDate:!1,showHour:null,showMinute:null,showSecond:null,showMillisec:null,showMicrosec:null,showTimezone:null,showTime:!0,stepHour:1,stepMinute:1,stepSecond:1,stepMillisec:1,stepMicrosec:1,hour:0,minute:0,second:0,millisec:0,microsec:0,timezone:null,hourMin:0,minuteMin:0,secondMin:0,millisecMin:0,microsecMin:0,hourMax:23,minuteMax:59,secondMax:59,millisecMax:999,microsecMax:999,minDateTime:null,maxDateTime:null,maxTime:null,minTime:null,onSelect:null,hourGrid:0,minuteGrid:0,secondGrid:0,millisecGrid:0,microsecGrid:0,alwaysSetTime:!0,separator:" ",altFieldTimeOnly:!0,altTimeFormat:null,altSeparator:null,altTimeSuffix:null,altRedirectFocus:!0,pickerTimeFormat:null,pickerTimeSuffix:null,showTimepicker:!0,timezoneList:null,addSliderAccess:!1,sliderAccessArgs:null,controlType:"slider",oneLine:!1,defaultValue:null,parse:"strict",afterInject:null},k.extend(this._defaults,this.regional[""])}var o=function(e,t){return(e&&e[t]?e:k.tm_timepicker._defaults)[t]};k.ui.tm_timepicker=k.ui.tm_timepicker||{},k.ui.tm_timepicker.version||(k.extend(k.ui,{tm_timepicker:{version:"1.6.3"}}),k.extend(_.prototype,{$input:null,$altInput:null,$timeObj:null,inst:null,hour_slider:null,minute_slider:null,second_slider:null,millisec_slider:null,microsec_slider:null,timezone_select:null,maxTime:null,minTime:null,hour:0,minute:0,second:0,millisec:0,microsec:0,timezone:null,hourMinOriginal:null,minuteMinOriginal:null,secondMinOriginal:null,millisecMinOriginal:null,microsecMinOriginal:null,hourMaxOriginal:null,minuteMaxOriginal:null,secondMaxOriginal:null,millisecMaxOriginal:null,microsecMaxOriginal:null,ampm:"",formattedDate:"",formattedTime:"",formattedDateTime:"",timezoneList:null,units:["hour","minute","second","millisec","microsec"],support:{},control:null,setDefaults:function(e){return n(this._defaults,e||{}),this},_newInst:function(s,e){var t,i,a,n,r,l,m,o=new _,c={},u={},d=0;for(a in this._defaults)Object.prototype.hasOwnProperty.call(this._defaults,a)&&(n=s.attr("data-"+a))&&(c[a]=n);for(i in t={beforeShow:function(e,t){if("function"==typeof o._defaults.evnts.beforeShow)return o._defaults.evnts.beforeShow.call(s[0],e,t,o)},onChangeMonthYear:function(e,t,i){"function"==typeof o._defaults.evnts.onChangeMonthYear&&o._defaults.evnts.onChangeMonthYear.call(s[0],e,t,i,o)},onClose:function(e,t){!0===o.timeDefined&&""!==s.val()&&o._updateDateTime(t),"function"==typeof o._defaults.evnts.onClose&&o._defaults.evnts.onClose.call(s[0],e,t,o)}})Object.prototype.hasOwnProperty.call(t,i)&&(u[i]=e[i]||this._defaults[i]||null);if(o._defaults=k.extend({},this._defaults,c,e,t,{evnts:u,tm_timepicker:o}),o.amNames=k.map(o._defaults.amNames,function(e){return e.toUpperCase()}),o.pmNames=k.map(o._defaults.pmNames,function(e){return e.toUpperCase()}),o.support=h(o._defaults.timeFormat+(o._defaults.pickerTimeFormat||"")+(o._defaults.altTimeFormat||"")),"string"==typeof o._defaults.controlType?("slider"===o._defaults.controlType&&void 0===k.ui.slider&&(o._defaults.controlType="select"),o.control=o._controls[o._defaults.controlType]):o.control=o._defaults.controlType,r=[-720,-660,-600,-570,-540,-480,-420,-360,-300,-270,-240,-210,-180,-120,-60,0,60,120,180,210,240,270,300,330,345,360,390,420,480,525,540,570,600,630,660,690,720,765,780,840],0<(l=(r=null!==o._defaults.timezoneList?o._defaults.timezoneList:r).length)&&"object"!=typeof r[0])for(;d<l;d+=1)m=r[d],r[d]={value:m,label:k.tm_timepicker.timezoneOffsetString(m,o.support.iso8601)};return o._defaults.timezoneList=r,o.timezone=null!==o._defaults.timezone?k.tm_timepicker.timezoneOffsetNumber(o._defaults.timezone):-1*(new Date).getTimezoneOffset(),o.hour=o._defaults.hour<o._defaults.hourMin?o._defaults.hourMin:o._defaults.hour>o._defaults.hourMax?o._defaults.hourMax:o._defaults.hour,o.minute=o._defaults.minute<o._defaults.minuteMin?o._defaults.minuteMin:o._defaults.minute>o._defaults.minuteMax?o._defaults.minuteMax:o._defaults.minute,o.second=o._defaults.second<o._defaults.secondMin?o._defaults.secondMin:o._defaults.second>o._defaults.secondMax?o._defaults.secondMax:o._defaults.second,o.millisec=o._defaults.millisec<o._defaults.millisecMin?o._defaults.millisecMin:o._defaults.millisec>o._defaults.millisecMax?o._defaults.millisecMax:o._defaults.millisec,o.microsec=o._defaults.microsec<o._defaults.microsecMin?o._defaults.microsecMin:o._defaults.microsec>o._defaults.microsecMax?o._defaults.microsecMax:o._defaults.microsec,o.ampm="",o.$input=s,o._defaults.altField&&(o.$altInput=k(o._defaults.altField),!0===o._defaults.altRedirectFocus&&o.$altInput.css({cursor:"pointer"}).on("focus",function(){s.trigger("focus")})),0!==o._defaults.minDate&&0!==o._defaults.minDateTime||(o._defaults.minDate=new Date),0!==o._defaults.maxDate&&0!==o._defaults.maxDateTime||(o._defaults.maxDate=new Date),void 0!==o._defaults.minDate&&o._defaults.minDate instanceof Date&&(o._defaults.minDateTime=new Date(o._defaults.minDate.getTime())),void 0!==o._defaults.minDateTime&&o._defaults.minDateTime instanceof Date&&(o._defaults.minDate=new Date(o._defaults.minDateTime.getTime())),void 0!==o._defaults.maxDate&&o._defaults.maxDate instanceof Date&&(o._defaults.maxDateTime=new Date(o._defaults.maxDate.getTime())),void 0!==o._defaults.maxDateTime&&o._defaults.maxDateTime instanceof Date&&(o._defaults.maxDate=new Date(o._defaults.maxDateTime.getTime())),o.$input.on("focus",function(){o._onFocus()}),o.$input.next(".ui-tm-timepicker-trigger").on("click",function(){return o._onFocus(),!1}),o},_addTimePicker:function(e){var t=k.epoAPI.util.trim(this.$altInput&&this._defaults.altFieldTimeOnly?this.$input.val()+" "+this.$altInput.val():this.$input.val());this.timeDefined=this._parseTime(t),this._limitMinMaxDateTime(e,!1),this._injectTimePicker(),this._afterInject()},_parseTime:function(t,i){var e;if(this.inst||(this.inst=k.tm_datepicker._getInst(this.$input[0])),i||!this._defaults.timeOnly){i=k.tm_datepicker._get(this.inst,"dateFormat");try{if(!(e=m(i,this._defaults.timeFormat,t,k.tm_datepicker._getFormatConfig(this.inst),this._defaults)).timeObj)return!1;k.extend(this,e.timeObj)}catch(e){return k.tm_timepicker.log("Error parsing the date/time string: "+e+"\ndate/time string = "+t+"\ntimeFormat = "+this._defaults.timeFormat+"\ndateFormat = "+i),!1}}else{if(!(e=k.tm_datepicker.parseTime(this._defaults.timeFormat,t,this._defaults)))return!1;k.extend(this,e)}return!0},_afterInject:function(){var e=this.inst.settings;"function"==typeof e.afterInject&&e.afterInject.call(this)},_ui_tpicker_onclick:function(e){var t=k(e.target),i=t.html(),s=parseInt(i.replace(/[^0-9]/g),10),i=i.replace(/[^apm]/gi),t=t.data("for");"hour"===t&&(-1!==i.indexOf("p")&&s<12?s+=12:-1!==i.indexOf("a")&&12===s&&(s=0)),e.data.tp_inst.control.value(e.data.tp_inst,e.data.tp_inst[t+"_slider"],e.data.litem,s),e.data.tp_inst._onTimeChange(),e.data.tp_inst._onSelectHandler()},_injectTimePicker:function(){var e,t,i,s,a,r,n,l,m,o=this.inst.dpDiv,c=this.inst.settings,u=this,d="",h="",_=null,f={},p={},g=0,M=0;if(0===o.find("div.ui-tm-timepicker-div").length&&c.showTimepicker){for(t=" ui_tpicker_unit_hide",i='<div class="ui-tm-timepicker-div'+(c.isRTL?" ui-tm-timepicker-rtl":"")+(c.oneLine&&"select"===c.controlType?" ui-tm-timepicker-oneLine":"")+'"><dl><dt class="ui_tpicker_time_label'+(c.showTime?"":t)+'">'+c.timeText+'</dt><dd class="ui_tpicker_time '+(c.showTime?"":t)+'"><input class="ui_tpicker_time_input" '+(c.timeInput?"":"disabled")+"></dd>",g=0,M=this.units.length;g<M;g+=1){if(_=null!==c["show"+(h=(d=this.units[g]).substring(0,1).toUpperCase()+d.substring(1))]?c["show"+h]:this.support[d],f[d]=parseInt(c[d+"Max"]-(c[d+"Max"]-c[d+"Min"])%c["step"+h],10),p[d]=0,i+='<dt class="ui_tpicker_'+d+"_label"+(_?"":t)+'">'+c[d+"Text"]+'</dt><dd class="ui_tpicker_'+d+(_?"":t)+'"><div class="ui_tpicker_'+d+"_slider"+(_?"":t)+'"></div>',_&&0<c[d+"Grid"]){if(i+='<div><table class="ui-tpicker-grid-label"><tr>',"hour"===d)for(s=c[d+"Min"];s<=f[d];s+=parseInt(c[d+"Grid"],10))p[d]+=1,i+='<td data-for="'+d+'">'+k.tm_datepicker.formatTime(this.support.ampm?"hht":"HH",{hour:s},c)+"</td>";else for(a=c[d+"Min"];a<=f[d];a+=parseInt(c[d+"Grid"],10))p[d]+=1,i+='<td data-for="'+d+'">'+(a<10?"0":"")+a+"</td>";i+="</tr></table></div>"}i+="</dd>"}for(i+='<dt class="ui_tpicker_timezone_label'+((n=null!==c.showTimezone?c.showTimezone:this.support.timezone)?"":t)+'">'+c.timezoneText+"</dt>",r=k(i=i+('<dd class="ui_tpicker_timezone'+(n?"":t)+'"></dd>')+"</dl></div>"),!0===c.timeOnly&&(r.prepend('<div class="tm-ui-widget-header"><div class="tm-ui-tp-title">'+c.timeOnlyTitle+"</div></div>"),o.find(".tm-ui-dp-inner-container").hide()),g=0,M=u.units.length;g<M;g+=1)_=null!==c["show"+(h=(d=u.units[g]).substring(0,1).toUpperCase()+d.substring(1))]?c["show"+h]:this.support[d],u[d+"_slider"]=u.control.create(u,r.find(".ui_tpicker_"+d+"_slider"),d,u[d],c[d+"Min"],f[d],c["step"+h]),_&&0<c[d+"Grid"]&&(e=100*p[d]*c[d+"Grid"]/(f[d]-c[d+"Min"]),r.find(".ui_tpicker_"+d+" table").css({width:e+"%",marginLeft:c.isRTL?"0":e/(-2*p[d])+"%",marginRight:c.isRTL?e/(-2*p[d])+"%":"0",borderCollapse:"collapse"}).find("td").on("click",{that:this,tp_inst:u,litem:d},this._ui_tpicker_onclick).css({cursor:"pointer",width:100/p[d]+"%",textAlign:"center",overflow:"hidden"}));this.timezone_select=r.find(".ui_tpicker_timezone").append("<select></select>").find("select"),k.fn.append.apply(this.timezone_select,k.map(c.timezoneList,function(e){return k("<option />").val("object"==typeof e?e.value:e).text("object"==typeof e?e.label:e)})),void 0!==this.timezone&&null!==this.timezone&&""!==this.timezone?-1*new Date(this.inst.selectedYear,this.inst.selectedMonth,this.inst.selectedDay,12).getTimezoneOffset()===this.timezone?T(u):this.timezone_select.val(this.timezone):void 0!==this.hour&&null!==this.hour&&""!==this.hour?this.timezone_select.val(c.timezone):T(u),this.timezone_select.on("change",function(){u._onTimeChange(),u._onSelectHandler(),u._afterInject()}),(n=o.find(".tm-ui-dp-buttonpane")).length?n.before(r):o.append(r),this.$timeObj=r.find(".ui_tpicker_time_input"),this.$timeObj.on("change",function(){var e=u.inst.settings.timeFormat,e=k.tm_datepicker.parseTime(e,this.value),t=new Date;e?(t.setHours(e.hour),t.setMinutes(e.minute),t.setSeconds(e.second),k.datepicker._setTime(u.inst,t)):(this.value=u.formattedTime,this.trigger("blur"))}),null!==this.inst&&(n=this.timeDefined,this._onTimeChange(),this.timeDefined=n),this._defaults.addSliderAccess&&(l=this._defaults.sliderAccessArgs,m=this._defaults.isRTL,l.isRTL=m,setTimeout(function(){var n;0===r.find(".ui-slider-access").length&&(r.find(".ui-slider:visible").sliderAccess(l),(n=r.find(".ui-slider-access:eq(0)").outerWidth(!0))&&r.find("table:visible").each(function(){var e=k(this),t=e.outerWidth(),i=e.css(m?"marginRight":"marginLeft").toString().replace("%",""),s=t-n,a={width:s,marginRight:0,marginLeft:0};a[m?"marginRight":"marginLeft"]=i*s/t+"%",e.css(a)}))},10)),u._limitMinMaxDateTime(this.inst,!0)}},_limitMinMaxDateTime:function(e,t){var i,s,a=this._defaults,n=new Date(e.selectedYear,e.selectedMonth,e.selectedDay);this._defaults.showTimepicker&&(null!==k.tm_datepicker._get(e,"minDateTime")&&void 0!==k.tm_datepicker._get(e,"minDateTime")&&n&&(s=k.tm_datepicker._get(e,"minDateTime"),i=new Date(s.getFullYear(),s.getMonth(),s.getDate(),0,0,0,0),null!==this.hourMinOriginal&&null!==this.minuteMinOriginal&&null!==this.secondMinOriginal&&null!==this.millisecMinOriginal&&null!==this.microsecMinOriginal||(this.hourMinOriginal=a.hourMin,this.minuteMinOriginal=a.minuteMin,this.secondMinOriginal=a.secondMin,this.millisecMinOriginal=a.millisecMin,this.microsecMinOriginal=a.microsecMin),e.settings.timeOnly||i.getTime()===n.getTime()?(this._defaults.hourMin=s.getHours(),this.hour<=this._defaults.hourMin?(this.hour=this._defaults.hourMin,this._defaults.minuteMin=s.getMinutes(),this.minute<=this._defaults.minuteMin?(this.minute=this._defaults.minuteMin,this._defaults.secondMin=s.getSeconds(),this.second<=this._defaults.secondMin?(this.second=this._defaults.secondMin,this._defaults.millisecMin=s.getMilliseconds(),this.millisec<=this._defaults.millisecMin?(this.millisec=this._defaults.millisecMin,this._defaults.microsecMin=s.getMicroseconds()):(this.microsec<this._defaults.microsecMin&&(this.microsec=this._defaults.microsecMin),this._defaults.microsecMin=this.microsecMinOriginal)):(this._defaults.millisecMin=this.millisecMinOriginal,this._defaults.microsecMin=this.microsecMinOriginal)):(this._defaults.secondMin=this.secondMinOriginal,this._defaults.millisecMin=this.millisecMinOriginal,this._defaults.microsecMin=this.microsecMinOriginal)):(this._defaults.minuteMin=this.minuteMinOriginal,this._defaults.secondMin=this.secondMinOriginal,this._defaults.millisecMin=this.millisecMinOriginal,this._defaults.microsecMin=this.microsecMinOriginal)):(this._defaults.hourMin=this.hourMinOriginal,this._defaults.minuteMin=this.minuteMinOriginal,this._defaults.secondMin=this.secondMinOriginal,this._defaults.millisecMin=this.millisecMinOriginal,this._defaults.microsecMin=this.microsecMinOriginal)),null!==k.tm_datepicker._get(e,"maxDateTime")&&void 0!==k.tm_datepicker._get(e,"maxDateTime")&&n&&(i=k.tm_datepicker._get(e,"maxDateTime"),s=new Date(i.getFullYear(),i.getMonth(),i.getDate(),0,0,0,0),null!==this.hourMaxOriginal&&null!==this.minuteMaxOriginal&&null!==this.secondMaxOriginal&&null!==this.millisecMaxOriginal||(this.hourMaxOriginal=a.hourMax,this.minuteMaxOriginal=a.minuteMax,this.secondMaxOriginal=a.secondMax,this.millisecMaxOriginal=a.millisecMax,this.microsecMaxOriginal=a.microsecMax),e.settings.timeOnly||s.getTime()===n.getTime()?(this._defaults.hourMax=i.getHours(),this.hour>=this._defaults.hourMax?(this.hour=this._defaults.hourMax,this._defaults.minuteMax=i.getMinutes(),this.minute>=this._defaults.minuteMax?(this.minute=this._defaults.minuteMax,this._defaults.secondMax=i.getSeconds(),this.second>=this._defaults.secondMax?(this.second=this._defaults.secondMax,this._defaults.millisecMax=i.getMilliseconds(),this.millisec>=this._defaults.millisecMax?(this.millisec=this._defaults.millisecMax,this._defaults.microsecMax=i.getMicroseconds()):(this.microsec>this._defaults.microsecMax&&(this.microsec=this._defaults.microsecMax),this._defaults.microsecMax=this.microsecMaxOriginal)):(this._defaults.millisecMax=this.millisecMaxOriginal,this._defaults.microsecMax=this.microsecMaxOriginal)):(this._defaults.secondMax=this.secondMaxOriginal,this._defaults.millisecMax=this.millisecMaxOriginal,this._defaults.microsecMax=this.microsecMaxOriginal)):(this._defaults.minuteMax=this.minuteMaxOriginal,this._defaults.secondMax=this.secondMaxOriginal,this._defaults.millisecMax=this.millisecMaxOriginal,this._defaults.microsecMax=this.microsecMaxOriginal)):(this._defaults.hourMax=this.hourMaxOriginal,this._defaults.minuteMax=this.minuteMaxOriginal,this._defaults.secondMax=this.secondMaxOriginal,this._defaults.millisecMax=this.millisecMaxOriginal,this._defaults.microsecMax=this.microsecMaxOriginal)),null!==e.settings.minTime&&(a=new Date("01/01/1970 "+e.settings.minTime),parseFloat(e.settings.minTime).toString()===e.settings.minTime&&(a=new Date(Date.now()+parseFloat(e.settings.minTime))),this.hour<a.getHours()?(this._defaults.hourMin=a.getHours(),this.hour=this._defaults.hourMin,this._defaults.minuteMin=a.getMinutes(),this.minute=this._defaults.minuteMin):this.hour===a.getHours()&&this.minute<a.getMinutes()?(this._defaults.minuteMin=a.getMinutes(),this.minute=this._defaults.minuteMin):this._defaults.hourMin<a.getHours()?(this._defaults.hourMin=a.getHours(),this._defaults.minuteMin=a.getMinutes()):this._defaults.hourMin===a.getHours()===this.hour&&this._defaults.minuteMin<a.getMinutes()?this._defaults.minuteMin=a.getMinutes():this._defaults.minuteMin=0),null!==e.settings.maxTime&&(s=new Date("01/01/1970 "+e.settings.maxTime),this.hour>s.getHours()?(this._defaults.hourMax=s.getHours(),this.hour=this._defaults.hourMax,this._defaults.minuteMax=s.getMinutes(),this.minute=this._defaults.minuteMax):this.hour===s.getHours()&&this.minute>s.getMinutes()?(this._defaults.minuteMax=s.getMinutes(),this.minute=this._defaults.minuteMax):this._defaults.hourMax>s.getHours()?(this._defaults.hourMax=s.getHours(),this._defaults.minuteMax=s.getMinutes()):this._defaults.hourMax===s.getHours()===this.hour&&this._defaults.minuteMax>s.getMinutes()?this._defaults.minuteMax=s.getMinutes():this._defaults.minuteMax=59),void 0!==t&&!0===t&&(n=parseInt(this._defaults.hourMax-(this._defaults.hourMax-this._defaults.hourMin)%this._defaults.stepHour,10),i=parseInt(this._defaults.minuteMax-(this._defaults.minuteMax-this._defaults.minuteMin)%this._defaults.stepMinute,10),a=parseInt(this._defaults.secondMax-(this._defaults.secondMax-this._defaults.secondMin)%this._defaults.stepSecond,10),e=parseInt(this._defaults.millisecMax-(this._defaults.millisecMax-this._defaults.millisecMin)%this._defaults.stepMillisec,10),s=parseInt(this._defaults.microsecMax-(this._defaults.microsecMax-this._defaults.microsecMin)%this._defaults.stepMicrosec,10),this.hour_slider&&(this.control.options(this,this.hour_slider,"hour",{min:this._defaults.hourMin,max:n,step:this._defaults.stepHour}),this.control.value(this,this.hour_slider,"hour",this.hour-this.hour%this._defaults.stepHour)),this.minute_slider&&(this.control.options(this,this.minute_slider,"minute",{min:this._defaults.minuteMin,max:i,step:this._defaults.stepMinute}),this.control.value(this,this.minute_slider,"minute",this.minute-this.minute%this._defaults.stepMinute)),this.second_slider&&(this.control.options(this,this.second_slider,"second",{min:this._defaults.secondMin,max:a,step:this._defaults.stepSecond}),this.control.value(this,this.second_slider,"second",this.second-this.second%this._defaults.stepSecond)),this.millisec_slider&&(this.control.options(this,this.millisec_slider,"millisec",{min:this._defaults.millisecMin,max:e,step:this._defaults.stepMillisec}),this.control.value(this,this.millisec_slider,"millisec",this.millisec-this.millisec%this._defaults.stepMillisec)),this.microsec_slider&&(this.control.options(this,this.microsec_slider,"microsec",{min:this._defaults.microsecMin,max:s,step:this._defaults.stepMicrosec}),this.control.value(this,this.microsec_slider,"microsec",this.microsec-this.microsec%this._defaults.stepMicrosec))))},_onTimeChange:function(){var e,t,i=!!this.hour_slider&&this.control.value(this,this.hour_slider,"hour"),s=!!this.minute_slider&&this.control.value(this,this.minute_slider,"minute"),a=!!this.second_slider&&this.control.value(this,this.second_slider,"second"),n=!!this.millisec_slider&&this.control.value(this,this.millisec_slider,"millisec"),r=!!this.microsec_slider&&this.control.value(this,this.microsec_slider,"microsec"),l=!!this.timezone_select&&this.timezone_select.val(),m=this._defaults,o=m.pickerTimeFormat||m.timeFormat,c=m.pickerTimeSuffix||m.timeSuffix;this._defaults.showTimepicker&&("object"==typeof s&&(s=!1),"object"==typeof a&&(a=!1),"object"==typeof n&&(n=!1),"object"==typeof r&&(r=!1),"object"==typeof l&&(l=!1),!1!==(i="object"==typeof i?!1:i)&&(i=parseInt(i,10)),!1!==s&&(s=parseInt(s,10)),!1!==a&&(a=parseInt(a,10)),!1!==n&&(n=parseInt(n,10)),!1!==r&&(r=parseInt(r,10)),!1!==l&&(l=l.toString()),e=m[i<12?"amNames":"pmNames"][0],(t=i!==parseInt(this.hour,10)||s!==parseInt(this.minute,10)||a!==parseInt(this.second,10)||n!==parseInt(this.millisec,10)||r!==parseInt(this.microsec,10)||0<this.ampm.length&&i<12!=(-1!==k.inArray(this.ampm.toUpperCase(),this.amNames))||null!==this.timezone&&l!==this.timezone.toString())&&(!1!==i&&(this.hour=i),!1!==s&&(this.minute=s),!1!==a&&(this.second=a),!1!==n&&(this.millisec=n),!1!==r&&(this.microsec=r),!1!==l&&(this.timezone=l),this.inst||(this.inst=k.tm_datepicker._getInst(this.$input[0])),this._limitMinMaxDateTime(this.inst,!0)),this.support.ampm&&(this.ampm=e),this.formattedTime=k.tm_datepicker.formatTime(m.timeFormat,this,m),this.$timeObj&&(o===m.timeFormat?this.$timeObj.val(this.formattedTime+c):this.$timeObj.val(k.tm_datepicker.formatTime(o,this,m)+c),this.$timeObj[0].setSelectionRange&&(i=this.$timeObj[0].selectionStart,s=this.$timeObj[0].selectionEnd,this.$timeObj[0].setSelectionRange(i,s))),this.timeDefined=!0,t&&this._updateDateTime())},_onSelectHandler:function(){var e=this._defaults.onSelect||this.inst.settings.onSelect,t=this.$input?this.$input[0]:null;e&&t&&e.apply(t,[this.formattedDateTime,this])},_updateDateTime:function(e){var t="",i=0<(e=this.inst||e).currentYear?new Date(e.currentYear,e.currentMonth,e.currentDay):new Date(e.selectedYear,e.selectedMonth,e.selectedDay),i=k.tm_datepicker._daylightSavingAdjust(i),s=k.tm_datepicker._get(e,"dateFormat"),a=k.tm_datepicker._getFormatConfig(e),n=null!==i&&this.timeDefined;this.formattedDate=k.tm_datepicker.formatDate(s,null===i?new Date:i,a),s=this.formattedDate,""===e.lastVal&&(e.currentYear=e.selectedYear,e.currentMonth=e.selectedMonth,e.currentDay=e.selectedDay),!0===this._defaults.timeOnly&&!1===this._defaults.timeOnlyShowDate?s=this.formattedTime:(!0!==this._defaults.timeOnly&&(this._defaults.alwaysSetTime||n)||!0===this._defaults.timeOnly&&!0===this._defaults.timeOnlyShowDate)&&(s+=this._defaults.separator+this.formattedTime+this._defaults.timeSuffix),this.formattedDateTime=s,this._defaults.showTimepicker?this.$altInput&&!1===this._defaults.timeOnly&&!0===this._defaults.altFieldTimeOnly?(this.$altInput.val(this.formattedTime),this.$input.val(this.formattedDate)):this.$altInput?(this.$input.val(s),t="",e=null!==this._defaults.altSeparator?this._defaults.altSeparator:this._defaults.separator,n=null!==this._defaults.altTimeSuffix?this._defaults.altTimeSuffix:this._defaults.timeSuffix,this._defaults.timeOnly||(t=this._defaults.altFormat?k.tm_datepicker.formatDate(this._defaults.altFormat,null===i?new Date:i,a):this.formattedDate)&&(t+=e),null!==this._defaults.altTimeFormat?t+=k.tm_datepicker.formatTime(this._defaults.altTimeFormat,this,this._defaults)+n:t+=this.formattedTime+n,this.$altInput.val(t)):this.$input.val(s):this.$input.val(this.formattedDate),this.$input.trigger("change")},_onFocus:function(){var e,t;if(!this.$input.val()&&this._defaults.defaultValue&&(this.$input.val(this._defaults.defaultValue),e=k.tm_datepicker._getInst(this.$input.get(0)),(t=k.tm_datepicker._get(e,"tm_timepicker"))&&t._defaults.timeOnly&&e.input.val()!==e.lastVal))try{k.tm_datepicker._updateDatepicker(e)}catch(e){k.tm_timepicker.log(e)}},_controls:{slider:{create:function(i,e,s,t,a,n,r){var l=i._defaults.isRTL;return e.prop("slide",null).slider({orientation:"horizontal",value:l?-1*t:t,min:l?-1*n:a,max:l?-1*a:n,step:r,slide:function(e,t){i.control.value(i,k(this),s,l?-1*t.value:t.value),i._onTimeChange()},stop:function(){i._onSelectHandler()}})},options:function(e,t,i,s,a){var n;return e._defaults.isRTL?"string"==typeof s?"min"===s||"max"===s?void 0!==a?t.slider(s,-1*a):Math.abs(t.slider(s)):t.slider(s):(e=s.min,n=s.max,s.max=null,s.min=null,void 0!==e&&(s.max=-1*e),void 0!==n&&(s.min=-1*n),t.slider(s)):"string"==typeof s&&void 0!==a?t.slider(s,a):t.slider(s)},value:function(e,t,i,s){return e._defaults.isRTL?void 0!==s?t.slider("value",-1*s):Math.abs(t.slider("value")):void 0!==s?t.slider("value",s):t.slider("value")}},select:{create:function(e,t,i,s,a,n,r){for(var l='<select class="ui-tm-timepicker-select ui-state-default ui-corner-all" data-unit="'+i+'" data-min="'+a+'" data-max="'+n+'" data-step="'+r+'">',m=e._defaults.pickerTimeFormat||e._defaults.timeFormat,o=a;o<=n;o+=r)l=(l+='<option value="'+o+'"'+(o===s?" selected":"")+">")+("hour"===i?k.tm_datepicker.formatTime(k.epoAPI.util.trim(m.replace(/[^ht ]/gi,"")),{hour:o},e._defaults):"millisec"===i||"microsec"===i||10<=o?o:"0"+o.toString())+"</option>";return l+="</select>",t.children("select").remove(),k(l).appendTo(t).on("change",function(){e._onTimeChange(),e._onSelectHandler(),e._afterInject()}),t},options:function(e,t,i,s,a){var n={},r=t.children("select");if("string"==typeof s){if(void 0===a)return r.data(s);n[s]=a}else n=s;return e.control.create(e,t,r.data("unit"),r.val(),0<=n.min?n.min:r.data("min"),n.max||r.data("max"),n.step||r.data("step"))},value:function(e,t,i,s){t=t.children("select");return void 0!==s?t.val(s):t.val()}}}}),k.fn.extend({tm_timepicker:function(e){var t=Array.prototype.slice.call(arguments);return"object"==typeof(e=e||{})&&(t[0]=k.extend(e,{timeOnly:!0})),k(this).each(function(){k.fn.tm_datetimepicker.apply(k(this),t)})},tm_datetimepicker:function(t){var i=arguments;return"string"==typeof(t=t||{})?"getDate"===t||"option"===t&&2===i.length&&"string"==typeof i[1]?k.fn.tm_datepicker.apply(k(this[0]),i):this.each(function(){var e=k(this);e.tm_datepicker.apply(e,i)}):this.each(function(){var e=k(this);e.tm_datepicker(k.tm_timepicker._newInst(e,t)._defaults)})}}),k.tm_datepicker.parseDateTime=function(e,t,i,s,a){e=m(e,t,i,s,a);return e.timeObj&&(t=e.timeObj,e.date.setHours(t.hour,t.minute,t.second,t.millisec),e.date.setMicroseconds(t.microsec)),e.date},k.tm_datepicker.parseTime=function(t,i,s){function a(e,t,n){var i="^"+e.toString().replace(/([hH]{1,2}|mm?|ss?|[tT]{1,2}|[zZ]|[lc]|'.*?')/g,function(e){var t,i,s,a=e.length;switch(e.charAt(0).toLowerCase()){case"h":case"m":case"s":return 1===a?"(\\d?\\d)":"(\\d{"+a+"})";case"l":case"c":return"(\\d?\\d?\\d)";case"z":return"(z|[-+]\\d\\d:?\\d\\d|\\S+)?";case"t":return t=n.amNames,i=n.pmNames,s=[],t&&k.merge(s,t),i&&k.merge(s,i),"("+(s=k.map(s,function(e){return e.replace(/[.*+?|()[\]{}\\]/g,"\\$&")})).join("|")+")?";default:return"("+e.replace(/'/g,"").replace(/(\.|\$|\^|\\|\/|\(|\)|\[|\]|\?|\+|\*)/g,function(e){return"\\"+e})+")?"}}).replace(/\s/g,"\\s?")+n.timeSuffix+"$",e=function(e){var t,i=e.toLowerCase().match(/(h{1,2}|m{1,2}|s{1,2}|l{1}|c{1}|t{1,2}|z|'.*?')/g),s={h:-1,m:-1,s:-1,l:-1,c:-1,t:-1,z:-1};if(i)for(t=0;t<i.length;t+=1)-1===s[i[t].toString().charAt(0)]&&(s[i[t].toString().charAt(0)]=t+1);return s}(e),s="",a={hour:0,minute:0,second:0,millisec:0,microsec:0};return!!(t=t.match(new RegExp(i,"i")))&&(-1!==e.t&&(void 0===t[e.t]||0===t[e.t].length?a.ampm=s="":(s=-1!==k.inArray(t[e.t].toUpperCase(),k.map(n.amNames,function(e){return e.toUpperCase()}))?"AM":"PM",a.ampm=n["AM"===s?"amNames":"pmNames"][0])),-1!==e.h&&("AM"===s&&"12"===t[e.h]?a.hour=0:"PM"===s&&"12"!==t[e.h]?a.hour=parseInt(t[e.h],10)+12:a.hour=Number(t[e.h])),-1!==e.m&&(a.minute=Number(t[e.m])),-1!==e.s&&(a.second=Number(t[e.s])),-1!==e.l&&(a.millisec=Number(t[e.l])),-1!==e.c&&(a.microsec=Number(t[e.c])),-1!==e.z&&void 0!==t[e.z]&&(a.timezone=k.tm_timepicker.timezoneOffsetNumber(t[e.z])),a)}s=n(n({},k.tm_timepicker._defaults),s||{});if("function"==typeof s.parse)return s.parse(t,i,s);if("loose"!==s.parse)return a(t,i,s);var e;try{if(e=new Date("2012-01-01 "+i),isNaN(e.getTime())&&(e=new Date("2012-01-01T"+i),isNaN(e.getTime())&&(e=new Date("01/01/2012 "+i),isNaN(e.getTime()))))throw"Unable to parse time with native Date: "+i;return{hour:e.getHours(),minute:e.getMinutes(),second:e.getSeconds(),millisec:e.getMilliseconds(),microsec:e.getMicroseconds(),timezone:-1*e.getTimezoneOffset()}}catch(e){try{return a(t,i,s)}catch(e){k.tm_timepicker.log("Unable to parse \ntimeString: "+i+"\ntimeFormat: "+t)}}return!1},k.tm_datepicker.formatTime=function(e,t,i){var s,a;return i=i||{},i=k.extend({},k.tm_timepicker._defaults,i),t=k.extend({hour:0,minute:0,second:0,millisec:0,microsec:0,timezone:null},t),e=e,s=i.amNames[0],11<(a=parseInt(t.hour,10))&&(s=i.pmNames[0]),e=e.replace(/(?:HH?|hh?|mm?|ss?|[tT]{1,2}|[zZ]|[lc]|'.*?')/g,function(e){switch(e){case"HH":return("0"+a).slice(-2);case"H":return a;case"hh":return("0"+r(a)).slice(-2);case"h":return r(a);case"mm":return("0"+t.minute).slice(-2);case"m":return t.minute;case"ss":return("0"+t.second).slice(-2);case"s":return t.second;case"l":return("00"+t.millisec).slice(-3);case"c":return("00"+t.microsec).slice(-3);case"z":return k.tm_timepicker.timezoneOffsetString((null===t.timezone?i:t).timezone,!1);case"Z":return k.tm_timepicker.timezoneOffsetString((null===t.timezone?i:t).timezone,!0);case"T":return s.charAt(0).toUpperCase();case"TT":return s.toUpperCase();case"t":return s.charAt(0).toLowerCase();case"tt":return s.toLowerCase();default:return e.replace(/'/g,"")}})},k.tm_datepicker._base_selectDate=k.tm_datepicker._selectDate,k.tm_datepicker._selectDate=function(e,t){var i=this._getInst(k(e)[0]),s=this._get(i,"tm_timepicker");s&&i.settings.showTimepicker?(s._limitMinMaxDateTime(i,!0),s=i.inline,i.stay_open=!0,i.inline=!0,this._base_selectDate(e,t),i.inline=s,i.stay_open=!1,this._notifyChange(i),this._updateDatepicker(i)):this._base_selectDate(e,t)},k.tm_datepicker._base_updateDatepicker=k.tm_datepicker._updateDatepicker,k.tm_datepicker._updateDatepicker=function(e){var t=e.input[0];k.tm_datepicker._curInst&&k.tm_datepicker._curInst!==e&&k.tm_datepicker._datepickerShowing&&k.tm_datepicker._lastInput!==t||"boolean"==typeof e.stay_open&&!1!==e.stay_open||(this._base_updateDatepicker(e),(t=this._get(e,"tm_timepicker"))&&t._addTimePicker(e))},k.tm_datepicker._base_doKeyPress=k.tm_datepicker._doKeyPress,k.tm_datepicker._doKeyPress=function(e){var t,i,s=k.tm_datepicker._getInst(e.target),a=k.tm_datepicker._get(s,"tm_timepicker");return a&&k.tm_datepicker._get(s,"constrainInput")?(t=a.support.ampm,i=null!==a._defaults.showTimezone?a._defaults.showTimezone:a.support.timezone,s=k.tm_datepicker._possibleChars(k.tm_datepicker._get(s,"dateFormat")),t=a._defaults.timeFormat.toString().replace(/[hms]/g,"").replace(/TT/g,t?"APM":"").replace(/Tt/g,t?"AaPpMm":"").replace(/tT/g,t?"AaPpMm":"").replace(/T/g,t?"AP":"").replace(/tt/g,t?"apm":"").replace(/t/g,t?"ap":"")+" "+a._defaults.separator+a._defaults.timeSuffix+(i?a._defaults.timezoneList.join(""):"")+a._defaults.amNames.join("")+a._defaults.pmNames.join("")+s,i=String.fromCharCode(void 0===e.charCode?e.keyCode:e.charCode),e.ctrlKey||i<" "||!s||-1<t.indexOf(i)):k.tm_datepicker._base_doKeyPress(e)},k.tm_datepicker._base_updateAlternate=k.tm_datepicker._updateAlternate,k.tm_datepicker._updateAlternate=function(e){var t,i,s,a,n,r,l,m=this._get(e,"tm_timepicker");m?(t=m._defaults.altField)&&(i=this._getDate(e),s=k.tm_datepicker._getFormatConfig(e),a="",n=m._defaults.altSeparator||m._defaults.separator,r=m._defaults.altTimeSuffix||m._defaults.timeSuffix,l=null!==m._defaults.altTimeFormat?m._defaults.altTimeFormat:m._defaults.timeFormat,a+=k.tm_datepicker.formatTime(l,m,m._defaults)+r,m._defaults.timeOnly||m._defaults.altFieldTimeOnly||null===i||(a=m._defaults.altFormat?k.tm_datepicker.formatDate(m._defaults.altFormat,i,s)+n+a:m.formattedDate+n+a),k(t).val(e.input.val()?a:"")):k.tm_datepicker._base_updateAlternate(e)},k.tm_datepicker._base_doKeyUp=k.tm_datepicker._doKeyUp,k.tm_datepicker._doKeyUp=function(e){var t=k.tm_datepicker._getInst(e.target),i=k.tm_datepicker._get(t,"tm_timepicker");if(i&&i._defaults.timeOnly&&t.input.val()!==t.lastVal)try{k.tm_datepicker._updateDatepicker(t)}catch(e){k.tm_timepicker.log(e)}return k.tm_datepicker._base_doKeyUp(e)},k.tm_datepicker._base_gotoToday=k.tm_datepicker._gotoToday,k.tm_datepicker._gotoToday=function(e){var t,i,s=this._getInst(k(e)[0]);this._base_gotoToday(e),(e=this._get(s,"timepicker"))&&(t=k.tm_timepicker.timezoneOffsetNumber(e.timezone),(i=new Date).setMinutes(i.getMinutes()+i.getTimezoneOffset()+parseInt(t,10)),this._setTime(s,i),this._setDate(s,i),e._onSelectHandler())},k.tm_datepicker._disableTimepickerDatepicker=function(e){var t,i=this._getInst(e);i&&(t=this._get(i,"tm_timepicker"),k(e).tm_datepicker("getDate"),t&&(i.settings.showTimepicker=!1,t._defaults.showTimepicker=!1,t._updateDateTime(i)))},k.tm_datepicker._enableTimepickerDatepicker=function(e){var t,i=this._getInst(e);i&&(t=this._get(i,"tm_timepicker"),k(e).tm_datepicker("getDate"),t&&(i.settings.showTimepicker=!0,t._defaults.showTimepicker=!0,t._addTimePicker(i),t._updateDateTime(i)))},k.tm_datepicker._setTime=function(e,t){var i,s=this._get(e,"tm_timepicker");s&&(i=s._defaults,s.hour=t?t.getHours():i.hour,s.minute=t?t.getMinutes():i.minute,s.second=t?t.getSeconds():i.second,s.millisec=t?t.getMilliseconds():i.millisec,s.microsec=t?t.getMicroseconds():i.microsec,s._limitMinMaxDateTime(e,!0),s._onTimeChange(),s._updateDateTime(e))},k.tm_datepicker._setTimeDatepicker=function(e,t,i){var s,a,e=this._getInst(e);e&&(s=this._get(e,"tm_timepicker"))&&(this._setDateFromField(e),t&&("string"==typeof t?(s._parseTime(t,i),(a=new Date).setHours(s.hour,s.minute,s.second,s.millisec),a.setMicroseconds(s.microsec)):(a=new Date(t.getTime())).setMicroseconds(t.getMicroseconds()),"Invalid Date"===a.toString()&&(a=void 0),this._setTime(e,a)))},k.tm_datepicker._base_setDateDatepicker=k.tm_datepicker._setDateDatepicker,k.tm_datepicker._setDateDatepicker=function(e,t){var i,s=this._getInst(e),a=t;s&&("string"!=typeof t||(a=new Date(t)).getTime()||(this._base_setDateDatepicker.apply(this,arguments),a=k(e).tm_datepicker("getDate")),t=this._get(s,"tm_timepicker"),a instanceof Date?(i=new Date(a.getTime())).setMicroseconds(a.getMicroseconds()):i=a,t&&i&&(t.support.timezone||null!==t._defaults.timezone||(t.timezone=-1*i.getTimezoneOffset()),a=k.tm_timepicker.timezoneAdjust(a,k.tm_timepicker.timezoneOffsetString(-a.getTimezoneOffset()),t.timezone),i=k.tm_timepicker.timezoneAdjust(i,k.tm_timepicker.timezoneOffsetString(-i.getTimezoneOffset()),t.timezone)),this._updateDatepicker(s),this._base_setDateDatepicker.apply(this,arguments),this._setTimeDatepicker(e,i,!0))},k.tm_datepicker._base_getDateDatepicker=k.tm_datepicker._getDateDatepicker,k.tm_datepicker._getDateDatepicker=function(e,t){var i,s,a,n=this._getInst(e);if(n)return(i=this._get(n,"tm_timepicker"))?(void 0===n.lastVal&&this._setDateFromField(n,t),s=this._getDate(n),a=null,a=i.$altInput&&i._defaults.altFieldTimeOnly?i.$input.val()+" "+i.$altInput.val():("INPUT"!==i.$input.get(0).tagName&&i.$altInput?i.$altInput:i.$input).val(),s&&i._parseTime(a,!n.settings.timeOnly)&&(s.setHours(i.hour,i.minute,i.second,i.millisec),s.setMicroseconds(i.microsec),null!==i.timezone&&(i.support.timezone||null!==i._defaults.timezone||(i.timezone=-1*s.getTimezoneOffset()),s=k.tm_timepicker.timezoneAdjust(s,i.timezone,k.tm_timepicker.timezoneOffsetString(-s.getTimezoneOffset())))),s):this._base_getDateDatepicker(e,t)},k.tm_datepicker._base_parseDate=k.tm_datepicker.parseDate,k.tm_datepicker.parseDate=function(t,i,s){var a;try{a=this._base_parseDate(t,i,s)}catch(e){if(!(0<=e.indexOf(":")))throw e;a=this._base_parseDate(t,i.substring(0,i.length-(e.length-e.indexOf(":")-2)),s),k.tm_timepicker.log("Error parsing the date string: "+e+"\ndate string = "+i+"\ndate format = "+t)}return a},k.tm_datepicker._base_formatDate=k.tm_datepicker._formatDate,k.tm_datepicker._formatDate=function(e){var t=this._get(e,"tm_timepicker");return t?(t._updateDateTime(e),t.$input.val()):this._base_formatDate(e)},k.tm_datepicker._base_optionDatepicker=k.tm_datepicker._optionDatepicker,k.tm_datepicker._optionDatepicker=function(e,t,i){var s,a,n,r,l,m,o,c=this._getInst(e);if(!c)return null;if(c=this._get(c,"tm_timepicker")){if(o=a=m=null,n=c._defaults.evnts,r={},"string"==typeof t){if("minDate"===t||"minDateTime"===t)m=i;else if("maxDate"===t||"maxDateTime"===t)a=i;else if("onSelect"===t)o=i;else if(Object.prototype.hasOwnProperty.call(n,t)){if(void 0===i)return n[t];r[t]=i,s={}}}else if("object"==typeof t)for(l in t.minDate?m=t.minDate:t.minDateTime?m=t.minDateTime:t.maxDate?a=t.maxDate:t.maxDateTime&&(a=t.maxDateTime),n)Object.prototype.hasOwnProperty.call(n,l)&&t[l]&&(r[l]=t[l]);for(l in r)Object.prototype.hasOwnProperty.call(r,l)&&(n[l]=r[l],delete(s=s||k.extend({},t))[l]);if(s&&u(s))return;if(m?(m=0===m?new Date:new Date(m),c._defaults.minDate=m,c._defaults.minDateTime=m):a?(a=0===a?new Date:new Date(a),c._defaults.maxDate=a,c._defaults.maxDateTime=a):o&&(c._defaults.onSelect=o),m||a)return o=(c=k(e)).tm_datetimepicker("getDate"),m=this._base_optionDatepicker.call(k.tm_datepicker,e,s||t,i),c.tm_datetimepicker("setDate",o),m}return void 0===i?this._base_optionDatepicker.call(k.tm_datepicker,e,t):this._base_optionDatepicker.call(k.tm_datepicker,e,s||t,i)},k.tm_timepicker=new _,k.tm_timepicker.timezoneOffsetString=function(e,t){var i;return!(isNaN(e)||840<e||e<-720)&&(i=e%60,t=t?":":"","+00:00"==(e=(0<=e?"+":"-")+("0"+Math.abs((e-i)/60)).slice(-2)+t+("0"+Math.abs(i)).slice(-2)))?"Z":e},k.tm_timepicker.timezoneOffsetNumber=function(e){var t=e.toString().replace(":","");return"Z"===t.toUpperCase()?0:/^(-|\+)\d{4}$/.test(t)?("-"===t.substring(0,1)?-1:1)*(60*parseInt(t.substring(1,3),10)+parseInt(t.substring(3,5),10)):parseInt(e,10)},k.tm_timepicker.timezoneAdjust=function(e,t,i){t=k.timepicker.timezoneOffsetNumber(t),i=k.tm_timepicker.timezoneOffsetNumber(i);return isNaN(i)||e.setMinutes(e.getMinutes()+-t- -i),e},k.tm_timepicker.timeRange=function(e,t,i){return k.tm_timepicker.handleRange("tm_timepicker",e,t,i)},k.tm_timepicker.datetimeRange=function(e,t,i){k.tm_timepicker.handleRange("tm_datetimepicker",e,t,i)},k.tm_timepicker.dateRange=function(e,t,i){k.tm_timepicker.handleRange("tm_datepicker",e,t,i)},k.tm_timepicker.handleRange=function(r,l,m,o){var e=!1;function t(e,t){var i,s,a=l[r]("getDate"),n=m[r]("getDate"),e=e[r]("getDate");null!==a&&(i=new Date(a.getTime()),s=new Date(a.getTime()),i.setMilliseconds(i.getMilliseconds()+o.minInterval),s.setMilliseconds(s.getMilliseconds()+o.maxInterval),0<o.minInterval&&n<i?m[r]("setDate",i):0<o.maxInterval&&s<n?m[r]("setDate",s):n<a&&t[r]("setDate",e))}function i(e,t,i){e.val()&&(null!==(e=e[r].call(e,"getDate"))&&0<o.minInterval&&("minDate"===i&&e.setMilliseconds(e.getMilliseconds()+o.minInterval),"maxDate"===i&&e.setMilliseconds(e.getMilliseconds()-o.minInterval)),e.getTime&&t[r].call(t,"option",i,e))}return o=k.extend({},{minInterval:0,maxInterval:0,start:{},end:{}},o),"tm_timepicker"===r&&(e=!0,r="tm_datetimepicker"),k.fn[r].call(l,k.extend({timeOnly:e,onClose:function(){t(k(this),m)},onSelect:function(){i(k(this),m,"minDate")}},o,o.start)),k.fn[r].call(m,k.extend({timeOnly:e,onClose:function(){t(k(this),l)},onSelect:function(){i(k(this),l,"maxDate")}},o,o.end)),t(l,m),i(l,m,"minDate"),i(m,l,"maxDate"),k([l.get(0),m.get(0)])},k.tm_timepicker.log=function(){window.console&&window.console.log&&window.console.log.apply&&window.console.log.apply(window.console,Array.prototype.slice.call(arguments))},k.tm_timepicker._util={_extendRemove:n,_isEmptyObject:u,_convert24to12:r,_detectSupport:h,_selectLocalTimezone:T,_computeEffectiveSetting:o,_splitDateTime:l,_parseDateTimeInternal:m},Date.prototype.getMicroseconds||(Object.defineProperty(Date.prototype,"microseconds",{value:0,writable:!0}),Object.defineProperty(Date.prototype,"getMicroseconds",{value:function(){return this.microseconds}}),Object.defineProperty(Date.prototype,"setMicroseconds",{value:function(e){return this.setMilliseconds(this.getMilliseconds()+Math.floor(e/1e3)),this.microseconds=e%1e3,this}})),k.tm_timepicker.version="1.6.3")});!function(v){"use strict";function n(t,s){return this.elements=v(t),this.last=[],this.current=[],this.enableEvents=!0,this.backup=[],this.options=v.extend({},v.fn.tcTabs.defaults,s),0<this.elements.length&&(this.init(),this)}var w=v.epoAPI.util.getStorage("localStorage"),p=window.confirm;n.prototype={constructor:n,set:function(t){this.options=v.extend({},this.options,t),this.init()},addHeaderEvents:function(i,o,e,t,n,l,r,d,c){var s="",h=this;t.off("closetab.tmtabs").on("closetab.tmtabs",function(){var t=v(this),s=i.find(t.data("tab"));t.removeClass("closed open").addClass("closed"),t.find(".tm-arrow").removeClass(h.options.classdown+" "+h.options.classup).addClass(h.options.classdown),h.options.useclasstohide?s.addClass("tm-hide").removeClass("tm-show"):s.hide(),s.removeClass("tm-animated "+h.options.animationclass),v(window).trigger("tc-closetab.tmtabs",{header:t,tab:s})}),t.off("opentab.tmtabs").on("opentab.tmtabs",function(){var t=v(this),s=i.find(t.data("tab"));t.removeClass("closed open").addClass("open"),t.find(".tm-arrow").removeClass(h.options.classdown+" "+h.options.classup).addClass(h.options.classup),h.options.useclasstohide?s.removeClass("tm-hide").addClass("tm-show"):s.show(),s.removeClass("tm-animated "+h.options.animationclass).addClass("tm-animated "+h.options.animationclass),h.current[o]=t.data("tab"),v(window).trigger("tc-opentab.tmtabs",{header:t,tab:h.current[o],table:s}),h.scrollIntoView(i,t,c)}),!0!==h.options.showonhover&&"function"!=typeof h.options.showonhover||(s=" mouseover"),t.off("keydown.tmtabs").on("keydown.tmtabs",function(t){var s,o=v(this);13===t.keyCode&&o.trigger("click.tmtabs"),40===t.keyCode&&(s=o.closest(".tm-box").next().find("."+h.options.header)),(s=38===t.keyCode?o.closest(".tm-box").prev().find("."+h.options.header):s)&&s.length&&(o.trigger("blur"),s.trigger(" focus").trigger("click"),t.preventDefault())}),t.off("click.tmtabs").on("click.tmtabs"+s,function(t){var s=v(this);t.preventDefault(),"mouseover"===t.type&&"function"==typeof h.options.showonhover&&!h.options.showonhover.call()||(h.current[o]===s.data("tab")?v(window).trigger("tc-isopentab.tmtabs",{header:s,tab:h.current[o],table:i.find(h.current[o])}):(h.last[o]&&v(h.last[o]).trigger("closetab.tmtabs"),s.trigger("opentab.tmtabs"),h.last[o]=s,w&&w.setItem("tmadmintab-"+e,s.attr(h.options.dataopenattribute)),v(window).trigger("tc-tmtabs-clicked",{tc:e,options:h.options,header:s,tab:h.current[o],table:i.find(h.current[o])})))}),this.options.deletebutton?(t.append(this.options.deletebuttonhtml),t.find("."+this.options.deleteheader).off("click.tmtabs").on("click.tmtabs",function(t){var s=v(this),o=s.closest(".tm-box"),e=o.find("."+h.options.header),a=i.find("."+e.attr(h.options.dataattribute));t.stopPropagation(),i.find("."+h.options.headers+" ."+h.options.header).length<2||h.options.deleteconfirm&&!p(window.TMEPOGLOBALADMINJS.i18n_builder_delete)||("function"==typeof h.options.beforedeletetab&&h.options.beforedeletetab.call(i,s,a),a.remove(),e.is(".open")&&(o.next().find("."+h.options.header).is(".closed")?o.next().find("."+h.options.header).trigger("click.tmtabs"):o.prev().find("."+h.options.header).is(".closed")&&o.prev().find("."+h.options.header).trigger("click.tmtabs")),o.remove(),h.checkSize(n,l,r,d,c,!0),"function"==typeof h.options.afterdeletetab&&h.options.afterdeletetab.call(i))})):t.find("."+this.options.deleteheader).remove(),this.options.editbutton?(t.append(h.options.editbuttonhtml),t.find("."+h.options.editheader).off("click.tmtabs").on("click.tmtabs",function(t){var s;h.enableEvents&&"function"==typeof h.options.oneditbutton&&(t.stopPropagation(),t=v(this),s=i.find("."+t.closest(".tm-box").find("."+h.options.header).attr(h.options.dataattribute)),h.options.oneditbutton.call(i,t,s))})):t.find("."+this.options.editheader).remove()},initHeader:function(t,s,o,e,a,i,n,l){var r=s.attr("class"),d="."+(t=v(t)).attr(this.options.dataattribute);t.data("tab",d),this.options.useclasstohide?s.find(d).addClass("tm-hide").removeClass("tm-show"):s.find(d).hide(),s.find(d).data("state","closed"),t.is(".open")?(t.removeClass("closed open").addClass("open").data("state","open"),t.find(".tm-arrow").removeClass(this.options.classdown+" "+this.options.classup).addClass(this.options.classup),this.options.useclasstohide?s.find(d).removeClass("tm-hide").addClass("tm-show"):s.find(d).show(),s.find(d).data("state","open"),this.current[o]=d,this.last[o]=t):t.removeClass("closed open").addClass("closed").data("state","closed"),this.addHeaderEvents(s,o,r,t,e,a,i,n,l)},checkSize:function(t,s,o,e,a,i){var n,l=[];s.parents().addBack().not(":visible").each(function(){var t=v(this),s=this.style.display,o=t.css("display"),e=this.style.visibility,a=!1,o={styleDisplay:s,cssDisplay:o,styleVisibility:e,cssVisibility:t.css("visibility"),display:null,visibility:null,element:t};"none"===s&&(this.style.display="",o.display=!0,"none"===t.css("display")&&(this.style.display="block"),a=!0),"hidden"===e&&(this.style.visibility="",o.visibility=!0,"hidden"===t.css("visibility")&&(this.style.visibility="visible"),a=!0),a&&l.push(o)}),n=Math.round(s.outerWidth()),s.is(".has-scroll-arrows")&&(s.removeClass(".has-scroll-arrows"),n=Math.round(t.outerWidth())),i&&((t=s.find("."+this.options.header+".open")).length&&t.removeClass("open"),a.scrollWidth=s[0].scrollWidth,t.length&&t.addClass("open")),a.scrollWidth>n?(e.addClass("scroll-arrow-show"),o.addClass("scroll-arrow-show"),s.addClass("has-scroll-arrows"),a.scrollWidth-n===s.scrollLeft()?e.addClass("scroll-arrow-disabled scroll-arrow-right-disabled"):e.removeClass("scroll-arrow-disabled scroll-arrow-right-disabled"),0===s.scrollLeft()?o.addClass("scroll-arrow-disabled scroll-arrow-left-disabled"):o.removeClass("scroll-arrow-disabled scroll-arrow-left-disabled")):(e.removeClass("scroll-arrow-show"),o.removeClass("scroll-arrow-show"),s[0].scrollLeft=0,s.removeClass("has-scroll-arrows")),l.forEach(function(t){t.display&&(t.element[0].style.display=t.styleDisplay),t.visibility&&(t.element[0].style.visibility=t.styleVisibility)})},scrollIntoView:function(t,s,o){var e=o.scrollPos,t=t.find("."+this.options.headers),a=t.width();t.is(".has-scroll-arrows")&&s&&void 0!==s&&s.position()&&void 0!==s.position()&&(s.position().left<0?(o.scrollPos=Math.max(e+s.position().left+1,0),t.animate({scrollLeft:o.scrollPos+1+"px"},this.options.scrollDuration)):s.position().left+s.outerWidth()>a&&(o.scrollPos=Math.min(e+(s.position().left+s.outerWidth()-a),t[0].scrollWidth-t.outerWidth()),t.animate({scrollLeft:o.scrollPos-1+"px"},this.options.scrollDuration)))},initElement:function(l,r,d,t){var c,h,p,f,s,i,o,m=this,b=l.attr("class"),e=l.find("."+this.options.headers+" ."+this.options.header),n=0,u="",a={};0!==e.length&&((c=l.find("."+this.options.headers)).wrap('<div class="'+this.options.headersWrap+'"></div>'),h=l.find("."+this.options.headersWrap),this.options.scroll&&(h.html('<div class="tc-scroll-left-arrow"></div>'+h.html()+'<div class="tc-scroll-right-arrow"></div>'),e=l.find("."+this.options.headers+" ."+this.options.header),c=l.find("."+this.options.headers),p=l.find(".tc-scroll-left-arrow"),f=l.find(".tc-scroll-right-arrow"),"function"==typeof v.fn.mousewheel&&c.mousewheel(function(t,s){"none"!==f.css("display")&&(this.scrollLeft-=30*s,d.scrollPos=this.scrollLeft,t.preventDefault())}),c.animate({scrollLeft:d.scrollPos+"px"},0),this.checkSize(h,c,p,f,d,!0),v(window).off("resize.tmtabs"+t).on("resize.tmtabs"+t,function(){m.checkSize(h,c,p,f,d,!0)}),l.off("refresh.tmtabs"+t).on("refresh.tmtabs"+t,function(){m.checkSize(h,c,p,f,d,!0)}),v(function(){m.checkSize(h,c,p,f,d,!0)}),f.off("mousedown.tmtabs mouseup.tmtabs mouseleave.tmtabs mouseover.tmtabs mouseout.tmtabs").on("mousedown.tmtabs",function(t){function s(){var t=c.scrollLeft();d.scrollPos=Math.min(t+m.options.scrollDistance,d.scrollWidth-c.outerWidth()),c.animate({scrollLeft:d.scrollPos+"px"},m.options.scrollDuration,function(){m.checkSize(h,c,p,f,d)})}t.stopPropagation(),s(),o=setInterval(function(){s()},m.options.scrollDuration)}).on("mouseup.tmtabs mouseleave.tmtabs",function(){clearInterval(o)}).on("mouseover.tmtabs",function(){v(this).addClass("scroll-arrow-over scroll-arrow-right-over")}).on("mouseout.tmtabs",function(){v(this).removeClass("scroll-arrow-over scroll-arrow-right-over")}),p.off("mousedown.tmtabs mouseup.tmtabs mouseleave.tmtabs mouseover.tmtabs mouseout.tmtabs").on("mousedown.tmtabs",function(t){function s(){var t=c.scrollLeft();d.scrollPos=Math.max(t-m.options.scrollDistance,0),c.animate({scrollLeft:d.scrollPos+"px"},m.options.scrollDuration,function(){m.checkSize(h,c,p,f,d)})}t.stopPropagation(),s(),o=setInterval(function(){s()},m.options.scrollDuration)}).on("mouseup.tmtabs mouseleave.tmtabs",function(){clearInterval(o)}).on("mouseover.tmtabs",function(){v(this).addClass("scroll-arrow-over scroll-arrow-left-over")}).on("mouseout.tmtabs",function(){v(this).removeClass("scroll-arrow-over scroll-arrow-left-over")})),window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi,function(t,s,o){a[s]=o}),this.last[r]=!1,this.current[r]="",l.data("tm-has-tmtabs",1),e.each(function(t,s){m.initHeader(s,l,r,h,c,p,f,d)}),this.options.sortabletabs&&l.find("."+this.options.headers+":not(.section_elements ."+this.options.headers+",.tm-settings-wrap ."+this.options.headers+",.builder-element-wrap ."+this.options.headers+")").sortable({cursor:"move",items:".tm-box:not(.tm-add-box)",start:function(t,s){var o=l.find("."+s.item.closest(".tm-box").find("."+m.options.header).attr(m.options.dataattribute));n=s.item.index(),u=s.item.find("."+m.options.header).attr(m.options.dataopenattribute),i=v.tmEPOAdmin.find_index(!0,o.find(".bitem").first()),"function"==typeof m.options.beforemovetab&&m.options.beforemovetab.call(this,n,o,i),m.enableEvents=!1},stop:function(t,s){var s=l.find("."+s.item.closest(".tm-box").find("."+m.options.header).attr(m.options.dataattribute)),o=l.find("."+m.options.slide+"."+u),e=l.find("."+m.options.headers+" ."+m.options.header+"["+m.options.dataopenattribute+"='"+u+"']").parent().index(),a=l.find("."+m.options.slide).eq(e);n<e?a.after(o):e<n&&a.before(o),"function"==typeof m.options.aftermovetab&&m.options.aftermovetab.call(this,e,n,s,i),m.enableEvents=!0},cancel:".tm-add-box",forcePlaceholderSize:!0,revert:200,placeholder:"tm-box pl",tolerance:"pointer"}),this.options.addbutton?(h.append(this.options.addbuttonhtml),l.addClass("has-add-button").find("."+this.options.addheader).off("click.tmtabs").on("click.tmtabs",function(t){var s=l.find("."+m.options.headers+" ."+m.options.header),o=s.last(),e=o.attr(m.options.dataattribute),a=l.find("."+e),i=o.tcClone().off("closetab.tmtabs opentab.tmtabs click.tmtabs"),n=a.tcClone().empty(),s=m.options.slide+s.length;t.preventDefault(),i.html('<span class="tab-text">'+(l.find("."+m.options.headers+" ."+m.options.header).length+1)+"</span>").removeClass("closed open").addClass("closed").data("tab","."+s).data("state","closed").attr(m.options.dataattribute,s),n.removeClass(e).addClass(s),m.options.useclasstohide?n.addClass("tm-hide").removeClass(".tm-show"):n.hide(),n.removeClass("tm-animated "+m.options.animationclass),o.closest(".tm-box").after(i),i.wrap('<div class="tm-box"></div>'),m.addHeaderEvents(l,r,b,i,h,c,p,f,d),a.after(n),m.options.scroll&&c.animate({scrollLeft:i.width()+"px"},m.options.scrollDuration,function(){m.checkSize(h,c,p,f,d,!0)}),"function"==typeof m.options.afteraddtab&&m.options.afteraddtab.call(this,i,n)})):h.find("."+this.options.addheader).remove(),"auto"===this.options.selectedtab?(w&&(s=w.getItem("tmadmintab-"+b)),void 0!==a.selected_tab&&(s=a.selected_tab),null==(s=void 0!==a.menu?a.menu:s)&&(s=l.find("."+this.options.header).eq(0).attr(this.options.dataopenattribute)),(l.find("."+this.options.header+"["+this.options.dataopenattribute+'="'+s+'"]').is(":visible")?l.find("."+this.options.header+"["+this.options.dataopenattribute+'="'+s+'"]'):l.find("."+this.options.header).eq(0)).trigger("click.tmtabs")):!1!==this.options.selectedtab&&(s=parseInt(this.options.selectedtab,10),l.find("."+this.options.header+":eq("+s+")").trigger("click.tmtabs")))},init:function(){var a=this;this.elements.each(function(t){var s=v(this),o={},e=s.html();a.backup[t]?s.html(a.backup[t]):a.backup[t]=e,o.scrollPos=0,o.scrollWidth=0,e=s.css("display"),s.show(),a.initElement(s,t,o,v.epoAPI.math.uniqueid("")),s.css("display",e)})}},v.fn.tcTabs=function(t){var s,o,e=v(this),a=e.data("tctabs"),i=v.makeArray(arguments);return i.splice(0,1),o="object"==typeof t?t:{},a||(a=new n(this,o),e.data("tctabs",a)),void 0===(s="string"==typeof t?a[t].apply(a,i):s)?e:s},v.fn.tcTabs.defaults={headers:"tm-tab-headers",headersWrap:"tc-tab-headers-wrap",header:"tab-header",slide:"tc-tab-slide",classdown:"tcfa-angle-down",classup:"tcfa-angle-up",animationclass:"appear",dataattribute:"data-id",dataopenattribute:"data-id",selectedtab:"auto",showonhover:!1,useclasstohide:!0,sortabletabs:!0,addbutton:!1,addheader:"tm-add-tab",addbuttonhtml:'<div class="tm-add-tab"><span class="tmicon tcfa tcfa-plus"></span></div>',afteraddtab:null,beforemovetab:null,aftermovetab:null,deletebutton:!1,deletebuttonhtml:'<div class="tm-del-tab"><span class="tcfa tcfa-times"></span></div>',deleteheader:"tm-del-tab",deleteconfirm:!1,beforedeletetab:null,afterdeletetab:null,editbutton:!1,editbuttonhtml:'<span class="tm-edit-tab"><span class="tcfa tcfa-edit"></span></span>',editheader:"tm-edit-tab",oneditbutton:null,scroll:!0,scrollDistance:300,scrollDuration:300},v.fn.tcTabs.Constructor=n,v.fn.tmtabs=v.fn.tcTabs}(window.jQuery);!function(h,s,n){"use strict";function r(t,e){this.settings=null,this.options=h.extend({},r.Defaults,e),this.$element=h(t),this._handlers={},this._plugins={},this._supress={},this._current=null,this._speed=null,this._coordinates=[],this._breakpoint=null,this._width=null,this._items=[],this._clones=[],this._mergers=[],this._widths=[],this._invalidated={},this._pipe=[],this._drag={time:null,target:null,pointer:null,stage:{start:null,current:null},direction:null},this._states={current:{},tags:{initializing:["busy"],animating:["busy"],dragging:["interacting"]}},h.each(["onResize","onThrottledResize"],h.proxy(function(t,e){this._handlers[e]=h.proxy(this[e],this)},this)),h.each(r.Plugins,h.proxy(function(t,e){this._plugins[t.charAt(0).toLowerCase()+t.slice(1)]=new e(this)},this)),h.each(r.Workers,h.proxy(function(t,e){this._pipe.push({filter:e.filter,run:h.proxy(e.run,this)})},this)),this.setup(),this.initialize()}r.Defaults={items:3,loop:!1,center:!1,rewind:!1,checkVisibility:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!0,freeDrag:!1,margin:0,stagePadding:0,merge:!1,mergeFit:!0,autoWidth:!1,startPosition:0,rtl:!1,smartSpeed:250,fluidSpeed:!1,dragEndSpeed:!1,responsive:{},responsiveRefreshRate:200,responsiveBaseElement:s,fallbackEasing:"linear",slideTransition:"",info:!1,nestedItemSelector:!1,itemElement:"div",stageElement:"div",refreshClass:"owl-refresh",loadedClass:"owl-loaded",loadingClass:"owl-loading",rtlClass:"owl-rtl",responsiveClass:"owl-responsive",dragClass:"owl-drag",itemClass:"owl-item",stageClass:"owl-stage",stageOuterClass:"owl-stage-outer",grabClass:"owl-grab"},r.Width={Default:"default",Inner:"inner",Outer:"outer"},r.Type={Event:"event",State:"state"},r.Plugins={},r.Workers=[{filter:["width","settings"],run:function(){this._width=this.$element.width()}},{filter:["width","items","settings"],run:function(t){t.current=this._items&&this._items[this.relative(this._current)]}},{filter:["items","settings"],run:function(){this.$stage.children(".cloned").remove()}},{filter:["width","items","settings"],run:function(t){var e=this.settings.margin||"",i=!this.settings.autoWidth,s=this.settings.rtl,s={width:"auto","margin-left":s?e:"","margin-right":s?"":e};i||this.$stage.children().css(s),t.css=s}},{filter:["width","items","settings"],run:function(t){var e,i=(this.width()/this.settings.items).toFixed(3)-this.settings.margin,s=this._items.length,n=!this.settings.autoWidth,o=[];for(t.items={merge:!1,width:i};0<s;)e=this._mergers[s-=1],e=this.settings.mergeFit&&Math.min(e,this.settings.items)||e,t.items.merge=1<e||t.items.merge,o[s]=n?i*e:this._items[s].width();this._widths=o}},{filter:["items","settings"],run:function(){var t=[],e=this._items,i=this.settings,s=Math.max(2*i.items,4),n=2*Math.ceil(e.length/2),o=i.loop&&e.length?i.rewind?s:Math.max(s,n):0,r="",a="";for(o/=2;0<o;)t.push(this.normalize(t.length/2,!0)),r+=e[t[t.length-1]][0].outerHTML,t.push(this.normalize(e.length-1-(t.length-1)/2,!0)),a=e[t[t.length-1]][0].outerHTML+a,--o;this._clones=t,h(r).addClass("cloned").appendTo(this.$stage),h(a).addClass("cloned").prependTo(this.$stage)}},{filter:["width","items","settings"],run:function(){for(var t,e,i=this.settings.rtl?1:-1,s=this._clones.length+this._items.length,n=0,o=[];n<s;)t=o[n-1]||0,e=this._widths[this.relative(n)]+this.settings.margin,o.push(t+e*i),n+=1;this._coordinates=o}},{filter:["width","items","settings"],run:function(){var t=this.settings.stagePadding,e=this._coordinates,e={width:Math.ceil(Math.abs(e[e.length-1]))+2*t,"padding-left":t||"","padding-right":t||""};this.$stage.css(e)}},{filter:["width","items","settings"],run:function(t){var e=this._coordinates.length,i=!this.settings.autoWidth,s=this.$stage.children();if(i&&t.items.merge)for(;0<e;)t.css.width=this._widths[this.relative(e-=1)],s.eq(e).css(t.css);else i&&(t.css.width=t.items.width,s.css(t.css))}},{filter:["items"],run:function(){this._coordinates.length<1&&this.$stage.removeAttr("style")}},{filter:["width","items","settings"],run:function(t){t.current=t.current?this.$stage.children().index(t.current):0,t.current=Math.max(this.minimum(),Math.min(this.maximum(),t.current)),this.reset(t.current)}},{filter:["position"],run:function(){this.animate(this.coordinates(this._current))}},{filter:["width","position","items","settings"],run:function(){for(var t,e,i=this.settings.rtl?1:-1,s=2*this.settings.stagePadding,n=this.coordinates(this.current())+s,o=n+this.width()*i,r=[],a=0,h=this._coordinates.length;a<h;a+=1)t=this._coordinates[a-1]||0,e=Math.abs(this._coordinates[a])+s*i,(this.op(t,"<=",n)&&this.op(t,">",o)||this.op(e,"<",n)&&this.op(e,">",o))&&r.push(a);this.$stage.children(".active").removeClass("active"),this.$stage.children(":eq("+r.join("), :eq(")+")").addClass("active"),this.$stage.children(".center").removeClass("center"),this.settings.center&&this.$stage.children().eq(this.current()).addClass("center")}}],r.prototype.initializeStage=function(){this.$stage=this.$element.find("."+this.settings.stageClass),this.$stage.length||(this.$element.addClass(this.options.loadingClass),this.$stage=h("<"+this.settings.stageElement+">",{class:this.settings.stageClass}).wrap(h("<div/>",{class:this.settings.stageOuterClass})),this.$element.append(this.$stage.parent()))},r.prototype.initializeItems=function(){var t=this.$element.find(".owl-item");t.length?(this._items=t.get().map(function(t){return h(t)}),this._mergers=this._items.map(function(){return 1}),this.refresh()):(this.replace(this.$element.children().not(this.$stage.parent())),this.isVisible()?this.refresh():this.invalidate("width"),this.$element.removeClass(this.options.loadingClass).addClass(this.options.loadedClass))},r.prototype.initialize=function(){var t,e;this.enter("initializing"),this.trigger("initialize"),this.$element.toggleClass(this.settings.rtlClass,this.settings.rtl),this.settings.autoWidth&&!this.is("pre-loading")&&(t=this.$element.find("img"),e=this.settings.nestedItemSelector?"."+this.settings.nestedItemSelector:void 0,e=this.$element.children(e).width(),t.length&&e<=0&&this.preloadAutoWidthImages(t)),this.initializeStage(),this.initializeItems(),this.registerEventHandlers(),this.leave("initializing"),this.trigger("initialized")},r.prototype.isVisible=function(){return!this.settings.checkVisibility||this.$element.is(":visible")},r.prototype.setup=function(){var e=this.viewport(),t=this.options.responsive,i=-1,s=null;t?(h.each(t,function(t){t<=e&&i<t&&(i=Number(t))}),"function"==typeof(s=h.extend({},this.options,t[i])).stagePadding&&(s.stagePadding=s.stagePadding()),delete s.responsive,s.responsiveClass&&this.$element.attr("class",this.$element.attr("class").replace(new RegExp("("+this.options.responsiveClass+"-)\\S+\\s","g"),"$1"+i))):s=h.extend({},this.options),this.trigger("change",{property:{name:"settings",value:s}}),this._breakpoint=i,this.settings=s,this.invalidate("settings"),this.trigger("changed",{property:{name:"settings",value:this.settings}})},r.prototype.optionsLogic=function(){this.settings.autoWidth&&(this.settings.stagePadding=!1,this.settings.merge=!1)},r.prototype.prepare=function(t){var e=this.trigger("prepare",{content:t});return e.data||(e.data=h("<"+this.settings.itemElement+"/>").addClass(this.options.itemClass).append(t)),this.trigger("prepared",{content:e.data}),e.data},r.prototype.update=function(){for(var t=0,e=this._pipe.length,i=h.proxy(function(t){return this[t]},this._invalidated),s={};t<e;)(this._invalidated.all||0<h.grep(this._pipe[t].filter,i).length)&&this._pipe[t].run(s),t+=1;this._invalidated={},this.is("valid")||this.enter("valid")},r.prototype.width=function(t){switch(t=t||r.Width.Default){case r.Width.Inner:case r.Width.Outer:return this._width;default:return this._width-2*this.settings.stagePadding+this.settings.margin}},r.prototype.refresh=function(){this.enter("refreshing"),this.trigger("refresh"),this.setup(),this.optionsLogic(),this.$element.addClass(this.options.refreshClass),this.update(),this.$element.removeClass(this.options.refreshClass),this.leave("refreshing"),this.trigger("refreshed")},r.prototype.onThrottledResize=function(){s.clearTimeout(this.resizeTimer),this.resizeTimer=s.setTimeout(this._handlers.onResize,this.settings.responsiveRefreshRate)},r.prototype.onResize=function(){return!!this._items.length&&(this._width!==this.$element.width()&&(!!this.isVisible()&&(this.enter("resizing"),this.trigger("resize").isDefaultPrevented()?(this.leave("resizing"),!1):(this.invalidate("width"),this.refresh(),this.leave("resizing"),void this.trigger("resized")))))},r.prototype.registerEventHandlers=function(){h.support.transition&&this.$stage.on(h.support.transition.end+".owl.core",h.proxy(this.onTransitionEnd,this)),!1!==this.settings.responsive&&this.on(s,"resize",this._handlers.onThrottledResize),this.settings.mouseDrag&&(this.$element.addClass(this.options.dragClass),this.$stage.on("mousedown.owl.core",h.proxy(this.onDragStart,this)),this.$stage.on("dragstart.owl.core selectstart.owl.core",function(){return!1})),this.settings.touchDrag&&(this.$stage.on("touchstart.owl.core",h.proxy(this.onDragStart,this)),this.$stage.on("touchcancel.owl.core",h.proxy(this.onDragEnd,this)))},r.prototype.onDragStart=function(t){var e=null;3!==t.which&&(e=h.support.transform?{x:(e=this.$stage.css("transform").replace(/.*\(|\)| /g,"").split(","))[16===e.length?12:4],y:e[16===e.length?13:5]}:(e=this.$stage.position(),{x:this.settings.rtl?e.left+this.$stage.width()-this.width()+this.settings.margin:e.left,y:e.top}),this.is("animating")&&(h.support.transform?this.animate(e.x):this.$stage.stop(),this.invalidate("position")),this.$element.toggleClass(this.options.grabClass,"mousedown"===t.type),this.speed(0),this._drag.time=(new Date).getTime(),this._drag.target=h(t.target),this._drag.stage.start=e,this._drag.stage.current=e,this._drag.pointer=this.pointer(t),h(n).on("mouseup.owl.core touchend.owl.core",h.proxy(this.onDragEnd,this)),h(n).one("mousemove.owl.core touchmove.owl.core",h.proxy(function(t){var e=this.difference(this._drag.pointer,this.pointer(t));h(n).on("mousemove.owl.core touchmove.owl.core",h.proxy(this.onDragMove,this)),Math.abs(e.x)<Math.abs(e.y)&&this.is("valid")||(t.preventDefault(),this.enter("dragging"),this.trigger("drag"))},this)))},r.prototype.onDragMove=function(t){var e=null,i=null,s=this.difference(this._drag.pointer,this.pointer(t)),n=this.difference(this._drag.stage.start,s);this.is("dragging")&&(t.preventDefault(),this.settings.loop?(e=this.coordinates(this.minimum()),i=this.coordinates(this.maximum()+1)-e,n.x=((n.x-e)%i+i)%i+e):(e=this.settings.rtl?this.coordinates(this.maximum()):this.coordinates(this.minimum()),i=this.settings.rtl?this.coordinates(this.minimum()):this.coordinates(this.maximum()),t=this.settings.pullDrag?-1*s.x/5:0,n.x=Math.max(Math.min(n.x,e+t),i+t)),this._drag.stage.current=n,this.animate(n.x))},r.prototype.onDragEnd=function(t){var t=this.difference(this._drag.pointer,this.pointer(t)),e=this._drag.stage.current,i=0<t.x,i=i&&!this.settings.rtl||this.settings.rtl&&!i?"left":"right";h(n).off(".owl.core"),this.$element.removeClass(this.options.grabClass),(0!==t.x&&this.is("dragging")||!this.is("valid"))&&(this.speed(this.settings.dragEndSpeed||this.settings.smartSpeed),this.current(this.closest(e.x,0!==t.x?i:this._drag.direction)),this.invalidate("position"),this.update(),this._drag.direction=i,(3<Math.abs(t.x)||300<(new Date).getTime()-this._drag.time)&&this._drag.target.one("click.owl.core",function(){return!1})),this.is("dragging")&&(this.leave("dragging"),this.trigger("dragged"))},r.prototype.closest=function(i,s){var n=-1,o=this.width(),r=this.coordinates();return this.settings.freeDrag||h.each(r,h.proxy(function(t,e){return"left"===s&&e-30<i&&i<e+30?n=t:"right"===s&&e-o-30<i&&i<e-o+30?n=t+1:this.op(i,"<",e)&&this.op(i,">",void 0!==r[t+1]?r[t+1]:e-o)&&(n="left"===s?t+1:t),-1===n},this)),this.settings.loop||(this.op(i,">",r[this.minimum()])?(i=this.minimum(),n=i):this.op(i,"<",r[this.maximum()])&&(i=this.maximum(),n=i)),n},r.prototype.animate=function(t){var e=0<this.speed();this.is("animating")&&this.onTransitionEnd(),e&&(this.enter("animating"),this.trigger("translate")),h.support.transform3d&&h.support.transition?this.$stage.css({transform:"translate3d("+t+"px,0px,0px)",transition:this.speed()/1e3+"s"+(this.settings.slideTransition?" "+this.settings.slideTransition:"")}):e?this.$stage.animate({left:t+"px"},this.speed(),this.settings.fallbackEasing,h.proxy(this.onTransitionEnd,this)):this.$stage.css({left:t+"px"})},r.prototype.is=function(t){return this._states.current[t]&&0<this._states.current[t]},r.prototype.current=function(t){var e;return void 0===t?this._current:0!==this._items.length?(t=this.normalize(t),this._current!==t&&(void 0!==(e=this.trigger("change",{property:{name:"position",value:t}})).data&&(t=this.normalize(e.data)),this._current=t,this.invalidate("position"),this.trigger("changed",{property:{name:"position",value:this._current}})),this._current):void 0},r.prototype.invalidate=function(t){return"string"==typeof t&&(this._invalidated[t]=!0,this.is("valid")&&this.leave("valid")),h.map(this._invalidated,function(t,e){return e})},r.prototype.reset=function(t){void 0!==(t=this.normalize(t))&&(this._speed=0,this._current=t,this.suppress(["translate","translated"]),this.animate(this.coordinates(t)),this.release(["translate","translated"]))},r.prototype.normalize=function(t,e){var i=this._items.length,e=e?0:this._clones.length;return!this.isNumeric(t)||i<1?t=void 0:(t<0||i+e<=t)&&(t=((t-e/2)%i+i)%i+e/2),t},r.prototype.relative=function(t){return t-=this._clones.length/2,this.normalize(t,!0)},r.prototype.maximum=function(t){var e,i,s,n=this.settings,o=this._coordinates.length;if(n.loop)o=this._clones.length/2+this._items.length-1;else if(n.autoWidth||n.merge){if(e=this._items.length)for(i=this._items[e-=1].width(),s=this.$element.width();0<e&&!(s<(i+=this._items[e].width()+this.settings.margin));)e-=1;o=e+1}else o=n.center?this._items.length-1:this._items.length-n.items;return t&&(o-=this._clones.length/2),Math.max(o,0)},r.prototype.minimum=function(t){return t?0:this._clones.length/2},r.prototype.items=function(t){return void 0===t?this._items.slice():(t=this.normalize(t,!0),this._items[t])},r.prototype.mergers=function(t){return void 0===t?this._mergers.slice():(t=this.normalize(t,!0),this._mergers[t])},r.prototype.clones=function(i){function s(t){return t%2==0?n+t/2:e-(t+1)/2}var e=this._clones.length/2,n=e+this._items.length;return void 0===i?h.map(this._clones,function(t,e){return s(e)}):h.map(this._clones,function(t,e){return t===i?s(e):null})},r.prototype.speed=function(t){return void 0!==t&&(this._speed=t),this._speed},r.prototype.coordinates=function(t){var e,i=1,s=t-1;return void 0===t?h.map(this._coordinates,h.proxy(function(t,e){return this.coordinates(e)},this)):(this.settings.center?(this.settings.rtl&&(i=-1,s=t+1),e=this._coordinates[t],e+=(this.width()-e+(this._coordinates[s]||0))/2*i):e=this._coordinates[s]||0,Math.ceil(e))},r.prototype.duration=function(t,e,i){return 0===i?0:Math.min(Math.max(Math.abs(e-t),1),6)*Math.abs(i||this.settings.smartSpeed)},r.prototype.to=function(t,e){var i=this.current(),s=t-this.relative(i),n=(0<s)-(s<0),o=this._items.length,r=this.minimum(),a=this.maximum();this.settings.loop?(!this.settings.rewind&&Math.abs(s)>o/2&&(s+=-1*n*o),(n=(((t=i+s)-r)%o+o)%o+r)!==t&&n-s<=a&&0<n-s&&this.reset(i=(t=n)-s)):t=this.settings.rewind?(t%(a+=1)+a)%a:Math.max(r,Math.min(a,t)),this.speed(this.duration(i,t,e)),this.current(t),this.isVisible()&&this.update()},r.prototype.next=function(t){t=t||!1,this.to(this.relative(this.current())+1,t)},r.prototype.prev=function(t){t=t||!1,this.to(this.relative(this.current())-1,t)},r.prototype.onTransitionEnd=function(t){if(void 0!==t&&(t.stopPropagation(),(t.target||t.srcElement||t.originalTarget)!==this.$stage.get(0)))return!1;this.leave("animating"),this.trigger("translated")},r.prototype.viewport=function(){var t;if(this.options.responsiveBaseElement!==s)t=h(this.options.responsiveBaseElement).width();else if(s.innerWidth)t=s.innerWidth;else{if(!n.documentElement||!n.documentElement.clientWidth)return t;t=n.documentElement.clientWidth}return t},r.prototype.replace=function(t){this.$stage.empty(),this._items=[],t=t&&(t instanceof s.jQuery?t:h(t)),(t=this.settings.nestedItemSelector?t.find("."+this.settings.nestedItemSelector):t).filter(function(){return 1===this.nodeType}).each(h.proxy(function(t,e){e=this.prepare(e),this.$stage.append(e),this._items.push(e),this._mergers.push(+e.find("[data-merge]").addBack("[data-merge]").attr("data-merge")||1)},this)),this.reset(this.isNumeric(this.settings.startPosition)?this.settings.startPosition:0),this.invalidate("items")},r.prototype.add=function(t,e){var i=this.relative(this._current);e=void 0===e?this._items.length:this.normalize(e,!0),t=t instanceof s.jQuery?t:h(t),this.trigger("add",{content:t,position:e}),t=this.prepare(t),0===this._items.length||e===this._items.length?(0===this._items.length&&this.$stage.append(t),0!==this._items.length&&this._items[e-1].after(t),this._items.push(t),this._mergers.push(+t.find("[data-merge]").addBack("[data-merge]").attr("data-merge")||1)):(this._items[e].before(t),this._items.splice(e,0,t),this._mergers.splice(e,0,+t.find("[data-merge]").addBack("[data-merge]").attr("data-merge")||1)),this._items[i]&&this.reset(this._items[i].index()),this.invalidate("items"),this.trigger("added",{content:t,position:e})},r.prototype.remove=function(t){void 0!==(t=this.normalize(t,!0))&&(this.trigger("remove",{content:this._items[t],position:t}),this._items[t].remove(),this._items.splice(t,1),this._mergers.splice(t,1),this.invalidate("items"),this.trigger("removed",{content:null,position:t}))},r.prototype.preloadAutoWidthImages=function(t){t.each(h.proxy(function(t,e){this.enter("pre-loading"),e=h(e),h(new Image).one("load",h.proxy(function(t){e.attr("src",t.target.src),e.css("opacity",1),this.leave("pre-loading"),this.is("pre-loading")||this.is("initializing")||this.refresh()},this)).attr("src",e.attr("src")||e.attr("data-src")||e.attr("data-src-retina"))},this))},r.prototype.destroy=function(){this.$element.off(".owl.core"),this.$stage.off(".owl.core"),h(n).off(".owl.core"),!1!==this.settings.responsive&&(s.clearTimeout(this.resizeTimer),this.off(s,"resize",this._handlers.onThrottledResize)),h.map(this._plugins,function(t){return t}).forEach(function(t){t&&t.destroy()}),this.$stage.children(".cloned").remove(),this.$stage.unwrap(),this.$stage.children().contents().unwrap(),this.$stage.children().unwrap(),this.$stage.remove(),this.$element.removeClass(this.options.refreshClass).removeClass(this.options.loadingClass).removeClass(this.options.loadedClass).removeClass(this.options.rtlClass).removeClass(this.options.dragClass).removeClass(this.options.grabClass).attr("class",this.$element.attr("class").replace(new RegExp(this.options.responsiveClass+"-\\S+\\s","g"),"")).removeData("owl.carousel")},r.prototype.op=function(t,e,i){var s=this.settings.rtl;switch(e){case"<":return s?i<t:t<i;case">":return s?t<i:i<t;case">=":return s?t<=i:i<=t;case"<=":return s?i<=t:t<=i}},r.prototype.on=function(t,e,i,s){t.addEventListener?t.addEventListener(e,i,s):t.attachEvent&&t.attachEvent("on"+e,i)},r.prototype.off=function(t,e,i,s){t.removeEventListener?t.removeEventListener(e,i,s):t.detachEvent&&t.detachEvent("on"+e,i)},r.prototype.trigger=function(t,e,i){var s={item:{count:this._items.length,index:this.current()}},n=h.camelCase(h.grep(["on",t,i],function(t){return t}).join("-").toLowerCase()),o=h.Event([t,"owl",i||"carousel"].join(".").toLowerCase(),h.extend({relatedTarget:this},s,e));return this._supress[t]||(h.each(this._plugins,function(t,e){e.onTrigger&&e.onTrigger(o)}),this.register({type:r.Type.Event,name:t}),this.$element.trigger(o),this.settings&&"function"==typeof this.settings[n]&&this.settings[n].call(this,o)),o},r.prototype.enter=function(t){h.each([t].concat(this._states.tags[t]||[]),h.proxy(function(t,e){void 0===this._states.current[e]&&(this._states.current[e]=0),this._states.current[e]+=1},this))},r.prototype.leave=function(t){h.each([t].concat(this._states.tags[t]||[]),h.proxy(function(t,e){--this._states.current[e]},this))},r.prototype.register=function(i){var e;i.type===r.Type.Event?(h.event.special[i.name]||(h.event.special[i.name]={}),h.event.special[i.name].owl||(e=h.event.special[i.name]._default,h.event.special[i.name]._default=function(t){return!e||!e.apply||t.namespace&&-1!==t.namespace.indexOf("owl")?t.namespace&&-1<t.namespace.indexOf("owl"):e.apply(this,arguments)},h.event.special[i.name].owl=!0)):i.type===r.Type.State&&(this._states.tags[i.name]?this._states.tags[i.name]=this._states.tags[i.name].concat(i.tags):this._states.tags[i.name]=i.tags,this._states.tags[i.name]=h.grep(this._states.tags[i.name],h.proxy(function(t,e){return h.inArray(t,this._states.tags[i.name])===e},this)))},r.prototype.suppress=function(t){h.each(t,h.proxy(function(t,e){this._supress[e]=!0},this))},r.prototype.release=function(t){h.each(t,h.proxy(function(t,e){delete this._supress[e]},this))},r.prototype.pointer=function(t){var e={x:null,y:null};return(t=(t=t.originalEvent||t||s.event).touches&&t.touches.length?t.touches[0]:t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t).pageX?(e.x=t.pageX,e.y=t.pageY):(e.x=t.clientX,e.y=t.clientY),e},r.prototype.isNumeric=function(t){return!isNaN(parseFloat(t))},r.prototype.difference=function(t,e){return{x:t.x-e.x,y:t.y-e.y}},h.fn.tmowlCarousel=function(e){var s=Array.prototype.slice.call(arguments,1);return this.each(function(){var t=h(this),i=t.data("owl.carousel");i||(i=new r(this,"object"==typeof e&&e),t.data("owl.carousel",i),h.each(["next","prev","to","destroy","refresh","replace","add","remove"],function(t,e){i.register({type:r.Type.Event,name:e}),i.$element.on(e+".owl.carousel.core",h.proxy(function(t){t.namespace&&t.relatedTarget!==this&&(this.suppress([e]),i[e].apply(this,[].slice.call(arguments,1)),this.release([e]))},i))})),"string"==typeof e&&"_"!==e.charAt(0)&&i[e].apply(i,s)})},h.fn.tmowlCarousel.Constructor=r}(window.Zepto||window.jQuery,window,document),function(e,i){"use strict";function s(t){this._core=t,this._interval=null,this._visible=null,this._handlers={"initialized.owl.carousel":e.proxy(function(t){t.namespace&&this._core.settings.autoRefresh&&this.watch()},this)},this._core.options=e.extend({},s.Defaults,this._core.options),this._core.$element.on(this._handlers)}s.Defaults={autoRefresh:!0,autoRefreshInterval:500},s.prototype.watch=function(){this._interval||(this._visible=this._core.isVisible(),this._interval=i.setInterval(e.proxy(this.refresh,this),this._core.settings.autoRefreshInterval))},s.prototype.refresh=function(){this._core.isVisible()!==this._visible&&(this._visible=!this._visible,this._core.$element.toggleClass("owl-hidden",!this._visible),this._visible&&this._core.invalidate("width")&&this._core.refresh())},s.prototype.destroy=function(){var t,e;for(t in i.clearInterval(this._interval),this._handlers)t&&this._core.$element.off(t,this._handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},e.fn.tmowlCarousel.Constructor.Plugins.AutoRefresh=s}(window.Zepto||window.jQuery,window),function(a,n){"use strict";function e(t){this._core=t,this._loaded=[],this._handlers={"initialized.owl.carousel change.owl.carousel resized.owl.carousel":a.proxy(function(t){var e,i,s,n,o,r;if(t.namespace&&this._core.settings&&this._core.settings.lazyLoad&&(t.property&&"position"===t.property.name||"initialized"===t.type))for(i=(e=this._core.settings).center&&Math.ceil(e.items/2)||e.items,s=e.center&&-1*i||0,n=(t.property&&void 0!==t.property.value?t.property.value:this._core.current())+s,o=this._core.clones().length,r=a.proxy(function(t,e){this.load(e)},this),0<e.lazyLoadEager&&(i+=e.lazyLoadEager,e.loop&&(n-=e.lazyLoadEager,i+=1));s<i;)s+=1,this.load(o/2+this._core.relative(n)),o&&a.each(this._core.clones(this._core.relative(n)),r),n+=1},this)},this._core.options=a.extend({},e.Defaults,this._core.options),this._core.$element.on(this._handlers)}e.Defaults={lazyLoad:!1,lazyLoadEager:0},e.prototype.load=function(t){var t=this._core.$stage.children().eq(t),e=t&&t.find(".owl-lazy");!e||-1<a.inArray(t.get(0),this._loaded)||(e.each(a.proxy(function(t,e){var i=a(e),s=1<n.devicePixelRatio&&i.attr("data-src-retina")||i.attr("data-src")||i.attr("data-srcset");this._core.trigger("load",{element:i,url:s},"lazy"),i.is("img")?i.one("load.owl.lazy",a.proxy(function(){i.css("opacity",1),this._core.trigger("loaded",{element:i,url:s},"lazy")},this)).attr("src",s):i.is("source")?i.one("load.owl.lazy",a.proxy(function(){this._core.trigger("loaded",{element:i,url:s},"lazy")},this)).attr("srcset",s):((e=new Image).onload=a.proxy(function(){i.css({"background-image":'url("'+s+'")',opacity:"1"}),this._core.trigger("loaded",{element:i,url:s},"lazy")},this),e.src=s)},this)),this._loaded.push(t.get(0)))},e.prototype.destroy=function(){var t,e;for(t in this.handlers)t&&this._core.$element.off(t,this.handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},a.fn.tmowlCarousel.Constructor.Plugins.Lazy=e}(window.Zepto||window.jQuery,window),function(n){"use strict";function i(t){var e=this;this._core=t,this._previousHeight=null,this._handlers={"initialized.owl.carousel refreshed.owl.carousel":n.proxy(function(t){t.namespace&&this._core.settings.autoHeight&&this.update()},this),"changed.owl.carousel":n.proxy(function(t){t.namespace&&this._core.settings.autoHeight&&"position"===t.property.name&&this.update()},this),"loaded.owl.lazy":n.proxy(function(t){t.namespace&&this._core.settings.autoHeight&&t.element.closest("."+this._core.settings.itemClass).index()===this._core.current()&&this.update()},this)},this._core.options=n.extend({},i.Defaults,this._core.options),this._core.$element.on(this._handlers),this._intervalId=null,n(void 0).on("load",function(){e._core.settings.autoHeight&&e.update()}),n(void 0).on("resize",function(){e._core.settings.autoHeight&&(null!==e._intervalId&&clearTimeout(e._intervalId),e._intervalId=setTimeout(function(){e.update()},250))})}i.Defaults={autoHeight:!1,autoHeightClass:"owl-height"},i.prototype.update=function(){var t=this._core._current,e=t+this._core.settings.items,i=this._core.settings.lazyLoad,t=this._core.$stage.children().toArray().slice(t,e),s=[],e=0;n.each(t,function(t,e){s.push(n(e).height())}),(e=Math.max.apply(null,s))<=1&&i&&this._previousHeight&&(e=this._previousHeight),this._previousHeight=e,this._core.$stage.parent().height(e).addClass(this._core.settings.autoHeightClass)},i.prototype.destroy=function(){var t,e;for(t in this._handlers)t&&this._core.$element.off(t,this._handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},n.fn.tmowlCarousel.Constructor.Plugins.AutoHeight=i}(window.Zepto||window.jQuery),function(c,e){"use strict";function i(t){this._core=t,this._videos={},this._playing=null,this._handlers={"initialized.owl.carousel":c.proxy(function(t){t.namespace&&this._core.register({type:"state",name:"playing",tags:["interacting"]})},this),"resize.owl.carousel":c.proxy(function(t){t.namespace&&this._core.settings.video&&this.isInFullScreen()&&t.preventDefault()},this),"refreshed.owl.carousel":c.proxy(function(t){t.namespace&&this._core.is("resizing")&&this._core.$stage.find(".cloned .owl-video-frame").remove()},this),"changed.owl.carousel":c.proxy(function(t){t.namespace&&"position"===t.property.name&&this._playing&&this.stop()},this),"prepared.owl.carousel":c.proxy(function(t){var e;t.namespace&&(e=c(t.content).find(".owl-video")).length&&(e.css("display","none"),this.fetch(e,c(t.content)))},this)},this._core.options=c.extend({},i.Defaults,this._core.options),this._core.$element.on(this._handlers),this._core.$element.on("click.owl.video",".owl-video-play-icon",c.proxy(function(t){this.play(t)},this))}i.Defaults={video:!1,videoHeight:!1,videoWidth:!1},i.prototype.fetch=function(t,e){var i=t.attr("data-vimeo-id")?"vimeo":t.attr("data-vzaar-id")?"vzaar":"youtube",s=t.attr("data-vimeo-id")||t.attr("data-youtube-id")||t.attr("data-vzaar-id"),n=t.attr("data-width")||this._core.settings.videoWidth,o=t.attr("data-height")||this._core.settings.videoHeight,r=t.attr("href");if(!r)throw new Error("Missing video URL.");if(-1<(s=r.match(/(http:|https:|)\/\/(player.|www.|app.)?(vimeo\.com|youtu(be\.com|\.be|be\.googleapis\.com|be\-nocookie\.com)|vzaar\.com)\/(video\/|videos\/|embed\/|channels\/.+\/|groups\/.+\/|watch\?v=|v\/)?([A-Za-z0-9._%-]*)(\&\S+)?/))[3].indexOf("youtu"))i="youtube";else if(-1<s[3].indexOf("vimeo"))i="vimeo";else{if(!(-1<s[3].indexOf("vzaar")))throw new Error("Video URL not supported.");i="vzaar"}s=s[6],this._videos[r]={type:i,id:s,width:n,height:o},e.attr("data-video",r),this.thumbnail(t,this._videos[r])},i.prototype.thumbnail=function(e,t){function i(t){s=l.lazyLoad?c("<div/>",{class:"owl-video-tn "+h,srcType:t}):c("<div/>",{class:"owl-video-tn",style:"opacity:1;background-image:url("+t+")"}),e.after(s),e.after('<div class="owl-video-play-icon"></div>')}var s,n,o=t.width&&t.height?"width:"+t.width+"px;height:"+t.height+"px;":"",r=e.find("img"),a="src",h="",l=this._core.settings;if(e.wrap(c("<div/>",{class:"owl-video-wrapper",style:o})),this._core.settings.lazyLoad&&(a="data-src",h="owl-lazy"),r.length)return i(r.attr(a)),r.remove(),!1;"youtube"===t.type?(n="//img.youtube.com/vi/"+t.id+"/hqdefault.jpg",i(n)):"vimeo"===t.type?c.ajax({type:"GET",url:"//vimeo.com/api/v2/video/"+t.id+".json",jsonp:"callback",dataType:"jsonp",success:function(t){n=t[0].thumbnail_large,i(n)}}):"vzaar"===t.type&&c.ajax({type:"GET",url:"//vzaar.com/api/videos/"+t.id+".json",jsonp:"callback",dataType:"jsonp",success:function(t){n=t.framegrab_url,i(n)}})},i.prototype.stop=function(){this._core.trigger("stop",null,"video"),this._playing.find(".owl-video-frame").remove(),this._playing.removeClass("owl-video-playing"),this._playing=null,this._core.leave("playing"),this._core.trigger("stopped",null,"video")},i.prototype.play=function(t){var e,t=c(t.target).closest("."+this._core.settings.itemClass),i=this._videos[t.attr("data-video")],s=i.width||"100%",n=i.height||this._core.$stage.height();this._playing||(this._core.enter("playing"),this._core.trigger("play",null,"video"),t=this._core.items(this._core.relative(t.index())),this._core.reset(t.index()),(e=c('<iframe frameborder="0" allowfullscreen mozallowfullscreen webkitAllowFullScreen ></iframe>')).attr("height",n),e.attr("width",s),"youtube"===i.type?e.attr("src","//www.youtube.com/embed/"+i.id+"?autoplay=1&rel=0&v="+i.id):"vimeo"===i.type?e.attr("src","//player.vimeo.com/video/"+i.id+"?autoplay=1"):"vzaar"===i.type&&e.attr("src","//view.vzaar.com/"+i.id+"/player?autoplay=true"),c(e).wrap('<div class="owl-video-frame" />').insertAfter(t.find(".owl-video")),this._playing=t.addClass("owl-video-playing"))},i.prototype.isInFullScreen=function(){var t=e.fullscreenElement||e.mozFullScreenElement||e.webkitFullscreenElement;return t&&c(t).parent().hasClass("owl-video-frame")},i.prototype.destroy=function(){var t,e;for(t in this._core.$element.off("click.owl.video"),this._handlers)t&&this._core.$element.off(t,this._handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},c.fn.tmowlCarousel.Constructor.Plugins.Video=i}(window.Zepto||window.jQuery,(window,document)),function(r){"use strict";function e(t){this.core=t,this.core.options=r.extend({},e.Defaults,this.core.options),this.swapping=!0,this.previous=void 0,this.next=void 0,this.handlers={"change.owl.carousel":r.proxy(function(t){t.namespace&&"position"===t.property.name&&(this.previous=this.core.current(),this.next=t.property.value)},this),"drag.owl.carousel dragged.owl.carousel translated.owl.carousel":r.proxy(function(t){t.namespace&&(this.swapping="translated"===t.type)},this),"translate.owl.carousel":r.proxy(function(t){t.namespace&&this.swapping&&(this.core.options.animateOut||this.core.options.animateIn)&&this.swap()},this)},this.core.$element.on(this.handlers)}e.Defaults={animateOut:!1,animateIn:!1},e.prototype.swap=function(){var t,e,i,s,n,o;1===this.core.settings.items&&r.support.animation&&r.support.transition&&(this.core.speed(0),e=r.proxy(this.clear,this),i=this.core.$stage.children().eq(this.previous),s=this.core.$stage.children().eq(this.next),n=this.core.settings.animateIn,o=this.core.settings.animateOut,this.core.current()!==this.previous&&(o&&(t=this.core.coordinates(this.previous)-this.core.coordinates(this.next),i.one(r.support.animation.end,e).css({left:t+"px"}).addClass("animated owl-animated-out").addClass(o)),n&&s.one(r.support.animation.end,e).addClass("animated owl-animated-in").addClass(n)))},e.prototype.clear=function(t){r(t.target).css({left:""}).removeClass("animated owl-animated-out owl-animated-in").removeClass(this.core.settings.animateIn).removeClass(this.core.settings.animateOut),this.core.onTransitionEnd()},e.prototype.destroy=function(){var t,e;for(t in this.handlers)t&&this.core.$element.off(t,this.handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},r.fn.tmowlCarousel.Constructor.Plugins.Animate=e}(window.Zepto||window.jQuery),function(s,n,e){"use strict";function i(t){this._core=t,this._call=null,this._time=0,this._timeout=0,this._paused=!0,this._handlers={"changed.owl.carousel":s.proxy(function(t){t.namespace&&"settings"===t.property.name?this._core.settings.autoplay?this.play():this.stop():t.namespace&&"position"===t.property.name&&this._paused&&(this._time=0)},this),"initialized.owl.carousel":s.proxy(function(t){t.namespace&&this._core.settings.autoplay&&this.play()},this),"play.owl.autoplay":s.proxy(function(t,e,i){t.namespace&&this.play(e,i)},this),"stop.owl.autoplay":s.proxy(function(t){t.namespace&&this.stop()},this),"mouseover.owl.autoplay":s.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.pause()},this),"mouseleave.owl.autoplay":s.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.play()},this),"touchstart.owl.core":s.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.pause()},this),"touchend.owl.core":s.proxy(function(){this._core.settings.autoplayHoverPause&&this.play()},this)},this._core.$element.on(this._handlers),this._core.options=s.extend({},i.Defaults,this._core.options)}i.Defaults={autoplay:!1,autoplayTimeout:5e3,autoplayHoverPause:!1,autoplaySpeed:!1},i.prototype._next=function(t){this._call=n.setTimeout(s.proxy(this._next,this,t),this._timeout*(Math.round(this.read()/this._timeout)+1)-this.read()),this._core.is("interacting")||e.hidden||this._core.next(t||this._core.settings.autoplaySpeed)},i.prototype.read=function(){return(new Date).getTime()-this._time},i.prototype.play=function(t,e){var i;this._core.is("rotating")||this._core.enter("rotating"),t=t||this._core.settings.autoplayTimeout,i=Math.min(this._time%(this._timeout||t),t),this._paused?(this._time=this.read(),this._paused=!1):n.clearTimeout(this._call),this._time+=this.read()%t-i,this._timeout=t,this._call=n.setTimeout(s.proxy(this._next,this,e),t-i)},i.prototype.stop=function(){this._core.is("rotating")&&(this._time=0,this._paused=!0,n.clearTimeout(this._call),this._core.leave("rotating"))},i.prototype.pause=function(){this._core.is("rotating")&&!this._paused&&(this._time=this.read(),this._paused=!0,n.clearTimeout(this._call))},i.prototype.destroy=function(){var t,e;for(t in this.stop(),this._handlers)t&&this._core.$element.off(t,this._handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},s.fn.tmowlCarousel.Constructor.Plugins.autoplay=i}(window.Zepto||window.jQuery,window,document),function(n){"use strict";function e(t){this._core=t,this._initialized=!1,this._pages=[],this._controls={},this._templates=[],this.$element=this._core.$element,this._overrides={next:this._core.next,prev:this._core.prev,to:this._core.to},this._handlers={"prepared.owl.carousel":n.proxy(function(t){t.namespace&&this._core.settings.dotsData&&this._templates.push('<div class="'+this._core.settings.dotClass+'">'+n(t.content).find("[data-dot]").addBack("[data-dot]").attr("data-dot")+"</div>")},this),"added.owl.carousel":n.proxy(function(t){t.namespace&&this._core.settings.dotsData&&this._templates.splice(t.position,0,this._templates.pop())},this),"remove.owl.carousel":n.proxy(function(t){t.namespace&&this._core.settings.dotsData&&this._templates.splice(t.position,1)},this),"changed.owl.carousel":n.proxy(function(t){t.namespace&&"position"===t.property.name&&this.draw()},this),"initialized.owl.carousel":n.proxy(function(t){t.namespace&&!this._initialized&&(this._core.trigger("initialize",null,"navigation"),this.initialize(),this.update(),this.draw(),this._initialized=!0,this._core.trigger("initialized",null,"navigation"))},this),"refreshed.owl.carousel":n.proxy(function(t){t.namespace&&this._initialized&&(this._core.trigger("refresh",null,"navigation"),this.update(),this.draw(),this._core.trigger("refreshed",null,"navigation"))},this)},this._core.options=n.extend({},e.Defaults,this._core.options),this.$element.on(this._handlers)}e.Defaults={nav:!1,navText:['<span aria-label="Previous">&#x2039;</span>','<span aria-label="Next">&#x203a;</span>'],navSpeed:!1,navElement:'button type="button" role="presentation"',navContainer:!1,navContainerClass:"owl-nav",navClass:["owl-prev","owl-next"],slideBy:1,dotClass:"owl-dot",dotsClass:"owl-dots",dots:!0,dotsEach:!1,dotsData:!1,dotsSpeed:!1,dotsContainer:!1},e.prototype.initialize=function(){var t,i=this._core.settings;for(t in this._controls.$relative=(i.navContainer?n(i.navContainer):n("<div>").addClass(i.navContainerClass).appendTo(this.$element)).addClass("disabled"),this._controls.$previous=n("<"+i.navElement+">").addClass(i.navClass[0]).html(i.navText[0]).prependTo(this._controls.$relative).on("click",n.proxy(function(){this.prev(i.navSpeed)},this)),this._controls.$next=n("<"+i.navElement+">").addClass(i.navClass[1]).html(i.navText[1]).appendTo(this._controls.$relative).on("click",n.proxy(function(){this.next(i.navSpeed)},this)),i.dotsData||(this._templates=[n('<button role="button">').addClass(i.dotClass).append(n("<span>")).prop("outerHTML")]),this._controls.$absolute=(i.dotsContainer?n(i.dotsContainer):n("<div>").addClass(i.dotsClass).appendTo(this.$element)).addClass("disabled"),this._controls.$absolute.on("click","button",n.proxy(function(t){var e=(n(t.target).parent().is(this._controls.$absolute)?n(t.target):n(t.target).parent()).index();t.preventDefault(),this.to(e,i.dotsSpeed)},this)),this._overrides)t&&(this._core[t]=n.proxy(this[t],this))},e.prototype.destroy=function(){var t,e,i,s,n=this._core.settings;for(t in this._handlers)t&&this.$element.off(t,this._handlers[t]);for(e in this._controls)"$relative"===e&&n.navContainer?this._controls[e].html(""):this._controls[e].remove();for(s in this.overides)s&&(this._core[s]=this._overrides[s]);for(i in Object.getOwnPropertyNames(this))"function"!=typeof this[i]&&(this[i]=null)},e.prototype.update=function(){var t,e,i=this._core.clones().length/2,s=i+this._core.items().length,n=this._core.maximum(!0),o=this._core.settings,r=o.center||o.autoWidth||o.dotsData?1:o.dotsEach||o.items;if("page"!==o.slideBy&&(o.slideBy=Math.min(o.slideBy,o.items)),o.dots||"page"===o.slideBy)for(this._pages=[],t=i,e=0;t<s;t+=1){if(r<=e||0===e){if(this._pages.push({start:Math.min(n,t-i),end:t-i+r-1}),Math.min(n,t-i)===n)break;e=0}e+=this._core.mergers(this._core.relative(t))}},e.prototype.draw=function(){var t=this._core.settings,e=this._core.items().length<=t.items,i=this._core.relative(this._core.current()),s=t.loop||t.rewind;this._controls.$relative.toggleClass("disabled",!t.nav||e),t.nav&&(this._controls.$previous.toggleClass("disabled",!s&&i<=this._core.minimum(!0)),this._controls.$next.toggleClass("disabled",!s&&i>=this._core.maximum(!0))),this._controls.$absolute.toggleClass("disabled",!t.dots||e),t.dots&&(s=this._pages.length-this._controls.$absolute.children().length,t.dotsData&&0!=s?this._controls.$absolute.html(this._templates.join("")):0<s?this._controls.$absolute.append(new Array(1+s).join(this._templates[0])):s<0&&this._controls.$absolute.children().slice(s).remove(),this._controls.$absolute.find(".active").removeClass("active"),this._controls.$absolute.children().eq(n.inArray(this.current(),this._pages)).addClass("active"))},e.prototype.onTrigger=function(t){var e=this._core.settings;t.page={index:n.inArray(this.current(),this._pages),count:this._pages.length,size:e&&(e.center||e.autoWidth||e.dotsData?1:e.dotsEach||e.items)}},e.prototype.current=function(){var e=this._core.relative(this._core.current());return n.grep(this._pages,n.proxy(function(t){return t.start<=e&&t.end>=e},this)).pop()},e.prototype.getPosition=function(t){var e,i,s=this._core.settings;return"page"===s.slideBy?(e=n.inArray(this.current(),this._pages),i=this._pages.length,t?e+=1:e-=1,e=this._pages[(e%i+i)%i].start):(e=this._core.relative(this._core.current()),i=this._core.items().length,t?e+=s.slideBy:e-=s.slideBy),e},e.prototype.next=function(t){n.proxy(this._overrides.to,this._core)(this.getPosition(!0),t)},e.prototype.prev=function(t){n.proxy(this._overrides.to,this._core)(this.getPosition(!1),t)},e.prototype.to=function(t,e,i){!i&&this._pages.length?(i=this._pages.length,n.proxy(this._overrides.to,this._core)(this._pages[(t%i+i)%i].start,e)):n.proxy(this._overrides.to,this._core)(t,e)},n.fn.tmowlCarousel.Constructor.Plugins.Navigation=e}(window.Zepto||window.jQuery),function(s,n){"use strict";function e(t){this._core=t,this._hashes={},this.$element=this._core.$element,this._handlers={"initialized.owl.carousel":s.proxy(function(t){t.namespace&&"URLHash"===this._core.settings.startPosition&&s(n).trigger("hashchange.owl.navigation")},this),"prepared.owl.carousel":s.proxy(function(t){var e;t.namespace&&(e=s(t.content).find("[data-hash]").addBack("[data-hash]").attr("data-hash"))&&(this._hashes[e]=t.content)},this),"changed.owl.carousel":s.proxy(function(t){var i;t.namespace&&"position"===t.property.name&&(i=this._core.items(this._core.relative(this._core.current())),(t=s.map(this._hashes,function(t,e){return t===i?e:null}).join())&&n.location.hash.slice(1)!==t&&(n.location.hash=t))},this)},this._core.options=s.extend({},e.Defaults,this._core.options),this.$element.on(this._handlers),s(n).on("hashchange.owl.navigation",s.proxy(function(){var t=n.location.hash.substring(1),e=this._core.$stage.children(),e=this._hashes[t]&&e.index(this._hashes[t]);void 0!==e&&e!==this._core.current()&&this._core.to(this._core.relative(e),!1,!0)},this))}e.Defaults={URLhashListener:!1},e.prototype.destroy=function(){var t,e;for(t in s(n).off("hashchange.owl.navigation"),this._handlers)t&&this._core.$element.off(t,this._handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},s.fn.tmowlCarousel.Constructor.Plugins.Hash=e}(window.Zepto||window.jQuery,window),function(n){"use strict";var t,o=n("<support>").get(0).style,r="Webkit Moz O ms".split(" "),e={transition:{end:{WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"}},animation:{end:{WebkitAnimation:"webkitAnimationEnd",MozAnimation:"animationend",OAnimation:"oAnimationEnd",animation:"animationend"}}};function i(t,i){var s=!1,e=t.charAt(0).toUpperCase()+t.slice(1);return n.each((t+" "+r.join(e+" ")+e).split(" "),function(t,e){if(void 0!==o[e])return s=!i||e,!1}),s}function s(t){return i(t,!0)}(t={csstransforms:function(){return!!i("transform")},csstransforms3d:function(){return!!i("perspective")},csstransitions:function(){return!!i("transition")},cssanimations:function(){return!!i("animation")}}).csstransitions()&&(n.support.transition=new String(s("transition")),n.support.transition.end=e.transition.end[n.support.transition]),t.cssanimations()&&(n.support.animation=new String(s("animation")),n.support.animation.end=e.animation.end[n.support.animation]),t.csstransforms()&&(n.support.transform=new String(s("transform")),n.support.transform3d=t.csstransforms3d())}(window.Zepto||window.jQuery);!function(h,g,t){"use strict";var m="lazyLoadXT",y="lazied",p="load error",e="lazy-hidden",w=t.documentElement||t.body,C={autoInit:!0,selector:"img[data-src]",blankImage:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",throttle:99,forceLoad:void 0===g.onscroll||!!g.operamini||!w.getBoundingClientRect,loadEvent:"pageshow",updateEvent:"load orientationchange resize scroll touchmove focus",forceEvent:"lazyloadall",oninit:{removeClass:"lazy"},onshow:{addClass:e},onload:{removeClass:e,addClass:"lazy-loaded"},onerror:{removeClass:e},checkDuplicates:!0},o={srcAttr:"data-src",edgeX:0,edgeY:0,visibleOnly:!0},n=h(g),z=function(t){return"function"==typeof t},s=h.extend,E=h.data||function(t,e){return h(t).data(e)},T=[],b=0,a=0;function d(t,e){return(void 0===t[e]?C:t)[e]}function L(){var t=g.pageYOffset;return void 0===t?w.scrollTop:t}function r(){1<a?(a=1,i(),setTimeout(r,C.throttle)):a=0}function u(t){!T.length||t&&"scroll"===t.type&&t.currentTarget===g&&b>=L()||(a||setTimeout(r,0),a=2)}function I(t,e){var o=C["on"+t];o&&(z(o)?o.call(e[0]):(o.addClass&&e.addClass(o.addClass),o.removeClass&&e.removeClass(o.removeClass))),e.trigger("lazy"+t,[e]),u()}function X(t){I(t.type,h(t.currentTarget).off(p,X))}function i(t){var e,o,n,a,r,i,c,l,s,d,u,f,A,v;if(T.length){for(t=t||C.forceLoad,b=1/0,e=L(),o=g.innerHeight||w.clientHeight,n=g.innerWidth||w.clientWidth,a=0,r=T.length;a<r;a+=1)c=(i=T[a])[0],l=i[m],s=!1,d=t||E(c,y)<0,h.contains(w,c)?(t||!l.visibleOnly||c.offsetWidth||c.offsetHeight)&&(d||(v=c.getBoundingClientRect(),f=l.edgeX,A=l.edgeY,d=(u=v.top+e-A-o)<=e&&v.bottom>-A&&v.left<=n+f&&v.right>-f),d?(i.on(p,X),I("show",i),A=l.srcAttr,(v=z(A)?A(i):c.getAttribute(A))&&(c.src=v),s=!0):u<b&&(b=u)):s=!0,s&&(E(c,y,0),T.splice(a,1),a-=1,r-=1);r||I("complete",h(w))}}function c(){n.lazyLoadXT()}function l(){i(!0)}h[m]=s(C,o,h[m]),h.fn[m]=function(a){var r={},i=d(a=a||{},"blankImage"),c=d(a,"checkDuplicates"),t=d(a,"scrollContainer"),l=d(a,"show");return h(t).on("scroll",u),Object.keys(o).forEach(function(t){r[t]=d(a,t)}),this.each(function(t,e){var o,n;e===g?h(C.selector).lazyLoadXT(a):(o=c&&E(e,y),n=h(e).data(y,l?-1:1),o||(i&&"IMG"===e.tagName&&!e.src&&(e.src=i),n[m]=s({},r),I("init",n),T.push(n)),u())})},h(function(){I("start",n),n.on(C.updateEvent,u).on(C.forceEvent,l),h(t).on(C.updateEvent,u),C.autoInit&&(n.on(C.loadEvent,c),c())})}(window.jQuery||window.Zepto||window.$,window,document),function(i){"use strict";var o=i.lazyLoadXT;o.selector+=",video,iframe[data-src]",o.videoPoster="data-poster",i(document).on("lazyshow","video",function(t,e){var n=e.lazyLoadXT.srcAttr,a="function"==typeof n,r=!1;e.attr("poster",e.attr(o.videoPoster)),e.children("source,track").each(function(t,e){var e=i(e),o=a?n(e):e.attr(n);o&&(e.attr("src",o),r=!0)}),r&&this.load()})}(window.jQuery||window.Zepto||window.$);!function(t,a,e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports&&"undefined"==typeof Meteor?window.module.exports=t(window.require("jquery")):t(a||e)}(function(r){"use strict";function i(u,M,y){var s,o,w=this,b={invalid:[],getCaret:function(){var t,a,e,n,s=0;try{return a=u.get(0),e=document.selection,n=a.selectionStart,e&&-1===navigator.appVersion.indexOf("MSIE 10")?((t=e.createRange()).moveStart("character",-b.val().length),s=t.text.length):!n&&"0"!==n||(s=n),s}catch(t){window.console.log(t)}},setCaret:function(t){var a,e;try{u.is(":focus")&&((e=u.get(0)).setSelectionRange?e.setSelectionRange(t,t):((a=e.createTextRange()).collapse(!0),a.moveEnd("character",t),a.moveStart("character",t),a.select()))}catch(t){window.console.log(t)}},events:function(){u.on("keydown.mask",function(t){u.data("mask-keycode",t.keyCode||t.which),u.data("mask-previus-value",u.val()),u.data("mask-previus-caret-pos",b.getCaret()),b.maskDigitPosMapOld=b.maskDigitPosMap}).on(r.jMaskGlobals.useInput?"input.mask":"keyup.mask",b.behaviour).on("paste.mask drop.mask",function(){setTimeout(function(){u.keydown().keyup()},100)}).on("change.mask",function(){u.data("changed",!0)}).on("blur.mask",function(){o===b.val()||u.data("changed")||u.trigger("change"),u.data("changed",!1)}).on("blur.mask",function(){o=b.val()}).on("focus.mask",function(t){!0===y.selectOnFocus&&r(t.target).select()}).on("focusout.mask",function(){y.clearIfNotMatch&&!s.test(b.val())&&b.val("")})},getRegexMask:function(){for(var t,a,e,n,s,o=[],r=0;r<M.length;r+=1)(e=w.translation[M.charAt(r)])?(t=e.pattern.toString().replace(/.{1}$|^.{1}/g,""),a=e.optional,(e=e.recursive)?(o.push(M.charAt(r)),n={digit:M.charAt(r),pattern:t}):o.push(a||e?t+"?":t)):o.push(M.charAt(r).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"));return s=o.join(""),n&&(s=s.replace(new RegExp("("+n.digit+"(.*"+n.digit+")?)"),"($1)?").replace(new RegExp(n.digit,"g"),n.pattern)),new RegExp(s)},destroyEvents:function(){u.off(["input","keydown","keyup","paste","drop","blur","focusout",""].join(".mask "))},val:function(t){var a=u.is("input")?"val":"text",t=0<arguments.length?(u[a]()!==t&&u[a](t),u):u[a]();return t},calculateCaretPosition:function(t){var a,e,n=b.getMasked(),s=b.getCaret(),o=0,r=0,i=0,l=0,c=0;if(t!==n){for(a=u.data("mask-previus-caret-pos")||0,e=n.length,n=t.length,c=s;c<e&&b.maskDigitPosMap[c];c+=1)r+=1;for(c=s-1;0<=c&&b.maskDigitPosMap[c];--c)o+=1;for(c=s-1;0<=c;--c)b.maskDigitPosMap[c]&&(i+=1);for(c=a-1;0<=c;--c)b.maskDigitPosMapOld[c]&&(l+=1);n<s?s=10*e:s<=a&&a!==n?b.maskDigitPosMapOld[s]||(t=s,b.maskDigitPosMap[s=s-(l-i)-o]&&(s=t)):a<s&&(s=s+(i-l)+r)}return s},behaviour:function(t){var a,e,n=u.data("mask-keycode");if(t=t||window.event,b.invalid=[],-1===r.inArray(n,w.byPassKeys))return n=b.getMasked(),e=b.getCaret(),a=u.data("mask-previus-value")||"",setTimeout(function(){b.setCaret(b.calculateCaretPosition(a))},r.jMaskGlobals.keyStrokeCompensation),b.val(n),b.setCaret(e),b.callbacks(t)},getMasked:function(t,a){for(var e,n,s,o,r,i=[],l=void 0===a?b.val():a+"",c=0,u=M.length,d=0,k=l.length,p=1,f="push",h=-1,g=0,v=[],m=y.reverse?(f="unshift",p=-1,e=0,c=u-1,d=k-1,function(){return-1<c&&-1<d}):(e=u-1,function(){return c<u&&d<k});m();)s=M.charAt(c),o=l.charAt(d),(r=w.translation[s])?(o.match(r.pattern)?(i[f](o),r.recursive&&(-1===h?h=c:c===e&&c!==h&&(c=h-p),e===h&&(c-=p)),c+=p):o===n?(g-=1,n=void 0):r.optional?(c+=p,d-=p):r.fallback?(i[f](r.fallback),c+=p,d-=p):b.invalid.push({p:d,v:o,e:r.pattern}),d+=p):(t||i[f](s),o===s?(v.push(d),d+=p):(n=s,v.push(d+g),g+=1),c+=p);return a=M.charAt(e),u!==k+1||w.translation[a]||i.push(a),a=i.join(""),b.mapMaskdigitPositions(a,v,k),a},mapMaskdigitPositions:function(t,a,e){var n,s=y.reverse?t.length-e:0;for(b.maskDigitPosMap={},n=0;n<a.length;n+=1)b.maskDigitPosMap[a[n]+s]=1},callbacks:function(t){function a(t,a,e){"function"==typeof y[t]&&a&&y[t].apply(this,e)}var e=b.val(),n=e!==o,s=[e,t,u,y];a("onChange",!0==n,s),a("onKeyPress",!0==n,s),a("onComplete",e.length===M.length,s),a("onInvalid",0<b.invalid.length,[e,t,u,b.invalid,y])}};u=r(u),o=b.val(),M="function"==typeof M?M(b.val(),void 0,u,y):M,w.mask=M,w.options=y,w.remove=function(){var t=b.getCaret();return w.options.placeholder&&u.removeAttr("placeholder"),u.data("mask-maxlength")&&u.removeAttr("maxlength"),b.destroyEvents(),b.val(w.getCleanVal()),b.setCaret(t),u},w.getCleanVal=function(){return b.getMasked(!0)},w.getMaskedVal=function(t){return b.getMasked(!1,t)},w.init=function(t){var a,e,n;if(t=t||!1,y=y||{},w.clearIfNotMatch=r.jMaskGlobals.clearIfNotMatch,w.byPassKeys=r.jMaskGlobals.byPassKeys,w.translation=r.extend({},r.jMaskGlobals.translation,y.translation),w=r.extend(!0,{},w,y),s=b.getRegexMask(),t)b.events(),b.val(b.getMasked());else{for(y.placeholder&&u.attr("placeholder",y.placeholder),u.data("mask")&&u.attr("autocomplete","off"),n=!(a=0);a<M.length;a+=1)if((e=w.translation[M.charAt(a)])&&e.recursive){n=!1;break}n&&u.attr("maxlength",M.length).data("mask-maxlength",!0),b.destroyEvents(),b.events(),t=b.getCaret(),b.val(b.getMasked()),b.setCaret(t)}},w.init(!u.is("input"))}function l(t,a,e){var n=r(t).data("mask"),s=o.stringify,t=r(t).val()||r(t).text();e=e||{};try{return"function"==typeof a&&(a=a(t)),"object"!=typeof n||s(n.options)!==s(e)||n.mask!==a}catch(t){window.console.log(t)}}function a(){var t=r(this),a={},e="data-mask-",n=t.attr("data-mask");if(t.attr(e+"reverse")&&(a.reverse=!0),t.attr(e+"clearifnotmatch")&&(a.clearIfNotMatch=!0),"true"===t.attr(e+"selectonfocus")&&(a.selectOnFocus=!0),l(t,n,a))return t.data("mask",new i(this,n,a))}var t,e,n,o=window.JSON;r.maskWatchers={},r.fn.mask=function(t,a){var e=this.selector,n=r.jMaskGlobals,s=n.watchInterval,n=(a=a||{}).watchInputs||n.watchInputs,o=function(){if(l(this,t,a))return r(this).data("mask",new i(this,t,a))};return r(this).each(o),e&&""!==e&&n&&(clearInterval(r.maskWatchers[e]),r.maskWatchers[e]=setInterval(function(){r(document).find(e).each(o)},s)),this},r.fn.masked=function(t){return this.data("mask").getMaskedVal(t)},r.fn.unmask=function(){return clearInterval(r.maskWatchers[this.selector]),delete r.maskWatchers[this.selector],this.each(function(){var t=r(this).data("mask");t&&t.remove().removeData("mask")})},r.fn.cleanVal=function(){return this.data("mask").getCleanVal()},r.applyDataMask=function(t){((t=t||r.jMaskGlobals.maskElements)instanceof r?t:r(t)).filter(r.jMaskGlobals.dataMaskAttr).each(a)},t={maskElements:"input,td,span,div",dataMaskAttr:"*[data-mask]",dataMask:!0,watchInterval:300,watchInputs:!0,keyStrokeCompensation:10,useInput:!/Chrome\/[2-4][0-9]|SamsungBrowser/.test(window.navigator.userAgent)&&(t="input",n=document.createElement("div"),(e=(t="on"+t)in n)||(n.setAttribute(t,"return;"),e="function"==typeof n[t]),n=null,e),watchDataMask:!1,byPassKeys:[9,16,17,18,36,37,38,39,40,91],translation:{0:{pattern:/\d/},9:{pattern:/\d/,optional:!0},"#":{pattern:/\d/,recursive:!0},A:{pattern:/[a-zA-Z0-9]/},S:{pattern:/[a-zA-Z]/}}},r.jMaskGlobals=r.jMaskGlobals||{},(t=r.jMaskGlobals=r.extend(!0,{},t,r.jMaskGlobals)).dataMask&&r.applyDataMask(),setInterval(function(){r.jMaskGlobals.watchDataMask&&r.applyDataMask()},t.watchInterval)},window.jQuery,window.Zepto);!function(t){"use strict";"function"==typeof window.define&&window.define.amd?window.define([],t):"object"==typeof exports?window.module.exports=t():window.noUiSlider=t()}(function(){"use strict";var mt="14.6.0",s={to:function(t){return void 0!==t&&t.toFixed(2)},from:Number},a={target:"target",base:"base",origin:"origin",handle:"handle",handleLower:"handle-lower",handleUpper:"handle-upper",touchArea:"touch-area",horizontal:"horizontal",vertical:"vertical",background:"background",connect:"connect",connects:"connects",ltr:"ltr",rtl:"rtl",textDirectionLtr:"txt-dir-ltr",textDirectionRtl:"txt-dir-rtl",draggable:"draggable",drag:"state-drag",tap:"state-tap",active:"active",tooltip:"tooltip",pips:"pips",pipsHorizontal:"pips-horizontal",pipsVertical:"pips-vertical",marker:"marker",markerHorizontal:"marker-horizontal",markerVertical:"marker-vertical",markerNormal:"marker-normal",markerLarge:"marker-large",markerSub:"marker-sub",value:"value",valueHorizontal:"value-horizontal",valueVertical:"value-vertical",valueNormal:"value-normal",valueLarge:"value-large",valueSub:"value-sub"};function gt(t){t.parentElement.removeChild(t)}function l(t){return null!=t}function vt(t){t.preventDefault()}function p(t){return"number"==typeof t&&!isNaN(t)&&isFinite(t)}function bt(t,e,r){0<r&&(wt(t,e),setTimeout(function(){yt(t,e)},r))}function xt(t){return Math.max(Math.min(t,100),0)}function St(t){return Array.isArray(t)?t:[t]}function e(t){return 1<(t=(t=String(t)).split(".")).length?t[1].length:0}function wt(t,e){t.classList&&!/\s/.test(e)?t.classList.add(e):t.className+=" "+e}function yt(t,e){t.classList&&!/\s/.test(e)?t.classList.remove(e):t.className=t.className.replace(new RegExp("(^|\\b)"+e.split(" ").join("|")+"(\\b|$)","gi")," ")}function Et(t){var e=void 0!==window.pageXOffset,r="CSS1Compat"===(t.compatMode||"");return{x:e?window.pageXOffset:(r?t.documentElement:t.body).scrollLeft,y:e?window.pageYOffset:(r?t.documentElement:t.body).scrollTop}}function f(t,e){return 100/(e-t)}function d(t,e,r){return 100*e/(t[r+1]-t[r])}function u(t,e){for(var r=1;t>=e[r];)r+=1;return r}function r(t,e,r){var n,i,o;return r>=t.slice(-1)[0]?100:(o=u(r,t),n=t[o-1],t=t[o],i=e[o-1],e=e[o],i+(o=r,d(r=[n,t],r[0]<0?o+Math.abs(r[0]):o-r[0],0)/f(i,e)))}function n(t,e,r,n){var i,o,s;return 100===n?n:(o=t[(i=u(n,t))-1],s=t[i],r?(s-o)/2<n-o?s:o:e[i-1]?t[i-1]+(r=n-t[i-1],s=e[i-1],Math.round(r/s)*s):n)}function i(t,e,r){var n,i,o,s,a=[];for(n in this.xPct=[],this.xVal=[],this.xSteps=[r||!1],this.xNumSteps=[!1],this.xHighestCompleteStep=[],this.snap=e,t)Object.prototype.hasOwnProperty.call(t,n)&&a.push([t[n],n]);for(a.length&&"object"==typeof a[0][0]?a.sort(function(t,e){return t[0][0]-e[0][0]}):a.sort(function(t,e){return t[0]-e[0]}),n=0;n<a.length;n++){l=c=u=l=void 0;var l=a[n][1],u=a[n][0],c=this;if("number"==typeof u&&(u=[u]),!Array.isArray(u))throw new Error("noUiSlider ("+mt+"): 'range' contains invalid value.");if(!p(l="min"===l?0:"max"===l?100:parseFloat(l))||!p(u[0]))throw new Error("noUiSlider ("+mt+"): 'range' value isn't numeric.");c.xPct.push(l),c.xVal.push(u[0]),l?c.xSteps.push(!isNaN(u[1])&&u[1]):isNaN(u[1])||(c.xSteps[0]=u[1]),c.xHighestCompleteStep.push(0)}for(this.xNumSteps=this.xSteps.slice(0),n=0;n<this.xNumSteps.length;n++)i=n,o=this.xNumSteps[n],s=this,o&&(s.xVal[i]===s.xVal[i+1]?s.xSteps[i]=s.xHighestCompleteStep[i]=s.xVal[i]:(s.xSteps[i]=d([s.xVal[i],s.xVal[i+1]],o,0)/f(s.xPct[i],s.xPct[i+1]),o=(s.xVal[i+1]-s.xVal[i])/s.xNumSteps[i],o=Math.ceil(Number(o.toFixed(3))-1),o=s.xVal[i]+s.xNumSteps[i]*o,s.xHighestCompleteStep[i]=o))}function o(t){if("object"!=typeof(t=t)||"function"!=typeof t.to||"function"!=typeof t.from)throw new Error("noUiSlider ("+mt+"): 'format' requires 'to' and 'from' methods.")}function c(t,e){if(!p(e))throw new Error("noUiSlider ("+mt+"): 'step' is not numeric.");t.singleStep=e}function h(t,e){if(!p(e))throw new Error("noUiSlider ("+mt+"): 'keyboardPageMultiplier' is not numeric.");t.keyboardPageMultiplier=e}function m(t,e){if(!p(e))throw new Error("noUiSlider ("+mt+"): 'keyboardDefaultStep' is not numeric.");t.keyboardDefaultStep=e}function g(t,e){if("object"!=typeof e||Array.isArray(e))throw new Error("noUiSlider ("+mt+"): 'range' is not an object.");if(void 0===e.min||void 0===e.max)throw new Error("noUiSlider ("+mt+"): Missing 'min' or 'max' in 'range'.");if(e.min===e.max)throw new Error("noUiSlider ("+mt+"): 'range' 'min' and 'max' cannot be equal.");t.spectrum=new i(e,t.snap,t.singleStep)}function v(t,e){if(e=St(e),!Array.isArray(e)||!e.length)throw new Error("noUiSlider ("+mt+"): 'start' option is incorrect.");t.handles=e.length,t.start=e}function b(t,e){if("boolean"!=typeof(t.snap=e))throw new Error("noUiSlider ("+mt+"): 'snap' option must be a boolean.")}function x(t,e){if("boolean"!=typeof(t.animate=e))throw new Error("noUiSlider ("+mt+"): 'animate' option must be a boolean.")}function S(t,e){if("number"!=typeof(t.animationDuration=e))throw new Error("noUiSlider ("+mt+"): 'animationDuration' option must be a number.")}function w(t,e){var r,n=[!1];if("lower"===e?e=[!0,!1]:"upper"===e&&(e=[!1,!0]),!0===e||!1===e){for(r=1;r<t.handles;r++)n.push(e);n.push(!1)}else{if(!Array.isArray(e)||!e.length||e.length!==t.handles+1)throw new Error("noUiSlider ("+mt+"): 'connect' option doesn't match handle count.");n=e}t.connect=n}function y(t,e){switch(e){case"horizontal":t.ort=0;break;case"vertical":t.ort=1;break;default:throw new Error("noUiSlider ("+mt+"): 'orientation' option is invalid.")}}function E(t,e){if(!p(e))throw new Error("noUiSlider ("+mt+"): 'margin' option must be numeric.");0!==e&&(t.margin=t.spectrum.getDistance(e))}function C(t,e){if(!p(e))throw new Error("noUiSlider ("+mt+"): 'limit' option must be numeric.");if(t.limit=t.spectrum.getDistance(e),!t.limit||t.handles<2)throw new Error("noUiSlider ("+mt+"): 'limit' option is only supported on linear sliders with 2 or more handles.")}function P(t,e){var r,n;if(!p(e)&&!Array.isArray(e))throw new Error("noUiSlider ("+mt+"): 'padding' option must be numeric or array of exactly 2 numbers.");if(Array.isArray(e)&&2!==e.length&&!p(e[0])&&!p(e[1]))throw new Error("noUiSlider ("+mt+"): 'padding' option must be numeric or array of exactly 2 numbers.");if(0!==e){for(Array.isArray(e)||(e=[e,e]),t.padding=[t.spectrum.getDistance(e[0]),t.spectrum.getDistance(e[1])],r=0;r<t.spectrum.xNumSteps.length-1;r++)if(t.padding[0][r]<0||t.padding[1][r]<0)throw new Error("noUiSlider ("+mt+"): 'padding' option must be a positive number(s).");if(e=e[0]+e[1],n=t.spectrum.xVal[0],1<e/(t.spectrum.xVal[t.spectrum.xVal.length-1]-n))throw new Error("noUiSlider ("+mt+"): 'padding' option must not exceed 100% of the range.")}}function N(t,e){switch(e){case"ltr":t.dir=0;break;case"rtl":t.dir=1;break;default:throw new Error("noUiSlider ("+mt+"): 'direction' option was not recognized.")}}function k(t,e){var r,n,i,o,s;if("string"!=typeof e)throw new Error("noUiSlider ("+mt+"): 'behaviour' must be a string containing options.");if(r=0<=e.indexOf("tap"),n=0<=e.indexOf("drag"),i=0<=e.indexOf("fixed"),o=0<=e.indexOf("snap"),s=0<=e.indexOf("hover"),e=0<=e.indexOf("unconstrained"),i){if(2!==t.handles)throw new Error("noUiSlider ("+mt+"): 'fixed' behaviour must be used with 2 handles");E(t,t.start[1]-t.start[0])}if(e&&(t.margin||t.limit))throw new Error("noUiSlider ("+mt+"): 'unconstrained' behaviour cannot be used with margin or limit");t.events={tap:r||o,drag:n,fixed:i,snap:o,hover:s,unconstrained:e}}function U(t,e){var r;if(!1!==e)if(!0===e)for(t.tooltips=[],r=0;r<t.handles;r++)t.tooltips.push(!0);else{if(t.tooltips=St(e),t.tooltips.length!==t.handles)throw new Error("noUiSlider ("+mt+"): must pass a formatter for all handles.");t.tooltips.forEach(function(t){if("boolean"!=typeof t&&("object"!=typeof t||"function"!=typeof t.to))throw new Error("noUiSlider ("+mt+"): 'tooltips' must be passed a formatter or 'false'.")})}}function A(t,e){o(t.ariaFormat=e)}function V(t,e){o(t.format=e)}function D(t,e){if("boolean"!=typeof(t.keyboardSupport=e))throw new Error("noUiSlider ("+mt+"): 'keyboardSupport' option must be a boolean.")}function M(t,e){t.documentElement=e}function O(t,e){if("string"!=typeof e&&!1!==e)throw new Error("noUiSlider ("+mt+"): 'cssPrefix' must be a string or `false`.");t.cssPrefix=e}function L(t,e){if("object"!=typeof e)throw new Error("noUiSlider ("+mt+"): 'cssClasses' must be an object.");if("string"==typeof t.cssPrefix)for(var r in t.cssClasses={},e)Object.prototype.hasOwnProperty.call(e,r)&&(t.cssClasses[r]=t.cssPrefix+e[r]);else t.cssClasses=e}function Ct(e){var t,r,n={margin:0,limit:0,padding:0,animate:!0,animationDuration:300,ariaFormat:s,format:s},i={step:{r:!1,t:c},keyboardPageMultiplier:{r:!1,t:h},keyboardDefaultStep:{r:!1,t:m},start:{r:!0,t:v},connect:{r:!0,t:w},direction:{r:!0,t:N},snap:{r:!1,t:b},animate:{r:!1,t:x},animationDuration:{r:!1,t:S},range:{r:!0,t:g},orientation:{r:!1,t:y},margin:{r:!1,t:E},limit:{r:!1,t:C},padding:{r:!1,t:P},behaviour:{r:!0,t:k},ariaFormat:{r:!1,t:A},format:{r:!1,t:V},tooltips:{r:!1,t:U},keyboardSupport:{r:!0,t:D},documentElement:{r:!1,t:M},cssPrefix:{r:!0,t:O},cssClasses:{r:!0,t:L}},o={connect:!1,direction:"ltr",behaviour:"tap",orientation:"horizontal",keyboardSupport:!0,cssPrefix:"noui-",cssClasses:a,keyboardPageMultiplier:5,keyboardDefaultStep:10};return e.format&&!e.ariaFormat&&(e.ariaFormat=e.format),Object.keys(i).forEach(function(t){if(!l(e[t])&&void 0===o[t]){if(i[t].r)throw new Error("noUiSlider ("+mt+"): '"+t+"' is required.");return!0}i[t].t(n,(l(e[t])?e:o)[t])}),n.pips=e.pips,t=void 0!==(r=document.createElement("div")).style.msTransform,r=void 0!==r.style.transform,n.transformRule=r?"transform":t?"msTransform":"webkitTransform",n.style=[["left","top"],["right","bottom"]][n.dir][n.ort],n}function j(t,f,o){var i,a,n,s,l,u,c=window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"},z=window.CSS&&CSS.supports&&CSS.supports("touch-action","none")&&function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("test",null,e)}catch(t){}return t}(),p=t,x=f.spectrum,d=[],h=[],m=[],g=0,v={},b=t.ownerDocument,S=f.documentElement||b.documentElement,w=b.body,H=-1,y=0,E=1,C=2,F="rtl"===b.dir||1===f.ort?0:100;function P(t,e){var r=b.createElement("div");return e&&wt(r,e),t.appendChild(r),r}function R(t,p){var t=P(t,f.cssClasses.origin),e=P(t,f.cssClasses.handle);return P(e,f.cssClasses.touchArea),e.setAttribute("data-handle",p),f.keyboardSupport&&(e.setAttribute("tabindex","0"),e.addEventListener("keydown",function(t){var e,r,n,i,o,s,a,l,u,c=p;if(!q()&&!N(c)){if(l=["Left","Right"],n=["Down","Up"],r=["PageDown","PageUp"],o=["Home","End"],f.dir&&!f.ort?l.reverse():f.ort&&!f.dir&&(n.reverse(),r.reverse()),a=t.key.replace("Arrow",""),e=a===r[0],r=a===r[1],i=a===n[1]||a===l[1]||r,u=a===o[0],o=a===o[1],!((n=a===n[0]||a===l[0]||e)||i||u||o))return!0;if(t.preventDefault(),i||n){if(a=f.keyboardPageMultiplier,l=n?0:1,u=ut(c),null===(t=u[l]))return!1;!1===t&&(t=x.getDefaultStep(h[c],n,f.keyboardDefaultStep)),(r||e)&&(t*=a),t=Math.max(t,1e-7),t*=n?-1:1,s=d[c]+t}else s=o?f.spectrum.xVal[f.spectrum.xVal.length-1]:f.spectrum.xVal[0];O(c,x.toStepping(s),!0,!0),D("slide",c),D("update",c),D("change",c),D("set",c)}return!1})),e.setAttribute("role","slider"),e.setAttribute("aria-orientation",f.ort?"vertical":"horizontal"),0===p?wt(e,f.cssClasses.handleLower):p===f.handles-1&&wt(e,f.cssClasses.handleUpper),t}function T(t,e){return!!e&&P(t,f.cssClasses.connect)}function B(t,e){return!!f.tooltips[e]&&P(t.firstChild,f.cssClasses.tooltip)}function q(){return p.hasAttribute("disabled")}function N(t){return a[t].hasAttribute("disabled")}function k(){l&&(tt("update.tooltips"),l.forEach(function(t){t&&gt(t)}),l=null)}function X(){var n;k(),l=a.map(B),Z("update.tooltips",function(t,e,r){l[e]&&(n=t[e],!0!==f.tooltips[e]&&(n=f.tooltips[e].to(r[e])),l[e].innerHTML=n)})}function Y(i,o,s){var n,a,l=b.createElement("div"),u=[],c=[];function p(t,e){var r=e===f.cssClasses.value;return e+" "+(r?n:a)[f.ort]+" "+(r?u:c)[t]}return u[y]=f.cssClasses.valueNormal,u[E]=f.cssClasses.valueLarge,u[C]=f.cssClasses.valueSub,c[y]=f.cssClasses.markerNormal,c[E]=f.cssClasses.markerLarge,c[C]=f.cssClasses.markerSub,n=[f.cssClasses.valueHorizontal,f.cssClasses.valueVertical],a=[f.cssClasses.markerHorizontal,f.cssClasses.markerVertical],wt(l,f.cssClasses.pips),wt(l,0===f.ort?f.cssClasses.pipsHorizontal:f.cssClasses.pipsVertical),Object.keys(i).forEach(function(t){var e,r,n;r=i[e=t][0],t=i[t][1],(t=o?o(r,t):t)!==H&&((n=P(l,!1)).className=p(t,f.cssClasses.marker),n.style[f.style]=e+"%",y<t&&((n=P(l,!1)).className=p(t,f.cssClasses.value),n.setAttribute("data-value",r),n.style[f.style]=e+"%",n.innerHTML=s.to(r)))}),l}function U(){s&&(gt(s),s=null)}function A(t){var e,r,f,d,h,m,n,i,g,v,b;return U(),i=t.mode,n=t.density||1,e=t.filter||!1,r=function(t,e,r){var n,i;if("range"===t||"steps"===t)return x.xVal;if("count"===t){if(e<2)throw new Error("noUiSlider ("+mt+"): 'values' (>= 2) required for mode 'count'.");for(i=100/(n=e-1),e=[];n--;)e[n]=n*i;e.push(100),t="positions"}return"positions"===t?e.map(function(t){return x.fromStepping(r?x.getStep(t):t)}):"values"===t?r?e.map(function(t){return x.fromStepping(x.getStep(x.toStepping(t)))}):e:void 0}(i,t.values||!1,t.stepped||!1),f=n,d=i,h=r,m={},n=x.xVal[0],i=x.xVal[x.xVal.length-1],v=g=!1,b=0,(h=h.slice().sort(function(t,e){return t-e}).filter(function(t){return!this[t]&&(this[t]=!0)},{}))[0]!==n&&(h.unshift(n),g=!0),h[h.length-1]!==i&&(h.push(i),v=!0),h.forEach(function(t,e){var r,n,i,o,s,a,l,u=h[e+1],c="steps"===d,p=(p=c?x.xNumSteps[e]:p)||u-t;if(!1!==t&&void 0!==u)for(p=Math.max(p,1e-7),r=t;r<=u;r=+(r+p).toFixed(7)){for(l=(s=(i=x.toStepping(r))-b)/(a=Math.round(s/f)),n=1;n<=a;n+=1)m[(o=b+n*l).toFixed(5)]=[x.fromStepping(o),0];s=-1<h.indexOf(r)?E:c?C:y,!e&&g&&r!==u&&(s=0),r===u&&v||(m[i.toFixed(5)]=[r,s]),b=i}}),r=m,n=t.format||{to:Math.round},s=p.appendChild(Y(r,e,n))}function _(){var t=i.getBoundingClientRect(),e="offset"+["Width","Height"][f.ort];return 0===f.ort?t.width||i[e]:t.height||i[e]}function V(n,i,o,s){function e(t){var e,r;return!!(t=function(t,e,r){var n,i,o=0===t.type.indexOf("touch"),s=0===t.type.indexOf("mouse"),a=0===t.type.indexOf("pointer");0===t.type.indexOf("MSPointer")&&(a=!0);if(o)if(o=function(t){return t.target===r||r.contains(t.target)||t.target.shadowRoot&&t.target.shadowRoot.contains(r)},"touchstart"===t.type){if(1<(i=Array.prototype.filter.call(t.touches,o)).length)return!1;n=i[0].pageX,i=i[0].pageY}else{if(!(o=Array.prototype.find.call(t.changedTouches,o)))return!1;n=o.pageX,i=o.pageY}e=e||Et(b),(s||a)&&(n=t.clientX+e.x,i=t.clientY+e.y);return t.pageOffset=e,t.points=[n,i],t.cursor=s||a,t}(t,s.pageOffset,s.target||i))&&(!(q()&&!s.doNotReject)&&(e=p,r=f.cssClasses.tap,!((e.classList?e.classList.contains(r):new RegExp("\\b"+r+"\\b").test(e.className))&&!s.doNotReject)&&(!(n===c.start&&void 0!==t.buttons&&1<t.buttons)&&((!s.hover||!t.buttons)&&(z||t.preventDefault(),t.calcPoint=t.points[f.ort],void o(t,s))))))}var r=[];return n.split(" ").forEach(function(t){i.addEventListener(t,e,!!z&&{passive:!0}),r.push([t,e])}),r}function I(t){var e,r,n=xt(100*(t-(t=i,n=f.ort,e=t.getBoundingClientRect(),r=(t=t.ownerDocument).documentElement,t=Et(t),/webkit.*Chrome.*Mobile/i.test(navigator.userAgent)&&(t.x=0),n?e.top+t.y-r.clientTop:e.left+t.x-r.clientLeft))/_());return f.dir?100-n:n}function W(t,e){"mouseout"===t.type&&"HTML"===t.target.nodeName&&null===t.relatedTarget&&G(t,e)}function $(t,e){if(-1===navigator.appVersion.indexOf("MSIE 9")&&0===t.buttons&&0!==e.buttonsProperty)return G(t,e);rt(0<(t=(f.dir?-1:1)*(t.calcPoint-e.startCalcPoint)),100*t/e.baseSize,e.locations,e.handleNumbers)}function G(t,e){e.handle&&(yt(e.handle,f.cssClasses.active),--g),e.listeners.forEach(function(t){S.removeEventListener(t[0],t[1])}),0===g&&(yt(p,f.cssClasses.drag),it(),t.cursor&&(w.style.cursor="",w.removeEventListener("selectstart",vt))),e.handleNumbers.forEach(function(t){D("change",t),D("set",t),D("end",t)})}function J(t,e){var r,n,i,o;if(e.handleNumbers.some(N))return!1;1===e.handleNumbers.length&&(o=a[e.handleNumbers[0]].children[0],g+=1,wt(o,f.cssClasses.active)),t.stopPropagation(),n=V(c.move,S,$,{target:t.target,handle:o,listeners:r=[],startCalcPoint:t.calcPoint,baseSize:_(),pageOffset:t.pageOffset,handleNumbers:e.handleNumbers,buttonsProperty:t.buttons,locations:h.slice()}),i=V(c.end,S,G,{target:t.target,handle:o,listeners:r,doNotReject:!0,handleNumbers:e.handleNumbers}),o=V("mouseout",S,W,{target:t.target,handle:o,listeners:r,doNotReject:!0,handleNumbers:e.handleNumbers}),r.push.apply(r,n.concat(i,o)),t.cursor&&(w.style.cursor=getComputedStyle(t.target).cursor,1<a.length&&wt(p,f.cssClasses.drag),w.addEventListener("selectstart",vt,!1)),e.handleNumbers.forEach(function(t){D("start",t)})}function K(t){var e,r,i,o,s;return!(!t.buttons&&!t.touches)&&(t.stopPropagation(),e=I(t.calcPoint),i=e,s=!(o=100),a.forEach(function(t,e){var r,n;N(e)||(r=h[e],((n=Math.abs(r-i))<o||n<=o&&r<i||100===n&&100===o)&&(s=e,o=n))}),!1!==(r=s)&&(f.events.snap||bt(p,f.cssClasses.tap,f.animationDuration),O(r,e,!0,!0),it(),D("slide",r,!0),D("update",r,!0),D("change",r,!0),D("set",r,!0),void(f.events.snap&&J(t,{handleNumbers:[r]}))))}function Q(t){var t=I(t.calcPoint),t=x.getStep(t),e=x.fromStepping(t);Object.keys(v).forEach(function(t){"hover"===t.split(".")[0]&&v[t].forEach(function(t){t.call(u,e)})})}function Z(t,e){v[t]=v[t]||[],v[t].push(e),"update"===t.split(".")[0]&&a.forEach(function(t,e){D("update",e)})}function tt(t){var n=t&&t.split(".")[0],i=n&&t.substring(n.length);Object.keys(v).forEach(function(t){var e=t.split(".")[0],r=t.substring(e.length);n&&n!==e||i&&i!==r||delete v[t]})}function D(r,n,i){Object.keys(v).forEach(function(t){var e=t.split(".")[0];r===e&&v[t].forEach(function(t){t.call(u,d.map(f.format.to),n,d.slice(),i||!1,h.slice(),u)})})}function M(t,e,r,n,i,o){var s;return 1<a.length&&!f.events.unconstrained&&(n&&0<e&&(s=x.getAbsoluteDistance(t[e-1],f.margin,0),r=Math.max(r,s)),i&&e<a.length-1&&(s=x.getAbsoluteDistance(t[e+1],f.margin,1),r=Math.min(r,s))),1<a.length&&f.limit&&(n&&0<e&&(s=x.getAbsoluteDistance(t[e-1],f.limit,0),r=Math.min(r,s)),i&&e<a.length-1&&(s=x.getAbsoluteDistance(t[e+1],f.limit,1),r=Math.max(r,s))),f.padding&&(0===e&&(s=x.getAbsoluteDistance(0,f.padding[0],0),r=Math.max(r,s)),e===a.length-1&&(s=x.getAbsoluteDistance(100,f.padding[1],1),r=Math.min(r,s))),!((r=xt(r=x.getStep(r)))===t[e]&&!o)&&r}function et(t,e){var r=f.ort;return(r?e:t)+", "+(r?t:e)}function rt(t,r,n,e){var i=n.slice(),o=[!t,t],s=[t,!t],a=!1;e=e.slice(),t&&e.reverse(),1<e.length?e.forEach(function(t,e){e=M(i,t,i[t]+r,o[e],s[e],!1);!1===e?r=0:(r=e-i[t],i[t]=e)}):o=s=[!0],e.forEach(function(t,e){a=O(t,n[t]+r,o[e],s[e])||a}),a&&e.forEach(function(t){D("update",t),D("slide",t)})}function nt(t,e){return f.dir?100-t-e:t}function it(){m.forEach(function(t){var e=50<h[t]?-1:1,e=3+(a.length+e*t);a[t].style.zIndex=e})}function O(t,e,r,n){return!1!==(e=M(h,t,e,r,n,!1))&&(r=e,h[n=t]=r,d[n]=x.fromStepping(r),r="translate("+et(10*(nt(r,0)-F)+"%","0")+")",a[n].style[f.transformRule]=r,st(n),st(n+1),!0)}function ot(t){O(t,h[t],!0,!0)}function st(t){var e,r;n[t]&&(r=100,e="translate("+et(nt(e=(e=0)!==t?h[t-1]:e,r=(r=t!==n.length-1?h[t]:r)-e)+"%","0")+")",r="scale("+et(r/100,"1")+")",n[t].style[f.transformRule]=e+" "+r)}function at(t,e){return null===t||!1===t||void 0===t||("number"==typeof t&&(t=String(t)),t=f.format.from(t),!1===(t=x.toStepping(t))||isNaN(t))?h[e]:t}function L(t,e){var r,n=St(t),t=void 0===h[0];for(e=void 0===e||!!e,f.animate&&!t&&bt(p,f.cssClasses.tap,f.animationDuration),m.forEach(function(t){O(t,at(n[t],t),!0,!1)}),r=1===m.length?0:1;r<m.length;++r)m.forEach(ot);it(),m.forEach(function(t){D("update",t),null!==n[t]&&e&&D("set",t)})}function lt(){var t=d.map(f.format.to);return 1===t.length?t[0]:t}function ut(t){var e=h[t],r=x.getNearbySteps(e),t=d[t],n=r.thisStep.step,i=null;return f.snap?[t-r.stepBefore.startValue||null,r.stepAfter.startValue-t||null]:(!1!==n&&t+n>r.stepAfter.startValue&&(n=r.stepAfter.startValue-t),i=t>r.thisStep.startValue?r.thisStep.step:!1!==r.stepBefore.step&&t-r.stepBefore.highestStep,100===e?n=null:0===e&&(i=null),t=x.countStepDecimals(),null!==n&&!1!==n&&(n=Number(n.toFixed(t))),[i=null!==i&&!1!==i?Number(i.toFixed(t)):i,n])}wt(t=p,f.cssClasses.target),0===f.dir?wt(t,f.cssClasses.ltr):wt(t,f.cssClasses.rtl),0===f.ort?wt(t,f.cssClasses.horizontal):wt(t,f.cssClasses.vertical),wt(t,"rtl"===getComputedStyle(t).direction?f.cssClasses.textDirectionRtl:f.cssClasses.textDirectionLtr),i=P(t,f.cssClasses.base);var r,ct,pt,j,e,ft=f.connect,dt=i,ht=P(dt,f.cssClasses.connects);for(a=[],(n=[]).push(T(ht,ft[0])),e=0;e<f.handles;e++)a.push(R(dt,e)),m[e]=e,n.push(T(ht,ft[e+1]));return(r=f.events).fixed||a.forEach(function(t,e){V(c.start,t.children[0],J,{handleNumbers:[e]})}),r.tap&&V(c.start,i,K,{}),r.hover&&V(c.move,i,Q,{hover:!0}),r.drag&&n.forEach(function(t,e){!1!==t&&0!==e&&e!==n.length-1&&(ct=a[e-1],pt=a[e],j=[t],wt(t,f.cssClasses.draggable),r.fixed&&(j.push(ct.children[0]),j.push(pt.children[0])),j.forEach(function(t){V(c.start,t,J,{handles:[ct,pt],handleNumbers:[e-1,e]})}))}),L(f.start),f.pips&&A(f.pips),f.tooltips&&X(),Z("update",function(t,e,o,r,s){m.forEach(function(t){var e=a[t],r=M(h,t,0,!0,!0,!0),n=M(h,t,100,!0,!0,!0),i=s[t],t=f.ariaFormat.to(o[t]),r=x.fromStepping(r).toFixed(1),n=x.fromStepping(n).toFixed(1),i=x.fromStepping(i).toFixed(1);e.children[0].setAttribute("aria-valuemin",r),e.children[0].setAttribute("aria-valuemax",n),e.children[0].setAttribute("aria-valuenow",i),e.children[0].setAttribute("aria-valuetext",t)})}),u={destroy:function(){for(var t in f.cssClasses)Object.prototype.hasOwnProperty.call(f.cssClasses,t)&&yt(p,f.cssClasses[t]);for(;p.firstChild;)p.removeChild(p.firstChild);delete p.noUiSlider},steps:function(){return m.map(ut)},on:Z,off:tt,get:lt,set:L,setHandle:function(t,e,r){if(!(0<=(t=Number(t))&&t<m.length))throw new Error("noUiSlider ("+mt+"): invalid handle number, got: "+t);O(t,at(e,t),!0,!0),D("update",t),r&&D("set",t)},reset:function(t){L(f.start,t)},__moveHandles:function(t,e,r){rt(t,e,h,r)},options:o,updateOptions:function(e,t){var r,n=lt(),i=["margin","limit","padding","range","animate","snap","step","format","pips","tooltips"];i.forEach(function(t){void 0!==e[t]&&(o[t]=e[t])}),r=Ct(o),i.forEach(function(t){void 0!==e[t]&&(f[t]=r[t])}),x=r.spectrum,f.margin=r.margin,f.limit=r.limit,f.padding=r.padding,f.pips?A(f.pips):U(),(f.tooltips?X:k)(),h=[],L(e.start||n,t)},target:p,removePips:U,removeTooltips:k,getTooltips:function(){return l},getOrigins:function(){return a},pips:A}}return i.prototype.getDistance=function(t){for(var e,r=[],n=0;n<this.xNumSteps.length-1;n++){if((e=this.xNumSteps[n])&&t/e%1!=0)throw new Error("noUiSlider ("+mt+"): 'limit', 'margin' and 'padding' of "+this.xPct[n]+"% range must be divisible by step.");r[n]=d(this.xVal,t,n)}return r},i.prototype.getAbsoluteDistance=function(t,e,r){var n,i,o,s=0,a=1,l=0,u=0,c=0;if(t<this.xPct[this.xPct.length-1])for(;t>this.xPct[s+1];)s++;else t===this.xPct[this.xPct.length-1]&&(s=this.xPct.length-2);for(r||t!==this.xPct[s+1]||s++,i=e[s],n=r?(t-this.xPct[s])/(this.xPct[s+1]-this.xPct[s]):(this.xPct[s+1]-t)/(this.xPct[s+1]-this.xPct[s]);0<i;)o=this.xPct[s+1+c]-this.xPct[s+c],100<e[s+c]*a+100-100*n?(l=o*n,a=(i-100*n)/e[s+c],n=1):(l=e[s+c]*o/100*a,a=0),r?(u-=l,1<=this.xPct.length+c&&c--):(u+=l,1<=this.xPct.length-c&&c++),i=e[s+c]*a;return t+u},i.prototype.toStepping=function(t){return t=r(this.xVal,this.xPct,t)},i.prototype.fromStepping=function(t){return e=this.xVal,r=this.xPct,100<=(t=t)?e.slice(-1)[0]:(o=u(t,r),n=e[o-1],e=e[o],i=r[o-1],r=r[o],(t-i)*f(i,r)*((o=[n,e])[1]-o[0])/100+o[0]);var e,r,n,i,o},i.prototype.getStep=function(t){return t=n(this.xPct,this.xSteps,this.snap,t)},i.prototype.getDefaultStep=function(t,e,r){var n=u(t,this.xPct);return(100===t||e&&t===this.xPct[n-1])&&(n=Math.max(n-1,1)),(this.xVal[n]-this.xVal[n-1])/r},i.prototype.getNearbySteps=function(t){t=u(t,this.xPct);return{stepBefore:{startValue:this.xVal[t-2],step:this.xNumSteps[t-2],highestStep:this.xHighestCompleteStep[t-2]},thisStep:{startValue:this.xVal[t-1],step:this.xNumSteps[t-1],highestStep:this.xHighestCompleteStep[t-1]},stepAfter:{startValue:this.xVal[t],step:this.xNumSteps[t],highestStep:this.xHighestCompleteStep[t]}}},i.prototype.countStepDecimals=function(){var t=this.xNumSteps.map(e);return Math.max.apply(null,t)},i.prototype.convert=function(t){return this.getStep(this.toStepping(t))},{__spectrum:i,version:mt,cssClasses:a,create:function(t,e){if(!t||!t.nodeName)throw new Error("noUiSlider ("+mt+"): create requires a single element, got: "+t);if(t.noUiSlider)throw new Error("noUiSlider ("+mt+"): Slider was already initialized.");return e=j(t,Ct(e),e),t.noUiSlider=e}}});!function(m){"use strict";var t,e,a,v=/^\s+/,w=/\s+$/,n=0,o=m.round,y=m.min,_=m.max,r=m.random,x={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},s=function(t){var e,a={};for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&(a[t[e]]=e);return a}(x),k=(e="[\\s|\\(]+("+(t="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+t+")[,|\\s]+("+t+")\\s*\\)?",a="[\\s|\\(]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")\\s*\\)?",{CSS_UNIT:new RegExp(t),rgb:new RegExp("rgb"+e),rgba:new RegExp("rgba"+a),hsl:new RegExp("hsl"+e),hsla:new RegExp("hsla"+a),hsv:new RegExp("hsv"+e),hsva:new RegExp("hsva"+a),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function A(t){return k.CSS_UNIT.exec(t)}function S(t){return parseInt(t,16)}function C(t){return S(t)/255}function P(t){return t=parseFloat(t),t=isNaN(t)||t<0||1<t?1:t}function R(t,e){var a;return"string"==typeof(a=t)&&-1!==a.indexOf(".")&&1===parseFloat(a)&&(t="100%"),a="string"==typeof(a=t)&&-1!==a.indexOf("%"),t=y(e,_(0,parseFloat(t))),a&&(t=parseInt(t*e,10)/100),m.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function i(t){return y(1,_(0,t))}function l(t){return 1===t.length?"0"+t:""+t}function F(t){return t=t<=1?100*t+"%":t}function c(t){return m.round(255*parseFloat(t)).toString(16)}function f(t,e,a){var n,r,o,s,i,l;if(t=R(t,255),e=R(e,255),a=R(a,255),i=((n=_(t,e,a))+(r=y(t,e,a)))/2,n===r)o=s=0;else{switch(l=n-r,s=.5<i?l/(2-n-r):l/(n+r),n){case t:o=(e-a)/l+(e<a?6:0);break;case e:o=(a-t)/l+2;break;case a:o=(t-e)/l+4}o/=6}return{h:o,s:s,l:i}}function u(t,e,a){var n,r,o,s,i,l;if(t=R(t,255),e=R(e,255),a=R(a,255),l=(i=n=_(t,e,a))-(r=y(t,e,a)),s=0===n?0:l/n,n===r)o=0;else{switch(n){case t:o=(e-a)/l+(e<a?6:0);break;case e:o=(a-t)/l+2;break;case a:o=(t-e)/l+4}o/=6}return{h:o,s:s,v:i}}function d(t,e,a,n){t=[l(o(t).toString(16)),l(o(e).toString(16)),l(o(a).toString(16))];return n&&t[0].charAt(0)===t[0].charAt(1)&&t[1].charAt(0)===t[1].charAt(1)&&t[2].charAt(0)===t[2].charAt(1)?t[0].charAt(0)+t[1].charAt(0)+t[2].charAt(0):t.join("")}function h(t,e,a,n){return[l(c(n)),l(o(t).toString(16)),l(o(e).toString(16)),l(o(a).toString(16))].join("")}function p(t){var e,a,n,r,o,s,i,l,c,f,u={r:0,g:0,b:0},d=1,h=null,p=!1,g=!1;function b(t,e,a){return a<0&&(a+=1),1<a&&--a,a<1/6?t+6*(e-t)*a:a<.5?e:a<2/3?t+(e-t)*(2/3-a)*6:t}return"object"==typeof(t="string"==typeof t?function(t){var e,a=!1;if(t=t.replace(v,"").replace(w,"").toLowerCase(),x[t])t=x[t],a=!0;else if("transparent"===t)return{r:0,g:0,b:0,a:0,format:"name"};return(e=k.rgb.exec(t))?{r:e[1],g:e[2],b:e[3]}:(e=k.rgba.exec(t))?{r:e[1],g:e[2],b:e[3],a:e[4]}:(e=k.hsl.exec(t))?{h:e[1],s:e[2],l:e[3]}:(e=k.hsla.exec(t))?{h:e[1],s:e[2],l:e[3],a:e[4]}:(e=k.hsv.exec(t))?{h:e[1],s:e[2],v:e[3]}:(e=k.hsva.exec(t))?{h:e[1],s:e[2],v:e[3],a:e[4]}:(e=k.hex8.exec(t))?{r:S(e[1]),g:S(e[2]),b:S(e[3]),a:C(e[4]),format:a?"name":"hex8"}:(e=k.hex6.exec(t))?{r:S(e[1]),g:S(e[2]),b:S(e[3]),format:a?"name":"hex"}:(e=k.hex4.exec(t))?{r:S(e[1]+""+e[1]),g:S(e[2]+""+e[2]),b:S(e[3]+""+e[3]),a:C(e[4]+""+e[4]),format:a?"name":"hex8"}:!!(e=k.hex3.exec(t))&&{r:S(e[1]+""+e[1]),g:S(e[2]+""+e[2]),b:S(e[3]+""+e[3]),format:a?"name":"hex"}}(t):t)&&(A(t.r)&&A(t.g)&&A(t.b)?(l=t.r,c=t.g,f=t.b,u={r:255*R(l,255),g:255*R(c,255),b:255*R(f,255)},p=!0,g="%"===String(t.r).substring(String(t.r).length-1)?"prgb":"rgb"):A(t.h)&&A(t.s)&&A(t.v)?(h=F(t.s),l=F(t.v),c=t.h,f=h,r=l,c=6*R(c,360),f=R(f,100),u={r:255*[r=R(r,100),s=r*(1-(i=c-(c=m.floor(c)))*f),o=r*(1-f),o,i=r*(1-(1-i)*f),r][f=c%6],g:255*[i,r,r,s,o,o][f],b:255*[o,o,i,r,r,s][f]},p=!0,g="hsv"):A(t.h)&&A(t.s)&&A(t.l)&&(h=F(t.s),o=F(t.l),i=t.h,r=h,s=o,i=R(i,360),r=R(r,100),s=R(s,100),0===r?e=a=n=s:(e=b(r=2*s-(s=s<.5?s*(1+r):s+r-s*r),s,i+1/3),a=b(r,s,i),n=b(r,s,i-1/3)),u={r:255*e,g:255*a,b:255*n},p=!0,g="hsl"),Object.prototype.hasOwnProperty.call(t,"a")&&(d=t.a)),d=P(d),{ok:p,format:t.format||g,r:y(255,_(u.r,0)),g:y(255,_(u.g,0)),b:y(255,_(u.b,0)),a:d}}function g(t,e){var a;return e=e||{},(t=t||"")instanceof g?t:this instanceof g?(a=p(t),this._originalInput=t,this._r=a.r,this._g=a.g,this._b=a.b,this._a=a.a,this._roundA=o(100*this._a)/100,e.format?this._format=e.format:this._format=a.format,this._gradientType=e.gradientType,this._r<1&&(this._r=o(this._r)),this._g<1&&(this._g=o(this._g)),this._b<1&&(this._b=o(this._b)),this._ok=a.ok,n+=1,void(this._tc_id=n)):new g(t,e)}function b(t,e){return new g(t,e)}function H(t,e){return e=0===e?0:e||10,(t=b(t).toHsl()).s-=e/100,t.s=i(t.s),b(t)}function T(t,e){return e=0===e?0:e||10,(t=b(t).toHsl()).s+=e/100,t.s=i(t.s),b(t)}function M(t){return b(t).desaturate(100)}function O(t,e){return e=0===e?0:e||10,(t=b(t).toHsl()).l+=e/100,t.l=i(t.l),b(t)}function z(t,e){return e=0===e?0:e||10,(t=b(t).toRgb()).r=_(0,y(255,t.r-o(-e/100*255))),t.g=_(0,y(255,t.g-o(-e/100*255))),t.b=_(0,y(255,t.b-o(-e/100*255))),b(t)}function j(t,e){return e=0===e?0:e||10,(t=b(t).toHsl()).l-=e/100,t.l=i(t.l),b(t)}function E(t,e){t=b(t).toHsl(),e=(t.h+e)%360;return t.h=e<0?360+e:e,b(t)}function I(t){t=b(t).toHsl();return t.h=(t.h+180)%360,b(t)}function N(t){var e=b(t).toHsl(),a=e.h;return[b(t),b({h:(a+120)%360,s:e.s,l:e.l}),b({h:(a+240)%360,s:e.s,l:e.l})]}function q(t){var e=b(t).toHsl(),a=e.h;return[b(t),b({h:(a+90)%360,s:e.s,l:e.l}),b({h:(a+180)%360,s:e.s,l:e.l}),b({h:(a+270)%360,s:e.s,l:e.l})]}function D(t){var e=b(t).toHsl(),a=e.h;return[b(t),b({h:(a+72)%360,s:e.s,l:e.l}),b({h:(a+216)%360,s:e.s,l:e.l})]}g.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(299*t.r+587*t.g+114*t.b)/1e3},getLuminance:function(){var t=this.toRgb(),e=t.r/255,a=t.g/255,t=t.b/255,e=e<=.03928?e/12.92:m.pow((.055+e)/1.055,2.4),a=a<=.03928?a/12.92:m.pow((.055+a)/1.055,2.4),t=t<=.03928?t/12.92:m.pow((.055+t)/1.055,2.4);return.2126*e+.7152*a+.0722*t},setAlpha:function(t){return this._a=P(t),this._roundA=o(100*this._a)/100,this},toHsv:function(){var t=u(this._r,this._g,this._b);return{h:360*t.h,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=u(this._r,this._g,this._b),e=o(360*t.h),a=o(100*t.s),t=o(100*t.v);return 1===this._a?"hsv("+e+", "+a+"%, "+t+"%)":"hsva("+e+", "+a+"%, "+t+"%, "+this._roundA+")"},toHsl:function(){var t=f(this._r,this._g,this._b);return{h:360*t.h,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=f(this._r,this._g,this._b),e=o(360*t.h),a=o(100*t.s),t=o(100*t.l);return 1===this._a?"hsl("+e+", "+a+"%, "+t+"%)":"hsla("+e+", "+a+"%, "+t+"%, "+this._roundA+")"},toHex:function(t){return d(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(t){return e=this._r,a=this._g,n=this._b,r=this._a,t=t,e=[l(o(e).toString(16)),l(o(a).toString(16)),l(o(n).toString(16)),l(c(r))],t&&e[0].charAt(0)===e[0].charAt(1)&&e[1].charAt(0)===e[1].charAt(1)&&e[2].charAt(0)===e[2].charAt(1)&&e[3].charAt(0)===e[3].charAt(1)?e[0].charAt(0)+e[1].charAt(0)+e[2].charAt(0)+e[3].charAt(0):e.join("");var e,a,n,r},toHex8String:function(t){return"#"+this.toHex8(t)},toRgb:function(){return{r:o(this._r),g:o(this._g),b:o(this._b),a:this._a}},toRgbString:function(){return 1===this._a?"rgb("+o(this._r)+", "+o(this._g)+", "+o(this._b)+")":"rgba("+o(this._r)+", "+o(this._g)+", "+o(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:o(100*R(this._r,255))+"%",g:o(100*R(this._g,255))+"%",b:o(100*R(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1===this._a?"rgb("+o(100*R(this._r,255))+"%, "+o(100*R(this._g,255))+"%, "+o(100*R(this._b,255))+"%)":"rgba("+o(100*R(this._r,255))+"%, "+o(100*R(this._g,255))+"%, "+o(100*R(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&s[d(this._r,this._g,this._b,!0)]||!1},toFilter:function(t){var e="#"+h(this._r,this._g,this._b,this._a),a=e;return"progid:DXImageTransform.Microsoft.gradient("+(this._gradientType?"GradientType = 1, ":"")+"startColorstr="+e+",endColorstr="+(a=t?"#"+h((e=b(t))._r,e._g,e._b,e._a):a)+")"},toString:function(t){var e,a,n=!!t;return t=t||this._format,e=!1,a=this._a<1&&0<=this._a,n||!a||"hex"!==t&&"hex6"!==t&&"hex3"!==t&&"hex4"!==t&&"hex8"!==t&&"name"!==t?("rgb"===t&&(e=this.toRgbString()),"prgb"===t&&(e=this.toPercentageRgbString()),"hex"!==t&&"hex6"!==t||(e=this.toHexString()),"hex3"===t&&(e=this.toHexString(!0)),"hex4"===t&&(e=this.toHex8String(!0)),"hex8"===t&&(e=this.toHex8String()),"name"===t&&(e=this.toName()),"hsl"===t&&(e=this.toHslString()),(e="hsv"===t?this.toHsvString():e)||this.toHexString()):"name"===t&&0===this._a?this.toName():this.toRgbString()},clone:function(){return b(this.toString())},_applyModification:function(t,e){t=t.apply(null,[this].concat([].slice.call(e)));return this._r=t._r,this._g=t._g,this._b=t._b,this.setAlpha(t._a),this},lighten:function(){return this._applyModification(O,arguments)},brighten:function(){return this._applyModification(z,arguments)},darken:function(){return this._applyModification(j,arguments)},desaturate:function(){return this._applyModification(H,arguments)},saturate:function(){return this._applyModification(T,arguments)},greyscale:function(){return this._applyModification(M,arguments)},spin:function(){return this._applyModification(E,arguments)},_applyCombination:function(t,e){return t.apply(null,[this].concat([].slice.call(e)))},complement:function(){return this._applyCombination(I,arguments)},splitcomplement:function(){return this._applyCombination(D,arguments)},triad:function(){return this._applyCombination(N,arguments)},tetrad:function(){return this._applyCombination(q,arguments)}},g.fromRatio=function(t,e){var a,n;if("object"==typeof t){for(n in a={},t)Object.prototype.hasOwnProperty.call(t,n)&&(a[n]="a"===n?t[n]:F(t[n]));t=a}return b(t,e)},g.equals=function(t,e){return!(!t||!e)&&b(t).toRgbString()===b(e).toRgbString()},g.random=function(){return g.fromRatio({r:r(),g:r(),b:r()})},g.mix=function(t,e,a){return a=0===a?0:a||50,t=b(t).toRgb(),e=b(e).toRgb(),b({r:(e.r-t.r)*(a=a/100)+t.r,g:(e.g-t.g)*a+t.g,b:(e.b-t.b)*a+t.b,a:(e.a-t.a)*a+t.a})},g.readability=function(t,e){t=b(t),e=b(e);return(m.max(t.getLuminance(),e.getLuminance())+.05)/(m.min(t.getLuminance(),e.getLuminance())+.05)},g.isReadable=function(t,e,a){var n=g.readability(t,e),r=!1;switch((a={level:e="AA"!==(e=((t=(t=a)||{level:"AA",size:"small"}).level||"AA").toUpperCase())&&"AAA"!==e?"AA":e,size:e="small"!==(e=(t.size||"small").toLowerCase())&&"large"!==e?"small":e}).level+a.size){case"AAsmall":case"AAAlarge":r=4.5<=n;break;case"AAlarge":r=3<=n;break;case"AAAsmall":r=7<=n}return r},g.mostReadable=function(t,e,a){for(var n,r=null,o=0,s=(a=a||{}).includeFallbackColors,i=a.level,l=a.size,c=0;c<e.length;c+=1)o<(n=g.readability(t,e[c]))&&(o=n,r=b(e[c]));return g.isReadable(t,r,{level:i,size:l})||!s?r:(a.includeFallbackColors=!1,g.mostReadable(t,["#fff","#000"],a))},g.names=x,g.hexNames=s,void 0!==window.module&&window.module.exports?window.module.exports=g:"function"==typeof window.define&&window.define.amd?window.define(function(){return g}):window.tinycolor=g}(Math),function(t){"use strict";"function"==typeof window.define&&window.define.amd?window.define(["jquery"],t):"object"==typeof exports&&"object"==typeof module?window.module.exports=t(window.require("jquery")):t(window.jQuery)}(function(It){"use strict";var t,o="spectrum.id",Nt=window.tinycolor,qt={beforeShow:a,move:a,change:a,show:a,hide:a,color:!1,flat:!1,type:"color",showInput:!1,allowEmpty:!1,showButtons:!0,clickoutFiresChange:!0,showInitial:!1,showPalette:!1,showPaletteOnly:!1,hideAfterPaletteSelect:!1,togglePaletteOnly:!1,showSelectionPalette:!0,localStorageKey:!1,appendTo:"body",maxSelectionSize:8,locale:"en",cancelText:"cancel",chooseText:"choose",togglePaletteMoreText:"more",togglePaletteLessText:"less",clearText:"Clear Color Selection",preferredFormat:"hex",className:"",containerClassName:"",replacerClassName:"",showAlpha:!1,theme:"epo",palette:[["#000000","#444444","#5b5b5b","#999999","#bcbcbc","#eeeeee","#f3f6f4","#ffffff"],["#f44336","#744700","#ce7e00","#8fce00","#2986cc","#16537e","#6a329f","#c90076"],["#f4cccc","#fce5cd","#fff2cc","#d9ead3","#d0e0e3","#cfe2f3","#d9d2e9","#ead1dc"],["#ea9999","#f9cb9c","#ffe599","#b6d7a8","#a2c4c9","#9fc5e8","#b4a7d6","#d5a6bd"],["#e06666","#f6b26b","#ffd966","#93c47d","#76a5af","#6fa8dc","#8e7cc3","#c27ba0"],["#cc0000","#e69138","#f1c232","#6aa84f","#45818e","#3d85c6","#674ea7","#a64d79"],["#990000","#b45f06","#bf9000","#38761d","#134f5c","#0b5394","#351c75","#741b47"],["#660000","#783f04","#7f6000","#274e13","#0c343d","#073763","#20124d","#4c1130"]],selectionPalette:[],disabled:!1,offset:null},Dt=[],Lt=!!/msie/i.exec(window.navigator.userAgent),Bt=((t=document.createElement("div").style).cssText="background-color:rgba(0,0,0,.5)",e(t.backgroundColor,"rgba")||e(t.backgroundColor,"hsla")),$t=["<div class='sp-replacer'>","<div class='sp-preview'><div class='sp-preview-inner'></div></div>","<div class='sp-dd'>&#9660;</div>","</div>"].join(""),Kt=function(){var t,e="";if(Lt)for(t=1;t<=6;t++)e+="<div class='sp-"+t+"'></div>";return["<div class='sp-container sp-hidden'>","<div class='sp-palette-container'>","<div class='sp-palette sp-thumb sp-cf'></div>","<div class='sp-palette-button-container sp-cf'>","<button type='button' class='sp-palette-toggle'></button>","</div>","</div>","<div class='sp-picker-container'>","<div class='sp-top sp-cf'>","<div class='sp-fill'></div>","<div class='sp-top-inner'>","<div class='sp-color'>","<div class='sp-sat'>","<div class='sp-val'>","<div class='sp-dragger'></div>","</div>","</div>","</div>","<div class='sp-clear sp-clear-display'>","</div>","<div class='sp-hue'>","<div class='sp-slider'></div>",e,"</div>","</div>","<div class='sp-alpha'><div class='sp-alpha-inner'><div class='sp-alpha-handle'></div></div></div>","</div>","<div class='sp-input-container sp-cf'>","<input class='sp-input' type='text' spellcheck='false'>","</div>","<div class='sp-initial sp-thumb sp-cf'></div>","<div class='sp-button-container sp-cf'>","<button class='sp-cancel' href='#'></button>","<button type='button' class='sp-choose'></button>","</div>","</div>","</div>"].join("")}();function e(t,e){return 1!==(""+t).indexOf(e)}function Vt(t,e,a,n){for(var r,o,s,i,l=[],c=0;c<t.length;c++)(s=t[c])?(o=(r=Nt(s)).toHsl().l<.5?"sp-thumb-el sp-thumb-dark":"sp-thumb-el sp-thumb-light",o+=Nt.equals(e,s)?" sp-thumb-active":"",s=r.toString(n.preferredFormat||"rgb"),i=Bt?"background-color:"+r.toRgbString():"filter:"+r.toFilter(),l.push('<span title="'+s+'" data-color="'+r.toRgbString()+'" class="'+o+'"><span class="sp-thumb-inner" style="'+i+';"></span></span>')):l.push('<span class="sp-thumb-el sp-clear-display"><span class="sp-clear-palette-only" style="background-color: transparent;"></span></span>');return"<div class='sp-cf "+a+"'>"+l.join("")+"</div>"}function s(t,e){n=t,(e=e).locale=e.locale||window.navigator.language,e.locale&&(e.locale=e.locale.split("-")[0].toLowerCase()),"en"!==e.locale&&It.spectrum.localization[e.locale]&&(e=It.extend({},It.spectrum.localization[e.locale],e)),(e=It.extend({},qt,e)).callbacks={move:Wt(e.move,n),change:Wt(e.change,n),show:Wt(e.show,n),hide:Wt(e.hide,n),beforeShow:Wt(e.beforeShow,n)};var E,I,N,q,D,a,l=e,n=l.type,c="flat"===n,L=l.showSelectionPalette,r=l.localStorageKey,e=l.theme,o=l.callbacks,B=(I=j,function(){var t=this,e=arguments;q&&clearTimeout(D),!q&&D||(D=setTimeout(function(){D=null,I.apply(t,e)},N))}),f=!(N=10),$=!1,u=0,d=0,h=0,K=0,V=0,U=0,W=0,s=0,X=0,Y=0,i=1,p=[],G=[],Q={},g=l.selectionPalette.slice(0),J=l.maxSelectionSize,Z="sp-dragging",tt=!1,b=null,et=t.ownerDocument,m=It(t),at=!1,v=It(Kt,et).addClass(e),nt=v.find(".sp-picker-container"),rt=v.find(".sp-color"),ot=v.find(".sp-dragger"),st=v.find(".sp-hue"),it=v.find(".sp-slider"),lt=v.find(".sp-alpha-inner"),ct=v.find(".sp-alpha"),ft=v.find(".sp-alpha-handle"),w=v.find(".sp-input"),ut=v.find(".sp-palette"),dt=v.find(".sp-initial"),t=v.find(".sp-cancel"),ht=v.find(".sp-clear"),pt=v.find(".sp-choose"),gt=v.find(".sp-palette-toggle"),bt=m.is("input"),mt=bt&&"color"===n,y=mt?It($t).addClass(e).addClass(l.className).addClass(l.replacerClassName):It([]),vt=mt?y:m,_=y.find(".sp-preview-inner"),x=l.color||bt&&m.val(),k=!1,A=l.preferredFormat,wt=!l.showButtons||l.clickoutFiresChange,S=!x,C=l.allowEmpty,P=null,R=null,yt=null,_t=null,e=m.attr("id");function xt(){var t,e,a;if(l.showPaletteOnly&&(l.showPalette=!0),gt.text(l.showPaletteOnly?l.togglePaletteMoreText:l.togglePaletteLessText),l.palette){for(p=l.palette.slice(0),G=Array.isArray(p[0])?p:[p],Q={},t=0;t<G.length;t++)for(e=0;e<G[t].length;e++)a=Nt(G[t][e]).toRgbString(),Q[a]=!0;l.showPaletteOnly&&!x&&(x=(""===p[0][0]?p[0]:Object.keys(Q))[0])}v.toggleClass("sp-flat",c),v.toggleClass("sp-input-disabled",!l.showInput),v.toggleClass("sp-alpha-enabled",l.showAlpha),v.toggleClass("sp-clear-enabled",C),v.toggleClass("sp-buttons-disabled",!l.showButtons),v.toggleClass("sp-palette-buttons-disabled",!l.togglePaletteOnly),v.toggleClass("sp-palette-disabled",!l.showPalette),v.toggleClass("sp-palette-only",l.showPaletteOnly),v.toggleClass("sp-initial-disabled",!l.showInitial),v.addClass(l.className).addClass(l.containerClassName),j()}function kt(){var t,e;if(r){try{1<(e=(t=window.localStorage)[r].split(",#")).length&&(delete t[r],It.each(e,function(t,e){At(e)}))}catch(t){window.console.log(t)}try{g=window.localStorage[r].split(";")}catch(t){window.console.log(t)}}}function At(t){if(L){if(t=Nt(t).toRgbString(),!Q[t]&&-1===It.inArray(t,g))for(g.push(t);g.length>J;)g.shift();if(r)try{window.localStorage[r]=g.join(";")}catch(t){window.console.log(t)}}}function St(){var a=T(),t=It.map(G,function(t,e){return Vt(t,a,"sp-palette-row sp-palette-row-"+e,l)});kt(),g&&t.push(Vt(function(){var t,e,a=[];if(l.showPalette)for(t=0;t<g.length;t++)e=Nt(g[t]).toRgbString(),Q[e]||a.push(g[t]);return a.reverse().slice(0,l.maxSelectionSize)}(),a,"sp-palette-row sp-palette-row-selection",l)),ut.html(t.join(""))}function Ct(){var t,e;l.showInitial&&(t=k,e=T(),dt.html(Vt([t,e],e,"sp-palette-row-initial",l)))}function Pt(){(d<=0||u<=0||K<=0)&&j(),$=!0,v.addClass(Z),b=null,m.trigger("dragstart.spectrum",[T()])}function Rt(){$=!1,v.removeClass(Z),m.trigger("dragstop.spectrum",[T()])}function Ft(t){tt?tt=!1:null!==t&&""!==t||!C?(t=Nt(t)).isValid()?(H(t),M(),z()):w.addClass("sp-validation-error"):(H(null),M(),z())}function Ht(){var t=It.Event("beforeShow.spectrum");if(f)j();else if(m.trigger(t,[T()]),!1!==o.beforeShow(T())&&!t.isDefaultPrevented()){for(var e=0;e<Dt.length;e++)Dt[e]&&Dt[e].hide();f=!0,It(et).on("keydown.spectrum",Tt),It(et).on("click.spectrum",Mt),It(window).on("resize.spectrum",B),y.addClass("sp-active"),v.removeClass("sp-hidden"),j(),O(),k=T(),Ct(),o.show(k),m.trigger("show.spectrum",[k])}}function Tt(t){27===t.keyCode&&F()}function Mt(t){2===t.button||$||(wt?z(!0):Ot(),F())}function F(){f&&!c&&(f=!1,It(et).off("keydown.spectrum",Tt),It(et).off("click.spectrum",Mt),It(window).off("resize.spectrum",B),y.removeClass("sp-active"),v.addClass("sp-hidden"),o.hide(T()),m.trigger("hide.spectrum",[T()]))}function Ot(){H(k,!0),z(!0)}function H(t,e){var a;Nt.equals(t,T())?O():(t&&void 0!==t||!C?(S=!1,t=(a=Nt(t)).toHsv(),s=t.h%360/360,X=t.s,Y=t.v,i=t.a):S=!0,O(),a&&a.isValid()&&!e&&(A=l.preferredFormat||a.getFormat()))}function T(t){return t=t||{},C&&S?null:Nt.fromRatio({h:s,s:X,v:Y,a:Math.round(1e3*i)/1e3},{format:t.format||A})}function M(){O(),o.move(T()),m.trigger("move.spectrum",[T()])}function O(){var t,e,a,n,r,o;w.removeClass("sp-validation-error"),zt(),t=Nt.fromRatio({h:s,s:1,v:1}),rt.css("background-color",t.toHexString()),t=A,e=T({format:t=!(i<1)||0===i&&"name"===A||"hex"!==A&&"hex3"!==A&&"hex6"!==A&&"name"!==A?A:"rgb"}),a="",_.removeClass("sp-clear-display"),_.css("background-color","transparent"),!e&&C?_.addClass("sp-clear-display"):(n=e.toHexString(),o=e.toRgbString(),Bt||1===e.alpha?_.css("background-color",o):(_.css("background-color","transparent"),_.css("filter",e.toFilter())),l.showAlpha&&((o=e.toRgb()).a=0,r="linear-gradient(left, "+(o=Nt(o).toRgbString())+", "+n+")",Lt?lt.css("filter",Nt(o).toFilter({gradientType:1},n)):(lt.css("background","-webkit-"+r),lt.css("background","-moz-"+r),lt.css("background","-ms-"+r),lt.css("background","linear-gradient(to right, "+o+", "+n+")"))),a=e.toString(t)),l.showInput&&w.val(a),m.val(a),"text"!==l.type&&"component"!==l.type||((r=e)&&R?(o=r.isLight()||r.getAlpha()<.4?"black":"white",R.css("background-color",r.toRgbString()).css("color",o)):R.css("background-color",_t).css("color",yt)),l.showPalette&&St(),Ct()}function zt(){var t=X,e=Y;C&&S?(ft.hide(),it.hide(),ot.hide()):(ft.show(),it.show(),ot.show(),t=t*u,e=d-e*d,t=Math.max(-h,Math.min(u-h,t-h)),e=Math.max(-h,Math.min(d-h,e-h)),ot.css({top:e+"px",left:t+"px"}),e=i*V,ft.css({left:e-U/2+"px"}),t=s*K,it.css({top:t-W+"px"}))}function z(t){var e=T(),a=!Nt.equals(e,k);e&&At(e),t&&a&&(o.change(e),tt=!0,m.trigger("change",[e]))}function j(){var t,e,a,n,r,o,s,i;f&&(u=rt.width(),d=rt.height(),h=ot.height(),K=st.height(),W=it.height(),V=ct.width(),U=ft.width(),c||(v.css("position","absolute"),l.offset?v.offset(l.offset):v.offset((e=vt,a=(t=v).outerWidth(),n=t.outerHeight(),r=e.outerHeight(),t=t[0].ownerDocument,o=t.documentElement,s=o.clientWidth+It(t).scrollLeft(),o=o.clientHeight+It(t).scrollTop(),e=(t=e.offset()).left,i=t.top,i+=r,e-=Math.min(e,s<e+a&&a<s?Math.abs(e+a-s):0),{top:i-=Math.min(i,o<i+n&&n<o?Math.abs(+(n+r)):0),bottom:t.bottom,left:e,right:t.right,width:t.width,height:t.height}))),zt(),l.showPalette&&St(),m.trigger("reflow.spectrum"))}function jt(){F(),at=!0,m.attr("disabled",!0),vt.addClass("sp-disabled")}function Et(t){return(t.data&&t.data.ignore?(H(It(t.target).closest(".sp-thumb-el").data("color")),M):(H(It(t.target).closest(".sp-thumb-el").data("color")),M(),l.hideAfterPaletteSelect?(z(!0),F):z))(),!1}return void 0!==e&&0<e.length&&(bt=It('label[for="'+e+'"]')).length&&bt.on("click",function(t){return t.preventDefault(),m.spectrum("show"),!1}),Lt&&v.find("*:not(input)").attr("unselectable","on"),xt(),P=It('<span class="sp-original-input-container"></span>'),["margin"].forEach(function(t){P.css(t,m.css(t))}),"block"===m.css("display")&&P.css("display","flex"),mt?m.after(y).hide():"text"===n?(P.addClass("sp-colorize-container"),m.addClass("spectrum sp-colorize").wrap(P)):"component"===n&&(m.addClass("spectrum").wrap(P),(a=It(["<div class='sp-colorize-container sp-add-on'>","<div class='sp-colorize'></div> ","</div>"].join(""))).width(m.outerHeight()+"px").css("border-radius",m.css("border-radius")).css("border",m.css("border")),m.addClass("with-add-on").before(a)),R=m.parent().find(".sp-colorize"),yt=R.css("color"),_t=R.css("background-color"),C||ht.hide(),c?m.after(v).hide():(a=1!==(a="parent"===l.appendTo?m.parent():It(l.appendTo)).length?It("body"):a).append(v),kt(),vt.on("click.spectrum touchstart.spectrum",function(t){at||Ht(),t.stopPropagation(),It(t.target).is("input")||t.preventDefault()}),!m.is(":disabled")&&!0!==l.disabled||jt(),v.on("click",Ut),[w,m].forEach(function(e){e.on("change",function(){Ft(e.val())}),e.on("paste",function(){setTimeout(function(){Ft(e.val())},1)}),e.on("keydown",function(t){13===t.keyCode&&(Ft(It(e).val()),e==m&&F())})}),t.text(l.cancelText),t.on("click.spectrum",function(t){t.stopPropagation(),t.preventDefault(),Ot(),F()}),ht.attr("title",l.clearText),ht.on("click.spectrum",function(t){t.stopPropagation(),t.preventDefault(),S=!0,M(),c&&z(!0)}),pt.text(l.chooseText),pt.on("click.spectrum",function(t){t.stopPropagation(),t.preventDefault(),Lt&&w.is(":focus")&&w.trigger("change"),w.hasClass("sp-validation-error")||(z(!0),F())}),gt.text(l.showPaletteOnly?l.togglePaletteMoreText:l.togglePaletteLessText),gt.on("click.spectrum",function(t){t.stopPropagation(),t.preventDefault(),l.showPaletteOnly=!l.showPaletteOnly,l.showPaletteOnly||c||v.css("left","-="+(nt.outerWidth(!0)+5)),xt()}),Xt(ct,function(t,e,a){i=t/V,S=!1,a.shiftKey&&(i=Math.round(10*i)/10),M()},Pt,Rt),Xt(st,function(t,e){s=parseFloat(e/K),S=!1,l.showAlpha||(i=1),M()},Pt,Rt),Xt(rt,function(t,e,a){var n;a.shiftKey?b||(a=X*u,n=d-Y*d,a=Math.abs(t-a)>Math.abs(e-n),b=a?"x":"y"):b=null,n=!b||"y"===b,b&&"x"!==b||(X=parseFloat(t/u)),n&&(Y=parseFloat((d-e)/d)),S=!1,l.showAlpha||(i=1),M()},Pt,Rt),!1!==x&&""!==x?(H(x),O(),A=Nt(x).format||l.preferredFormat,At(x)):(""===x&&H(x),O()),c&&Ht(),ut.on(a=Lt?"mousedown.spectrum":"click.spectrum touchstart.spectrum",".sp-thumb-el",Et),dt.on(a,".sp-thumb-el:nth-child(1)",{ignore:!0},Et),(E={show:Ht,hide:F,toggle:function(){(f?F:Ht)()},reflow:j,option:function(t,e){return void 0===t?It.extend({},l):void 0===e?l[t]:(l[t]=e,"preferredFormat"===t&&(A=l.preferredFormat),void xt())},enable:function(){at=!1,m.attr("disabled",!1),vt.removeClass("sp-disabled")},disable:jt,offset:function(t){l.offset=t,j()},set:function(t){H(t),z()},get:T,destroy:function(){var t;m.show().removeClass("spectrum with-add-on sp-colorize"),vt.off("click.spectrum touchstart.spectrum"),v.remove(),y.remove(),R&&R.css("background-color",_t).css("color",yt),0<(t=m.closest(".sp-original-input-container")).length&&t.after(m).remove(),Dt[E.id]=null},container:v}).id=Dt.push(E)-1,E}function a(){}function Ut(t){t.stopPropagation()}function Wt(t,e){var a=Array.prototype.slice,n=a.call(arguments,2);return function(){return t.apply(e,n.concat(a.call(arguments)))}}function Xt(n,r,e,t){var o=document,s=!1,i={},l=0,c=0,f="ontouchstart"in window,a={};function u(t){t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),t.returnValue=!1}function d(t){var e,a;if(s){if(Lt&&o.documentMode<9&&!t.button)return h();e=(a=t.originalEvent&&t.originalEvent.touches&&t.originalEvent.touches[0])&&a.pageX||t.pageX,a=a&&a.pageY||t.pageY,e=Math.max(0,Math.min(e-i.left,c)),a=Math.max(0,Math.min(a-i.top,l)),f&&u(t),r.apply(n,[e,a,t])}}function h(){s&&(It(o).off(a),It(o.body).removeClass("sp-dragging"),setTimeout(function(){t.apply(n,arguments)},0)),s=!1}r=r||function(){},e=e||function(){},t=t||function(){},a.selectstart=u,a.dragstart=u,a["touchmove mousemove"]=d,a["touchend mouseup"]=h,It(n).on("touchstart mousedown",function(t){(t.which?3===t.which:2===t.button)||s||!1!==e.apply(n,arguments)&&(s=!0,l=It(n).height(),c=It(n).width(),i=It(n).offset(),It(o).on(a),It(o.body).addClass("sp-dragging"),d(t),u(t))})}function n(){return It.fn.spectrum.inputTypeColorSupport()}It.fn.spectrum=function(e){var t,a,n,r;return"string"==typeof e?(t=this,a=Array.prototype.slice.call(arguments,1),this.each(function(){if(n=Dt[It(this).data(o)]){if(!(r=n[e]))throw new Error("Spectrum: no such method: '"+e+"'");"get"===e?t=n.get():"container"===e?t=n.container:"option"===e?t=n.option.apply(n,a):"destroy"===e?(n.destroy(),It(this).removeData(o)):r.apply(n,a)}}),t):this.spectrum("destroy").each(function(){var t=It.extend({},It(this).data(),e);It(this).is("input")?t.flat||"flat"===t.type?t.type="flat":"color"===It(this).attr("type")&&(t.type="color"):t.type="noInput",t=s(this,t),It(this).data(o,t.id)})},It.fn.spectrum.load=!0,It.fn.spectrum.loadOpts={},It.fn.spectrum.draggable=Xt,It.fn.spectrum.defaults=qt,It.fn.spectrum.inputTypeColorSupport=function(){var t;return void 0===n._cachedResult&&(t=It("<input type='color'>")[0],n._cachedResult="color"===t.type&&""!==t.value),n._cachedResult},It.spectrum={},It.spectrum.localization={},It.spectrum.palettes={},It.fn.spectrum.processNativeColorInputs=function(){var t=It("input[type=color]");t.length&&!n()&&t.spectrum({preferredFormat:"hex6"})},It(function(){It.fn.spectrum.load&&It.fn.spectrum.processNativeColorInputs()})});!function(I,k,Tt){"use strict";var b,o,m,a,jt={},zt=I.TMEPOJS,e=I.wp,i=I.TMEPOQTRANSLATEXJS,_=I.noUiSlider,F=I.ClipboardEvent,C=I.DataTransfer,P=[],l=[],g=!1,v=!1,A=Tt("body"),Dt=Tt(I),E=Tt(k),q=Tt(I),w=I.tcmexp,z=I._,S=!1,r=Tt.fn.val;function f(t,i){t.toArray().forEach(function(t){(t=Tt(t)).find(":input").prop("disabled",function(t,e){var a=Tt(this).data("tc-state");return void 0===a?(Tt(this).data("tc-state",e),i):!1===a?i:a})})}function Bt(t,e,a,i,o,r,n){var c,l,d,s,p,m,_,f,u;return Number.isFinite(parseFloat(t))||(t=0),t*=1e4,e&&(c=e.attr("data-taxable"),l=e.attr("data-tax-rate"),d=e.attr("data-prices-include-tax")||zt.prices_include_tax,s=e.attr("data-is-vat-exempt"),p=e.attr("data-non-base-location-prices"),m=e.attr("data-taxes-of-one"),_=e.attr("data-base-taxes-of-one"),f=e.attr("data-modded-taxes-of-one"),void 0!==e.data("current_variation")?u=e.data("current_variation"):void 0!==o&&(u=o),void 0!==u&&(c=(u=e.data("current_variation")).tc_is_taxable,l=u.tc_tax_rate,p=u.tc_non_base_location_prices,m=u.tc_taxes_of_one,_=u.tc_base_taxes_of_one,f=u.tc_modded_taxes_of_one),a&&a.data("tax-obj")&&("no"===(l=a.data("tax-obj")).has_fee?c=!1:"yes"===l.has_fee&&(c=!0),_=m=(l=l.tax_rate)/100),c&&("1"!==d||i?(a||void 0===u||n)&&(t=parseFloat(t)+parseFloat(t)*m):"1"===s?t="1"===p?parseFloat(t)-m*t:parseFloat(t)-_*t:"1"===p&&(t=parseFloat(t)-_*t+f*t))),t/=1e4}function H(t,e,a,i,o,r,n){var c,l,d,s,p,m;return Number.isFinite(parseFloat(t))||(t=0),t*=1e4,e&&(m=e.attr("data-tax-display-mode"),c=e.attr("data-taxable"),l=e.attr("data-tax-rate"),d=e.attr("data-taxes-of-one"),s=e.attr("data-prices-include-tax"),void 0!==e.data("current_variation")?p=e.data("current_variation"):void 0!==o&&(p=o),void 0!==p&&(c=p.tc_is_taxable,l=p.tc_tax_rate,d=p.tc_taxes_of_one),a&&a.data("tax-obj")&&("no"===(l=a.data("tax-obj")).has_fee?c=!1:"yes"===l.has_fee&&(c=!0),l=l.tax_rate),c&&("1"===s||i)&&"incl"!==m&&(a||void 0===p||i||n)&&(t=parseFloat(t)-parseFloat(d*t))),t/=1e4}function Nt(t,e,a,i,o,r,n){return Number.isFinite(parseFloat(t))||(t=0),t=e?("incl"===(e.attr("data-tax-display-mode")||zt.tax_display_mode)?Bt:H)(t,e,a,o,r,0,n):t}function Ht(t,e){e=Tt.extend({symbol:"",format:"",decimal:jt.localDecimalSeparator,thousand:jt.localThousandSeparator,precision:zt.currency_format_num_decimals},e=e||{});return"yes"===zt.tm_epo_trim_zeros&&"0"!==(t%1).toString()==!1&&(e.precision=0),Tt.epoAPI.applyFilter("tc_formatPrice",Tt.epoAPI.math.format(t,e),e,t)}function d(t,e,a){return e+Ht(t,{symbol:zt.currency_format_symbol,format:zt.currency_format})+a}function Lt(t,e,a,i,o,r){var n="",c=zt.option_plus_sign+" ";return a||(t=Nt(t,e,o)),a=Math.abs(t),"minus"===zt.tm_epo_global_options_price_sign&&(c=""),d(a,c=t<0?zt.option_minus_sign+" ":c,n=void 0===(n=e&&i?e.attr("data-tax-string"):n)?"":n)}function Mt(t){return 0<t.find("input.variation_id").length?"input.variation_id":"input.product-variation-id"}function Ut(t){var e=t.find(jt.qtySelector).last();return 0===e.length&&(e=t.find(jt.associateQtySelector).last()),e=Tt.epoAPI.applyFilter("tc_getQtyElement",e,t)}function s(t,e,a){P[P.length]={name:t,selector:e,func:a}}function O(a,i,o){var r,n=!0,c=!1;return a=Tt(a),(r=a.filter(".tc-epo-field-product")).length&&void 0===r.data("islogicinit")&&(c=!0),a.each(function(t,e){!n&&a.has(".tc-epo-field-product").length?(c||r.is(".tcdisabled"))&&p(e,i,o):n=p(e,i,o)&&n}),n}function p(t,e,a){var i,o,r,n;return(t=Tt(t)).is(".cpf-element")?t=(i=t).find(".tmcp-field, .tmcp-fee-field"):i=t.closest(".cpf-element"),a=a?t.closest(".tmcp-ul-wrap"):i,t.is(".tc-epo-field-product")&&void 0===t.data("islogicinit")&&t.data("islogicinit",1),(o=!t.is(".tc-epo-field-product")&&i.closest(".cpf-type-product")).length&&((n=o.find(jt.associateQtySelector)).length&&(0<Tt.epoAPI.math.toFloat(n.val())?(t.removeClass("ignore"),n.removeClass("ignore")):(t.addClass("ignore"),n.addClass("ignore"))),n=o.data("isactive"),r=(o=o.closest(".cpf-section")).data("isactive")),!1!==n&&!1!==r&&!1!==i.data("isactive")&&!1!==i.closest(".cpf-section").data("isactive")?(o=t.first(),t.prop("disabled",!1),void 0!==t.data("tc-state")&&t.data("tc-state",!1),"yes"!==zt.tm_epo_show_only_active_quantities?o.is(":radio, .cpf-type-radio")||o.is(":checkbox, .cpf-type-checkbox")?(t.filter(":checked").closest(".tmcp-field-wrap").find(".tm-qty").prop("disabled",!1),t.not(":checked").closest(".tmcp-field-wrap").find(".tm-qty").prop("disabled",!0)):(o.is("select, .cpf-type-select, .cpf-type-selectmultiple"),o.val()?a.find(".tm-qty").prop("disabled",!1):a.find(".tm-qty").prop("disabled",!0)):e||i.find(".tm-quantity").trigger("showhide.cpfcustom"),o.is(".cpf-element")||(t.removeClass("tcdisabled").addClass("tcenabled"),t.is(".tmcp-upload")&&t.next(".tmcp-upload-hidden").length&&t.next(".tmcp-upload-hidden").removeClass("tcdisabled").addClass("tcenabled").prop("disabled",!1)),i.removeClass("tc-container-disabled").addClass("tc-container-enabled"),t.trigger({type:"tm-field-is-active",field:t,value:!0}),!0):(t.is(".cpf-element")||(t.prop("disabled",!0).removeClass("tcenabled").addClass("tcdisabled"),void 0!==t.data("tc-state")&&t.data("tc-state",!0),i.find(".tm-qty").prop("disabled",!0),t.is(".tmcp-upload")&&t.next(".tmcp-upload-hidden").length&&t.next(".tmcp-upload-hidden").removeClass("tcenabled").addClass("tcdisabled").prop("disabled",!0)),i.removeClass("tc-container-enabled").addClass("tc-container-disabled"),t.trigger({type:"tm-field-is-active",field:t,value:!1}),!1)}function x(t,e,a){if(null!==t&&null!==e)switch(t=encodeURIComponent(t),e=Tt.qtranxj_split?encodeURIComponent(Tt.qtranxj_split(decodeURIComponent(e))[i.language]):encodeURIComponent(decodeURIComponent(e)),t=t?t.toLowerCase():"",e=e?e.toLowerCase():"",t=t.toString(),e=e.toString(),a){case"is":return null!==t&&t===e;case"isnot":return null!==t&&t!==e;case"isempty":return!("undefined"!==t&&void 0!==t&&""!==t);case"isnotempty":return"undefined"!==t&&void 0!==t&&""!==t;case"startswith":return t.startsWith(e);case"endswith":return t.endsWith(e);case"greaterthan":return parseFloat(t)>parseFloat(e);case"lessthan":return parseFloat(t)<parseFloat(e);case"greaterthanequal":return parseFloat(t)>=parseFloat(e);case"lessthanequal":return parseFloat(t)<=parseFloat(e)}return!1}function L(t){var a,i,e=Tt(t.element),o=t.operator,r=t.value,n=!1,c="";if(e.length){if(e.is(".cpf-section")){var l,d,t=e,s=o,p=!0,m=t.find(".cpf-element"),_=!1;if(t.is(".tc-hidden")){if("isnotempty"===s)return;if("isempty"===s)return 1}return Tt(m).each(function(t,e){var a,i="";if((e=Tt(e)).is(".cpf-type-product")&&(i=":not(.tc-extra-product-options-inline .tm-epo-field)"),O(e))if(0<(a=e.attr("class").split(" ").map(function(t){return-1!==t.indexOf("cpf-type-",0)?t:null}).filter(function(t){return null!=t?t:null})).length){switch("cpf-type-product"===(a=a[0])&&(_=!0,a=e.is(".cpf-type-product-mode-product")||e.is(".cpf-type-product-checkbox")||e.is(".cpf-type-product-thumbnailmultiple")?"cpf-type-checkbox":e.is(".cpf-type-product-dropdown")?"cpf-type-select":"cpf-type-radio"),a){case"cpf-type-radio":d=e.find("input.tm-epo-field.tmcp-radio:checked"+i),"isnotempty"===s?(p=p&&0<d.length,0<d.length&&(l=d.length)):"isempty"===s&&(p=p&&0===d.length);break;case"cpf-type-checkbox":d=e.find("input.tm-epo-field.tmcp-checkbox:checked"+i),"isnotempty"===s?(p=p&&0<d.length,0<d.length&&(l=d.length)):"isempty"===s&&(p=p&&0===d.length);break;case"cpf-type-select":(l=e.find("select.tm-epo-field.tmcp-select"+i).val())&&!_&&(l=l.slice(0,l.lastIndexOf("_")));break;case"cpf-type-selectmultiple":(l=e.find("select.tm-epo-field.tmcp-selectmultiple"+i).val())&&!_&&l.forEach(function(t,e){l[e]=t.slice(0,t.lastIndexOf("_"))});break;default:l=e.find(".tm-epo-field"+i).val()}p=Array.isArray(l)?p&&l.some(function(t){return x(t,"",s)}):p&&x(l,"",s)}else p=p&&!1}),p}if(e.is(".cpf-type-product")&&(c=":not(.tc-extra-product-options-inline .tm-epo-field)"),0<(t=e.attr("class").split(" ").map(function(t){return-1!==t.indexOf("cpf-type-",0)?t:null}).filter(function(t){return null!=t?t:null})).length){switch("cpf-type-product"===(t=t[0])&&(n=!0,t=e.is(".cpf-type-product-mode-product")||e.is(".cpf-type-product-checkbox")||e.is(".cpf-type-product-thumbnailmultiple")?"cpf-type-checkbox":e.is(".cpf-type-product-dropdown")?"cpf-type-select":"cpf-type-radio"),t){case"cpf-type-radio":if(u=e.find("input.tm-epo-field.tmcp-radio:checked"+c),"is"===o||"isnot"===o){if(0===u.length)return;(a=e.find("input.tm-epo-field.tmcp-radio:checked"+c).val())&&!n&&(a=a.slice(0,a.lastIndexOf("_")))}if("isnotempty"===o)return 0<u.length;if("isempty"===o)return 0===u.length;break;case"cpf-type-checkbox":if(u=e.find("input.tm-epo-field.tmcp-checkbox:checked"+c),"is"===o||"isnot"===o)return 0!==u.length&&(i=!1,u.each(function(t,e){if(x(a=(a=Tt(e).val())&&!n?a.slice(0,a.lastIndexOf("_")):a,r,o))i=!0;else if("isnot"===o)return i=!1}),i);if("isnotempty"===o)return 0<u.length;if("isempty"===o)return 0===u.length;break;case"cpf-type-select":(a=e.find("select.tm-epo-field.tmcp-select"+c).val())&&!n&&(a=a.slice(0,a.lastIndexOf("_")));break;case"cpf-type-selectmultiple":(a=e.find("select.tm-epo-field.tmcp-selectmultiple"+c).val())&&!n&&a.forEach(function(t,e){a[e]=t.slice(0,t.lastIndexOf("_"))});break;case"cpf-type-variations":var f,u=e,g=r,h=o,v=Tt(u),y=v.attr("data-epo_id"),b=v.attr("data-product_id"),w=Tt(".variations_form[data-epo_id='"+y+"'][data-product_id='"+b+"']"),w=Tt.epoAPI.applyFilter("tm_variation_check_match_variationsForm",w,y,b,v);if(0!==w.length)switch(0===(y=w.find("input[name^='variation_id']")).length&&0===(y=w.find("input.variation_id")).length&&(y=w.closest(".tc-epo-element-product-li-container").find(".product-variation-id")),null!==u&&null!==g&&void 0!==u&&void 0!==g&&!1!==u&&!1!==g&&(g=g?parseInt(g,10):-1),f=parseInt(y.val(),10),Number.isFinite(f)||(f=""),Number.isFinite(g)||(g=""),h){case"is":return""!==f&&f===g;case"isnot":return""!==f&&f!==g;case"isempty":return""===f||0===f;case"isnotempty":return""!==f&&0!==f;case"startswith":return f.toString().startsWith(g);case"endswith":return f.toString().endsWith(g);case"greaterthan":return parseFloat(f)>parseFloat(g);case"lessthan":return parseFloat(f)<parseFloat(g);case"greaterthanequal":return parseFloat(f)>=parseFloat(g);case"lessthanequal":return parseFloat(f)<=parseFloat(g)}return;default:a=e.find(".tm-epo-field"+c).val()}return Array.isArray(a)?a.some(function(t){return x(t,r,o)}):x(a,r,o)}}}function n(t,c){t.each(function(){var a=Tt(this),t=parseInt(a.data("matches"),10),e=a.data("toggle"),i=a.data("what"),o=a.data("fields"),r=0,n=!1;switch(e){case"show":n=!1;break;case"hide":n=!0}Tt.each(o,function(t,e){var a=!0;(a="cpflogic"===c?O(Tt(e.element)):a)&&L(e)&&(r=parseInt(r,10)+1)}),"all"===i?t===r&&(n=!n):0<r&&(n=!n),n?("cpflogic"!==c||a.data("did_initial_activation")||l.push(function(){var t=a.find(".tm-epo-field.tcenabled");t.each(function(t,e){(e=Tt(e)).data("initial_activation")||a.closest(".cpf-section").is(".tc-hidden")||!O(e)||(e.trigger("tc_element_epo_rules"),e.data("initial_activation",1))}),(a.is(".cpf-element")&&t.length||a.is(".cpf-section"))&&a.data("did_initial_activation",1)}),a.removeClass("tc-hidden")):a.addClass("tc-hidden"),a.data("isactive",n),a.trigger("tc-logic")})}function T(t){var e,a=[];Tt(t).length||(t="body"),(e=(t=Tt(t)).find(".iscpfdependson")).each(function(t,e){Tt(e).each(function(t,e){n(Tt(e))})}),e.each(function(t,e){Tt(e).each(function(t,e){n(Tt(e),"cpflogic")})}),e.each(function(t,e){Tt(e).each(function(t,e){(e=(e=Tt(e)).is(".cpf-section")?e.find(".cpf-element"):e).each(function(t,e){O(Tt(e).find(".tm-epo-field"))})})}),l.forEach(function(t){t()}),l=[],Tt().selectric&&Tt(".tm-extra-product-options select").selectric("refresh"),setTimeout(function(){Tt(".tm-owl-slider").each(function(){Tt(this).trigger("refresh.owl.carousel")})},200),t.find(".tm-product-image:checked,select.tm-product-image").each(function(){var t=Tt(this);O(t)&&""!==t.val()&&a.push(t)}),a.length&&a[a.length-1].trigger("tm_trigger_product_image"),Dt.trigger("cpflogicrun"),Dt.trigger("tmlazy"),Dt.trigger("cpflogicdone")}function u(t){return"object"==typeof t&&"toggle"in t&&"what"in t&&"rules"in t&&0<t.rules.length}function M(t){var a,i,o,r,n,c,l,d,s,p,m=Tt(t),t=m.find(".cpf-section"),_=!m.is(".cpf-section")&&t;m.each(function(t,e){(Tt(e).is(".cpf-section")?Tt(e):Tt(e).find(".cpf-section")).filter('[data-haslogic="1"]').each(function(t,e){a=Tt(e),i=a.data("logic"),o=parseInt(a.data("haslogic"),10),r=[],p=a.parent().closest(".cpf-type-product"),1===o&&u(i)&&(Tt.each(i.rules,function(t,e){e&&(s=e.section,n=e.element,c=e.operator,l=e.value,s=_?p.length?(d=p.find(".cpf-section").filter("[data-uniqid='"+s+"']"),n!==s?d.find(".cpf-element").eq(n):d):(d=_.filter("[data-uniqid='"+s+"']"),n!==s?d.find(".cpf-element:not(.cpf-element .cpf-element)").eq(n):d):n!==s?m.find(".cpf-element").eq(n):d,r.push({element:s,operator:c,value:l}))}),a.data("iscpfdependson")?a.cpfdependson(a.data("cpfdependson-fields"),i.toggle,i.what,!0):(a.data("cpfdependson-fields",r),a.cpfdependson(r,i.toggle,i.what)))})})}function U(t){var i,o,r,n,c,l,d,s,p,m=Tt(t),t=m.find(".cpf-section").not(".cpf-type-product .cpf-section"),_=!m.is(".cpf-section")&&t;m.find('.cpf-element[data-haslogic="1"]').each(function(t,e){var a=[];i=Tt(e),o=i.data("logic"),r=parseInt(i.data("haslogic"),10),p=i.parent().closest(".cpf-type-product"),1===r&&u(o)&&(Tt.each(o.rules,function(t,e){e&&(s=e.section,n=e.element,c=e.operator,l=e.value,s=_?p.length?(d=p.find(".cpf-section").filter("[data-uniqid='"+s+"']"),n!==s?d.find(".cpf-element").eq(n):d):(d=_.filter("[data-uniqid='"+s+"']"),n!==s?d.find(".cpf-element:not(.cpf-element .cpf-element)").eq(n):d):n!==s?m.find(".cpf-element").eq(n):d,a.push({element:s,operator:c,value:l}))}),i.data("iscpfdependson")?i.cpfdependson(i.data("cpfdependson-fields"),o.toggle,o.what,!0):(i.data("cpfdependson-fields",a),i.cpfdependson(a,o.toggle,o.what)))})}function R(t,e,a){var i,o,r;return e&&(i=e.attr("data-taxable"),o=e.attr("data-tax-rate"),r=e.attr("data-tax-display-mode"),e=e.attr("data-prices-include-tax"),(a||i&&"incl"===r&&"1"!==e)&&(t=parseFloat(t)/(1+o/100))),t}function c(t,e,a){var i,o,r;return e&&(i=e.attr("data-taxable"),o=e.attr("data-tax-rate"),r=e.attr("data-tax-display-mode"),e=e.attr("data-prices-include-tax"),(a||i&&"incl"!==r&&"1"===e)&&(t=parseFloat(t)*(1+o/100))),t}function Q(t,e,a){var i,o,r;if(e&&(i=e.attr("data-taxable"),o=e.attr("data-tax-display-mode"),r=e.attr("data-prices-include-tax"),i)){if(a&&a.tc_tax_rate&&"0"===String(a.tc_tax_rate))return t;"1"===r?"incl"!==o&&(t=c(t,e)):"1"!==r&&"incl"===o&&(t=R(t,e))}return t}function Rt(t,e,a,i,o){var r="",n="";return a||(t=Nt(t,e,o,0,!0)),a=Math.abs(t),e&&i&&(r=e.attr("data-tax-string")),d(a,n=t<0?zt.minus_sign+" ":n,r=void 0===r?"":r)}function Qt(t,e,a,i){return"excl"===i.attr("data-tax-display-mode")?(a[t]=a[t].replace(/{price_excluding_tax}/g,Rt(a[e],i,!0,!1)),a[t]=a[t].replace(/{price_including_tax}/g,Rt(c(a[e],i,!0),i,!0,!1))):(a[t]=a[t].replace(/{price_including_tax}/g,Rt(a[e],i,!0,!1)),a[t]=a[t].replace(/{price_excluding_tax}/g,Rt(R(a[e],i,!0),i,!0,!1))),a}function Wt(t,e,a,i,o){D(t,e,a,i,o,!0)}function D(t,e,a,i,o,r){var n,c,l,t=Tt(t);0!==t.length&&(n=t.closest(".tmcp-field-wrap"),l=t.closest(".tc-price-wrap"),c=n.find(".tm-epo-field"),!r&&"1"===c.attr("data-no-price-change")&&c.data("price-changed")||(e=Tt.epoAPI.applyFilter("tc_adjust_update_price_price",e),a=Tt.epoAPI.applyFilter("tc_adjust_update_price_formated_price",a,e),i=Tt.epoAPI.applyFilter("tc_adjust_update_price_original_price",i),o=Tt.epoAPI.applyFilter("tc_adjust_update_price_original_formated_price",o,i),Number.isFinite(parseFloat(i))||(i=0),Number.isFinite(parseFloat(e))||(e=0),n=n.find(".before-amount,.after-amount"),a={price:a,original_price:o},("yes"!==zt.tm_epo_auto_hide_price_if_zero||!1!==Tt.tmempty(e))&&"yes"===zt.tm_epo_auto_hide_price_if_zero||!0===Tt.tmempty(e)&&"1"===c.attr("data-no-price")||!r&&0<c.length&&("1"===c.attr("data-no-price")||"variable"===c.attr("data-type")&&!c.data("price")||c.is(".tmcp-select")&&!c.children("option:selected").data("price"))?(l.addClass("tm-hidden"),t.addClass("tm-hidden"),t.empty(),n.addClass("tm-hidden")):(i&&void 0!==i&&parseFloat(i)!==parseFloat(e)?t.html(Tt.epoAPI.template.html(jt.templateEngine.sale_price,{price:a})):t.html(Tt.epoAPI.template.html(jt.templateEngine.price,{price:a})),l.removeClass("tm-hidden"),t.removeClass("tm-hidden"),n.removeClass("tm-hidden"))))}function y(i,l,t){var e,a,d=[],s=(e=i,a={},(e=(t=t).thisForm?t.thisForm:e).find(".variations select, .tc-epo-variable-product-selector").each(function(){var t=void 0!==Tt(this).data("attribute_name")?Tt(this).data("attribute_name"):Tt(this).attr("name"),e=Tt(this).val();a[t]=e}),a),o=!0,t=i.find(Mt(i)).val();("0"!==t&&""!==t||0<i.find(".cpf-type-variations").find(".tm-epo-variation-element:checked").length||i.find(".cpf-type-variations").find('.tm-epo-variation-element option[value!=""]:selected'))&&(i.find(".cpf-type-variations").each(function(r,t){var n,c,t=Tt(t).find(".tm-epo-variation-element"),a=!1;d[r]=!0,t.is("select")?(n=Tt.epoAPI.dom.id(t.attr("data-tm-for-variation")),(c=t.val())&&(d[r]=!1),t.children("option").each(function(t,e){a=!1,i.find("[data-attribute_name='attribute_"+n+"']").children("option").each(function(){if(Tt(this).attr("value")===Tt(e).attr("value"))return!(a=!0)}),a?Tt(e).prop("disabled",!1).show():Tt(e).prop("disabled",!0).hide()})):t.each(function(t,e){var e=Tt(e),a=e.closest("li"),i=a.find(".tm-epo-variation-element"),o=Tt.extend(!0,{},s);n=e.attr("data-tm-for-variation"),c=e.val(),e.is(":checked")&&(d[r]=!1),o["attribute_"+n]=c,(o=(o=Tt.fn.tm_find_matching_variations(l,o).shift())&&"is_in_stock"in o&&o.is_in_stock)?(e.prop("disabled",!1).removeClass("tm-disabled"),a.removeClass("pointereventsoff tm-attribute-disabled").fadeTo("fast",1,function(){Tt(this).css("opacity","")}),i.prop("disabled",!1),i.removeAttr("data-tm-disabled")):(i.is(":checked")||o?a.removeClass("pointereventsoff"):a.addClass("pointereventsoff"),e.attr("disabled","disabled").addClass("tm-disabled"),i.attr("disabled","disabled"),i.attr("data-tm-disabled","disabled"),a.addClass("tm-attribute-disabled").fadeTo("fast",.5))})}),d&&(d.shift(),Tt.each(d,function(t,e){if(!1===e)return o=!1}),o&&i.find(".cpf-type-variations").first().each(function(t,e){var a,i,e=Tt(e).find(".tm-epo-variation-element");e.is("select")||e.each(function(t,e){e=Tt(e),a=e.closest("li"),i=a.find(".tm-epo-variation-element"),e.prop("disabled",!1).removeClass("tm-disabled"),a.removeClass("tm-attribute-disabled").stop().css("opacity",""),i.prop("disabled",!1),i.removeAttr("data-tm-disabled")})})))}function J(e,a){var t=e.data("product_variations"),i=parseInt(e.data("product_id"),10),o=e.data("globalVariationObject")||!1;!(i=i||e.data("tc_product_id"))&&e.is(jt.compositeSelector)&&(i=e.find(".component_options").data("options_data")[0].option_id,t=t||e.find(".details.component_data").data("product_variations")),a.is_associated||!(t=!(t=!t&&I.product_variations&&I.product_variations.product_id?I.product_variations.product_id:t)&&I.product_variations?I.product_variations:t)&&I["product_variations_"+i]&&(t=I["product_variations_"+i]),t?y(e,t,a):o?y(e,o.variations,a):Tt.post(zt.ajax_url,{action:"woocommerce_tm_get_variations_array",post_id:i},function(t){o=t,e.data("globalVariationObject",t),y(e,o.variations,a)},"json")}function $(t,e){var a,i,o,r;"no"!==zt.tm_epo_global_move_out_of_stock&&((r=(r=t.find(".woocommerce-variation-availability").last()).length?r:t.find(".stock").last()).length?(e.find(".tm-stock").remove(),t=e,void 0!==(a=r.prop("outerHTML"))&&(o=(i=(t=Tt(t)).find(".tm-epo-variation-element").first()).closest(".tm-epo-variation-section"),i.length?(o.find(".tm-stock").remove(),o.append('<div class="tm-stock">'+a+"</div>")):(t.find(".tm-stock").remove(),t.find(".variations").after('<div class="tm-stock">'+a+"</div>")),1&&r.remove())):e.find(".tm-stock").remove())}function Z(t,e,a,i){return a=a||"form",t=t,i=i,o="",(t=0===(t=(e=(e=e)||t).find(jt.addToCartSelector+(o=i?o+"[value='"+i+"']":o))).length?e.find(jt.tcAddToCartSelector+o):t).last().closest(a);var o}function W(t,e,a,i){return Z(t,e,a,i)}function Jt(t){var e=Tt.epoAPI.applyFilter("tcGetNativePricesBlockSelector",".single_variation .price",t);return Tt(t).find(e).not(".tc-price")}function Xt(t,e,a,i){var o,r=!0,n="object"==typeof e?(n=e.has_epo,o=e.this_epo_container,n&&(o.find(".tmcp-fee-field").length||o.find(".tmcp-field").not(".cpf-type-variations .tmcp-field").length)):e;!n||"yes"!==zt.tm_epo_hide_add_cart_button&&"yes"!==zt.tm_epo_hide_all_add_cart_button&&"yes"!==zt.tm_epo_hide_required_add_cart_button||(o=t.find(jt.addToCartButtonSelector).first(),e=t.find(jt.qtySelector).first(),"yes"===zt.tm_epo_hide_add_cart_button&&((r=a)?(o.removeClass("tc-hide-add-to-cart-button"),e.removeClass("tc-hide-add-to-cart-button")):(o.addClass("tc-hide-add-to-cart-button"),e.addClass("tc-hide-add-to-cart-button"))),"yes"===zt.tm_epo_hide_required_add_cart_button&&(r=i.this_epo_container.find(".cpf-element").not(".cpf-type-variations").filter(".tc-container-enabled.tc-is-required").toArray().every(function(t){var e,a,i="",o=!1;if((t=Tt(t)).is(".cpf-type-product")&&(i=":not(.tc-extra-product-options-inline .tm-epo-field)"),0<(e=t.attr("class").split(" ").map(function(t){return-1!==t.indexOf("cpf-type-",0)?t:null}).filter(function(t){return null!=t?t:null})).length){switch("cpf-type-product"===(e=e[0])&&(o=!0,e=t.is(".cpf-type-product-mode-product")||t.is(".cpf-type-product-checkbox")||t.is(".cpf-type-product-thumbnailmultiple")?"cpf-type-checkbox":t.is(".cpf-type-product-dropdown")?"cpf-type-select":"cpf-type-radio"),e){case"cpf-type-radio":return 0<t.find("input.tm-epo-field.tmcp-radio:checked"+i).length;case"cpf-type-checkbox":return 0<t.find("input.tm-epo-field.tmcp-checkbox:checked"+i).length;case"cpf-type-select":(a=t.find("select.tm-epo-field.tmcp-select"+i).val())&&!o&&(a=a.slice(0,a.lastIndexOf("_")));break;case"cpf-type-selectmultiple":(a=t.find("select.tm-epo-field.tmcp-selectmultiple"+i).val())&&!o&&a.forEach(function(t,e){a[e]=t.slice(0,t.lastIndexOf("_"))});break;default:a=t.find(".tm-epo-field"+i).val()}return Array.isArray(a)?a.some(function(t){return""!==t}):""!==a}return!1})),(r="yes"===zt.tm_epo_hide_all_add_cart_button?i.this_epo_container.find(".cpf-element").not(".cpf-type-variations").filter(".tc-container-enabled").toArray().every(function(t){var e,a,i="",o=!1;if((t=Tt(t)).is(".cpf-type-product")&&(i=":not(.tc-extra-product-options-inline .tm-epo-field)"),0<(e=t.attr("class").split(" ").map(function(t){return-1!==t.indexOf("cpf-type-",0)?t:null}).filter(function(t){return null!=t?t:null})).length){switch("cpf-type-product"===(e=e[0])&&(o=!0,e=t.is(".cpf-type-product-mode-product")||t.is(".cpf-type-product-checkbox")||t.is(".cpf-type-product-thumbnailmultiple")?"cpf-type-checkbox":t.is(".cpf-type-product-dropdown")?"cpf-type-select":"cpf-type-radio"),e){case"cpf-type-radio":return 0<t.find("input.tm-epo-field.tmcp-radio:checked"+i).length;case"cpf-type-checkbox":return 0<t.find("input.tm-epo-field.tmcp-checkbox:checked"+i).length;case"cpf-type-select":(a=t.find("select.tm-epo-field.tmcp-select"+i).val())&&!o&&(a=a.slice(0,a.lastIndexOf("_")));break;case"cpf-type-selectmultiple":(a=t.find("select.tm-epo-field.tmcp-selectmultiple"+i).val())&&!o&&a.forEach(function(t,e){a[e]=t.slice(0,t.lastIndexOf("_"))});break;default:a=t.find(".tm-epo-field"+i).val()}return Array.isArray(a)?a.some(function(t){return""!==t}):""!==a}return!1}):r)?(o.removeClass("tc-hide-add-to-cart-button"),e.removeClass("tc-hide-add-to-cart-button")):(o.addClass("tc-hide-add-to-cart-button"),e.addClass("tc-hide-add-to-cart-button")))}function X(t,e){var a,i,o,r=Tt.tcepo.errorObject[e]||t;r&&("yes"!==zt.tm_epo_disable_error_scroll&&(o=(a=r.closest(".cpf-section")).find(".tm-section-link"),i=r.closest(".cpf-element"),a.find(".tm-toggle").length&&a.find(".tm-toggle").trigger("openwrap.tmtoggle"),void 0===I.tc_validation_offset&&(I.tc_validation_offset=-100),a.is(".section_popup")?(q.tcScrollTo(o,300,I.tc_validation_offset),o.trigger("click.tmsectionpoplink")):a.is(".tm-owl-slider-section")?(o=r.closest(".owl-item").index(),a.find(".tcowl-carousel").trigger("to.owl.carousel",[o,100]),setTimeout(function(){a.find(".tcowl-carousel").trigger("refresh.owl.carousel"),0<i.length&&q.tcScrollTo(i,300,I.tc_validation_offset)},200)):0<i.length&&q.tcScrollTo(i,300,I.tc_validation_offset)),t||(Tt.tcepo.errorObject[e]=!1))}function G(t,e){var a,i=parseInt(t.attr("data-limit"),10),o=!1;return!(0<i&&(o=0,t.closest(".tm-extra-product-options-checkbox").find("input.tm-epo-field[type='checkbox']:checked").each(function(){a=Tt(this),a=a.closest("li.tmcp-field-wrap").find("input.tm-qty"),o=0<a.length?((a=parseInt(a.val(),10))<=0&&(a=1),parseInt(o,10)+a):parseInt(o,10)+1}),i<o))||(e&&t.prop("checked","").trigger("change"),!1)}function V(t,e){var a,i=parseInt(t.attr("data-exactlimit"),10),o=!1;return!(0<i&&(o=0,t.closest(".tm-extra-product-options-checkbox").find("input.tm-epo-field[type='checkbox']:checked").each(function(){a=Tt(this),a=a.closest("li.tmcp-field-wrap").find("input.tm-qty"),o=0<a.length?((a=parseInt(a.val(),10))<=0&&(a=1),parseInt(o,10)+a):parseInt(o,10)+1}),i<o))||(e&&t.prop("checked","").trigger("change"),!1)}function Y(d,s,p){Tt.tcepo.formSubmitEvents[p][Tt.tcepo.formSubmitEvents[p].length]={trigger:function(){return t=s,e=p,l=!(c=!0),d.each(function(){n=Tt(this),(r=n.find("[type='checkbox'][data-limit]")).length&&O(r)&&(r=parseInt(r.attr("data-limit"),10),a=0,n.find("input.tm-epo-field[type='checkbox']:checked").each(function(){i=Tt(this),i=i.closest("li.tmcp-field-wrap").find("input.tm-qty"),a=0<i.length?((i=parseInt(i.val(),10))<=0&&(i=1),parseInt(a,10)+i):parseInt(a,10)+1}),o=n.closest(".cpf-element"),o=o.find("div.tm-error-min"),r<a?(c=!1,l=n,r=(1===r?zt.tm_epo_global_validator_messages.epolimitsingle:zt.tm_epo_global_validator_messages.epolimit).replace("{0}",r),o.length&&o.remove(),"before"===zt.tm_epo_global_error_label_placement?n.closest(".tc-element-container").before('<div class="tm-error-min tm-error tc-cell tcwidth-100">'+r+"</div>"):n.closest(".tc-element-container").after('<div class="tm-error-min tm-error tc-cell tcwidth-100">'+r+"</div>"),t.find(jt.addToCartButtonSelector).first().removeClass("disabled loading fpd-disabled").prop("disabled",!1)):o.remove())}),l&&(Tt.tcepo.errorObject[e]=l),c;var t,e,a,i,o,r,n,c,l},on_true:function(){return!0},on_false:function(){return X(Tt(d).find(".tm-epo-field").first(),p),!0}}}function K(d,s,p){Tt.tcepo.formSubmitEvents[p][Tt.tcepo.formSubmitEvents[p].length]={trigger:function(){return t=s,e=p,l=!(c=!0),d.each(function(){n=Tt(this),(r=n.find("[type='checkbox'][data-exactlimit]")).length&&O(r)&&(r=parseInt(r.attr("data-exactlimit"),10),a=0,n.find("input.tm-epo-field[type='checkbox']:checked").each(function(){i=Tt(this),i=i.closest("li.tmcp-field-wrap").find("input.tm-qty"),a=0<i.length?((i=parseInt(i.val(),10))<=0&&(i=1),parseInt(a,10)+i):parseInt(a,10)+1}),o=n.closest(".cpf-element"),o=o.find("div.tm-error-min"),r!==a?(c=!1,l=n,r=(1===r?zt.tm_epo_global_validator_messages.epoexactsingle:zt.tm_epo_global_validator_messages.epoexact).replace("{0}",r),o.length&&o.remove(),"before"===zt.tm_epo_global_error_label_placement?n.closest(".tc-element-container").before('<div class="tm-error-min tm-error tc-cell tcwidth-100">'+r+"</div>"):n.closest(".tc-element-container").after('<div class="tm-error-min tm-error tc-cell tcwidth-100">'+r+"</div>"),t.find(jt.addToCartButtonSelector).first().removeClass("disabled loading fpd-disabled").prop("disabled",!1)):o.remove())}),l&&(Tt.tcepo.errorObject[e]=l),c;var t,e,a,i,o,r,n,c,l},on_true:function(){return!0},on_false:function(){return X(Tt(d).find(".tm-epo-field").first(),p),!0}}}function tt(l,d){Tt.tcepo.formSubmitEvents[d][Tt.tcepo.formSubmitEvents[d].length]={trigger:function(){return t=d,c=!(n=!0),l.each(function(){var t;(t=(r=Tt(this)).find("[type='checkbox'][data-minimumlimit]")).length&&O(t)&&(o=parseInt(t.attr("data-minimumlimit"),10),e=0,r.find("input.tm-epo-field[type='checkbox']:checked").each(function(){a=Tt(this),a=a.closest("li.tmcp-field-wrap").find("input.tm-qty"),e=0<a.length?((a=parseInt(a.val(),10))<=0&&(a=1),parseInt(e,10)+a):parseInt(e,10)+1}),i=r.closest(".cpf-element"),i=i.find("div.tm-error-min"),e<o?(n=!1,c=r,o=(1===o?zt.tm_epo_global_validator_messages.epominsingle:zt.tm_epo_global_validator_messages.epomin).replace("{0}",o),i.length&&i.remove(),"before"===zt.tm_epo_global_error_label_placement?r.closest(".tc-element-container").before('<div class="tm-error-min tm-error tc-cell tcwidth-100">'+o+"</div>"):r.closest(".tc-element-container").after('<div class="tm-error-min tm-error tc-cell tcwidth-100">'+o+"</div>")):i.remove())}),c&&(Tt.tcepo.errorObject[t]=c),n;var t,e,a,i,o,r,n,c},on_true:function(){return!0},on_false:function(){return X(!1,d),!0}}}function et(t){return null!==t&&("object"==typeof t&&(t=t[0]),Number.isFinite(parseFloat(t)))?t:0}function B(t,e,a,i){return t=et(t),t=a?Tt.epoAPI.applyFilter("tc_apply_dpd",t,e,a,i):t}function Gt(t,e){var a=0;return 0<t.length&&(a=t.data("regular-price")),a=Tt.epoAPI.applyFilter("tc_calculate_product_regular_price",a,t),(!e||!1!==a)&&(a=parseFloat(a),Number.isFinite(a)?a:0)}function Vt(t,e){var a=0;return 0<t.length&&(a=t.data("price")),a=Tt.epoAPI.applyFilter("tc_calculate_product_price",a,t),(!e||!1!==a)&&(a=parseFloat(a),Number.isFinite(a)?a:0)}function at(e,a,i,o,t){var r,n,c,l,d,s,p=e.toString(),m=0,e=0,_=a.closest(".cpf-element").attr("data-uniqid"),f=a.closest(".tmcp-ul-wrap"),u=i.this_epo_totals_container.data("totalsHolder_tc_totals_ob"),g=f.find(".tmcp-field, .tmcp-fee-field").filter(":checked").index(a),h=f.find(".tmcp-field, .tmcp-fee-field").index(a),v=i.is_associated?i.this_epo_container:i.this_epo_container.not(jt.epoSelector+" "+jt.associatedEpoSelector),y=Tt.epoAPI.util.parseJSON(zt.tm_epo_math)||{};-1===g&&a.is(".tmcp-checkbox, .tmcp-radio"),a.is(".tcdisabled")||o||a.data("addedtcEpoBeforeOptionPriceCalculation")||(Dt.on("tcEpoBeforeOptionPriceCalculation.math"+_,function(){$t(i,a,void 0,void 0,void 0,!0)}),Dt.on("tcEpoAfterOptionPriceCalculation.math"+_,function(){a.data("fetchOptionPrices",!1),a.data("fetchOptionPrices-forced",!1),a.data("fetchOptionPrices-fee",!1),a.data("fetchOptionPrices-fee-forced",!1),a.data("fetchOptionPrices-sub-fee",!1),a.data("fetchOptionPrices-sub-fee-forced",!1)}),a.data("addedtcEpoBeforeOptionPriceCalculation",1)),a.is(".tmcp-field")?a.data("fetchOptionPrices")?(d=a.data("fetchOptionPrices"),s=a.data("fetchOptionPrices-forced")):(d=Zt(i,f,".tmcp-field",0,0,[],!0),s=Zt(i,f,".tmcp-field",0,0,[],!0,!0),a.data("fetchOptionPrices",d),a.data("fetchOptionPrices-forced",s)):a.is(".tmcp-fee-field")?a.data("fetchOptionPrices-fee")?(d=a.data("fetchOptionPrices-fee"),s=a.data("fetchOptionPrices-fee-forced")):(d=Zt(i,f,".tmcp-fee-field",0,0,[],!0),s=Zt(i,f,".tmcp-fee-field",0,0,[],!0,!0),a.data("fetchOptionPrices-fee",d),a.data("fetchOptionPrices-fee-forced",s)):a.is(".tmcp-sub-fee-field")&&(a.data("fetchOptionPrices-sub-fee")?(d=a.data("fetchOptionPrices-sub-fee"),s=a.data("fetchOptionPrices-sub-fee-forced")):(d=Zt(i,f,".tmcp-sub-fee-field",0,0,[],!0),s=Zt(i,f,".tmcp-sub-fee-field",0,0,[],!0,!0),a.data("fetchOptionPrices-sub-fee",d),a.data("fetchOptionPrices-sub-fee-forced",s))),Object.keys(y).forEach(function(t){var e,a;""!==y[t].name&&""!==y[t].value&&(e=y[t].name,a=y[t].value,p=y[t].name.isNumeric()?p.replace("{"+e+"}",a):(e=new RegExp("{"+e+"}","g"),a.startsWith("{")?p.replace(e,a):p.replace(e,Tt.epoAPI.math.unformat(a.replace(",",".")))))}),p=void 0!==u?(p=p.replace(/{quantity}/g,Tt.epoAPI.math.unformat(u.qty)),t&&void 0!==u.original_product_price?p.replace(/{product_price}/g,Tt.epoAPI.math.unformat(u.original_product_price)):p.replace(/{product_price}/g,Tt.epoAPI.math.unformat(u.product_price))):(p=p.replace(/{quantity}/g,0)).replace(/{product_price}/g,0),(p=(p=void 0!==s.floatingBoxData&&void 0!==s.floatingBoxData[h]?(p="number"===s.floatingBoxData[h].input_type?p.replace(/{this.value}/g,Tt.epoAPI.math.toFloat(Tt.epoAPI.math.unformat(s.floatingBoxData[h].valueText))):p.replace(/{this.value}/g,Tt.epoAPI.math.toFloat(Tt.epoAPI.math.unformat(s.floatingBoxData[h].valueText,jt.localDecimalSeparator))),p="number"===s.floatingBoxData[h].input_type?p.replace(/{this.rawvalue}/g,Tt.epoAPI.math.unformat(s.floatingBoxData[h].valueText)):p.replace(/{this.rawvalue}/g,Tt.epoAPI.math.unformat(s.floatingBoxData[h].valueText,jt.localDecimalSeparator)),(p="number"===s.floatingBoxData[h].input_type?p.replace(/{this.text}/g,Tt.epoAPI.math.unformat(s.floatingBoxData[h].valueText)):p.replace(/{this.text}/g,Tt.epoAPI.math.unformat(s.floatingBoxData[h].valueText,jt.localDecimalSeparator))).replace(/{this.value.length}/g,s.floatingBoxData[h].valueText.length)):p.replace(/{this.value}/g,0).replace(/{this.rawvalue}/g,"").replace(/{this.text}/g,"").replace(/{this.value.length}/g,0)).replace(/{this.count}/g,d.floatingBoxData.length).replace(/{this.count.quantity}/g,d.floatingBoxData.map(function(t){return t.quantity}).reduce(function(t,e){return Tt.epoAPI.math.toFloat(t)+Tt.epoAPI.math.toFloat(e)},0)).replace(/{this.quantity}/g,a.data("tm-quantity"))).match(/\{(\s)*?field\.([^}]*)}/)&&p.match(/\{(\s)*?field\.([^}]*)}/g).forEach(function(t){if(void 0!==(r=t.match(/\{(\s)*?field\.([^}]*)}/))[2]&&"string"==typeof r[2]&&-1!==(n=r[2].indexOf(".",r[2].indexOf(".")+1))&&(l=r[2].substring(0,n),c=r[2].substring(n+1),-1!==Tt.inArray(c,["price","value","value.length","rawvalue","text","text.length","quantity","count","count.quantity"]))){if((n=v.find("[data-uniqid='"+Tt.epoAPI.util.escapeSelector(l)+"']")).length){if(l=n.find(".tmcp-field, .tmcp-fee-field"),a.is(".tcdisabled")||o||a.data("addedfieldtcEpoBeforeOptionPriceCalculation")||(Dt.on("tcEpoBeforeOptionPriceCalculation.math"+_,function(){$t(i,a,void 0,void 0,void 0,!0),a.trigger("tm-math-select-change-html-all")}),a.data("addedfieldtcEpoBeforeOptionPriceCalculation",1)),l=l.first(),m=0,n.is(".tc-container-enabled")){switch(l.is(".tmcp-field")?m=Zt(i,n,".tmcp-field",0,0,[],!0,void 0,void 0,!0):l.is(".tmcp-fee-field")&&(m=Zt(i,n,".tmcp-fee-field",0,0,[],!0,void 0,void 0,!0)),c){case"price":m=m.total;break;case"value":case"text":case"rawvalue":m.floatingBoxData&&(m=m.floatingBoxData.map(function(t){return"number"===t.input_type?"text"===c||"rawvalue"===c?t.valueText:Tt.epoAPI.math.unformat(t.valueText):"text"===c||"rawvalue"===c?t.valueText:Tt.epoAPI.math.unformat(t.valueText,jt.localInputDecimalSeparator)}).reduce(function(t,e){return"text"===c||"rawvalue"===c?t+e:Tt.epoAPI.math.toFloat(t)+Tt.epoAPI.math.toFloat(e)},"text"===c||"rawvalue"===c?"":0),"text"!==c&&"rawvalue"!==c||(""===m?m="''":m.toString().isNumeric()||(m="'"+m+"'")));break;case"value.length":case"text.length":m.floatingBoxData&&(m=m.floatingBoxData.map(function(t){return t.valueText}).reduce(function(t,e){return Tt.epoAPI.math.toFloat(t)+e.length},0));break;case"quantity":case"count.quantity":m.floatingBoxData&&(m=m.floatingBoxData.map(function(t){return t.quantity}).reduce(function(t,e){return Tt.epoAPI.math.toFloat(t)+Tt.epoAPI.math.toFloat(e)},0));break;case"count":m.floatingBoxData&&(m=m.floatingBoxData.length)}"text"!==c&&"rawvalue"!==c&&(m=Tt.epoAPI.math.toFloat(m),Number.isFinite(m)||(m=0))}}else m=0;l=new RegExp(r[0]),p="text"===c||"rawvalue"===c||Number.isFinite(m)?p.replace(l,m):p.replace(l,"'"+m+"'")}});try{e=w.evaluate(p)}catch(t){e=0}return e}function N(t){for(var e,a=new RegExp(/[\p{L}\d!@#$%^&*()_+=\{[\}\]|\\"':;?/>.<,-]+/,"gu"),i=0;null!==(e=a.exec(t));)e.index===a.lastIndex&&a.lastIndex++,i+=e.length;return i}function $t(e,t,a,i,o,r){var n,c,l,d,s,p,m,_,f,u,g,h,v,y,b,w,x,k,F,C,I,P,A,E=Tt(t),t=E,q=E.is(".tmcp-range"),S=e.main_product,O=e.epoEventId,T=!0,j=0,z=0;E.data("associated_price_set")||(a?(n=a.cart,c=a.current_variation,l=a.bundleid,d=a.epoTotalsContainer,p=a.product_price,m=a.product_original_price,s=a.apply_dpd,T=a.per_product_pricing):(void 0!==(n=e.main_cart).data("per_product_pricing")&&(T=n.data("per_product_pricing")),a="input[name^='variation_id']",0<n.find("input.variation_id").length&&(a="input.variation_id"),c=n.find(a).val(),l=Tt.epoAPI.applyFilter("tc_get_bundleid",n.attr("data-product_id"),n,e),c=c||0,d=Tt.epoAPI.applyFilter("tc_get_totals_container",e.this_epo_totals_container,E,S,l),p=Vt(d),m=Gt(d),s=d.data("fields-price-rules")),p=Tt.epoAPI.applyFilter("tc_alter_product_price",p,E,n,d,l),m=Tt.epoAPI.applyFilter("tc_alter_product_original_price",m,E,n,d),!1!==p&&T&&(E.is("select")&&(t=E.find("option:selected")),(t=i?i:t).toArray().forEach(function(t){switch(t=Tt(t),A=Tt.epoAPI.util.parseJSON(t.attr("data-rules")),v=Tt.epoAPI.util.parseJSON(t.attr("data-rulestype")),void 0===(h=Tt.epoAPI.util.parseJSON(t.attr("data-original-rules")))&&(h=A),f="","object"==typeof A?(g=c in A?(u=A[c],h[c]):(k=Tt.epoAPI.util.parseJSON(E.closest(".tmcp-ul-wrap").attr("data-rules")),C=E.closest(".tmcp-ul-wrap").data("original-rules"),u="object"==typeof k&&c in k?k[c]:A[0],"object"==typeof C&&c in C?C[c]:h[0]),"object"==typeof v?f=c in v?v[c]:"object"==typeof(_=Tt.epoAPI.util.parseJSON(E.closest(".tmcp-ul-wrap").attr("data-rulestype")))&&c in _?_[c]:v[0]:"object"==typeof(v=Tt.epoAPI.util.parseJSON(E.closest(".tmcp-ul-wrap").attr("data-ulestype")))&&(f=c in v?v[c]:v[0])):(k=E.closest(".tmcp-ul-wrap"),A=Tt.epoAPI.util.parseJSON(k.attr("data-rules")),h=Tt.epoAPI.util.parseJSON(k.attr("data-original-rules")),"object"==typeof A&&(u=c in A?A[c]:A[0],g="object"==typeof h?c in h?h[c]:h[0]:u,"object"==typeof v?f=c in v?v[c]:"object"==typeof(_=Tt.epoAPI.util.parseJSON(k.attr("data-rulestype")))&&c in _?_[c]:v[0]:"object"==typeof(v=Tt.epoAPI.util.parseJSON(k.attr("data-rulestype")))&&(f=c in v?v[c]:v[0]))),"object"==typeof f&&(f=f[0]),E.is(".tmcp-fee-field")&&(-1!==Tt.inArray(f,["fee","stepfee","currentstepfee"])&&(f=""),s=0),void 0===o&&(E.is("select")?E.find("option"):t).removeClass("tm-epo-late-field").removeData("tm-price-for-late islate"),"math"!==f&&(u=et(u),g=et(g)),C=u,A=g,f){case"":u=B(I=u,d,s);break;case"math":u=at(u,E,e,r,Tt.epoAPI.applyFilter("tc_use_undiscounted_price",void 0,E,n,d)),u=B(I=u,d,s),g=at(g,E,e,!0,!0);break;case"percent_cart_total":F=parseFloat(zt.cart_total),Number.isFinite(F)||(F=0),I=u/100*F,u=B(u,d,s)/100*F,g=B(g,d,s)/100*F;break;case"percent":I=u/100*p,u=B(u,d,s)/100*p,g=g/100*m;break;case"percentcurrenttotal":Tt.tcepo.lateFieldsPrices[O].push({setter:t,price:u,original_price:g,bundleid:l,pricetype:f}),t.data("tm-price-for-late",u).data("tm-original-price-for-late",g).data("islate",1).addClass("tm-epo-late-field"),g=u=I=0;break;case"fixedcurrenttotal":u=B(u,d,s),Tt.tcepo.lateFieldsPrices[O].push({setter:t,price:u,original_price:g,bundleid:l,pricetype:f}),t.data("tm-price-for-late",u).data("tm-original-price-for-late",g).data("islate",1).addClass("tm-epo-late-field"),g=u=I=0;break;case"word":I=u*N(t.val()),u=B(u,d,s)*N(t.val()),g*=N(t.val());break;case"wordpercent":I=u/100*p*N(t.val()),u=B(u,d,s)/100*p*N(t.val()),g=g/100*m*N(t.val());break;case"wordnon":x=parseInt(t.attr("data-freechars"),10),Number.isFinite(x)||(x=0),w=N(t.val())-x,I=u*(w=w<0?0:w),u=B(u,d,s)*w,g*=w;break;case"wordpercentnon":x=parseInt(t.attr("data-freechars"),10),Number.isFinite(x)||(x=0),w=N(t.val())-x,I=u/100*p*(w=w<0?0:w),u=B(u,d,s)/100*p*w,g=g/100*m*w;break;case"char":I=u*t.val().length,u=B(u,d,s)*t.val().length,g*=t.val().length;break;case"charpercent":I=u/100*p*t.val().length,u=B(u,d,s)/100*p*t.val().length,g=g/100*m*t.val().length;break;case"charnospaces":I=u*t.val().replace(/\s/g,"").length,u=B(u,d,s)*t.val().replace(/\s/g,"").length,g*=t.val().replace(/\s/g,"").length;break;case"charnofirst":w=t.val().length-1,I=u*(w=w<0?0:w),u=B(u,d,s)*w,g*=w;break;case"charnon":x=parseInt(t.attr("data-freechars"),10),Number.isFinite(x)||(x=0),w=t.val().length-x,I=u*(w=w<0?0:w),u=B(u,d,s)*w,g*=w;break;case"charpercentnon":x=parseInt(t.attr("data-freechars"),10),Number.isFinite(x)||(x=0),w=t.val().length-x,I=u/100*p*(w=w<0?0:w),u=B(u,d,s)/100*p*w,g=g/100*m*w;break;case"charnonnospaces":x=parseInt(t.attr("data-freechars"),10),Number.isFinite(x)||(x=0),w=t.val().replace(/\s/g,"").length-x,I=u*(w=w<0?0:w),u=B(u,d,s)*w,g*=w;break;case"charpercentnonnospaces":x=parseInt(t.attr("data-freechars"),10),Number.isFinite(x)||(x=0),w=t.val().replace(/\s/g,"").length-x,I=u/100*p*(w=w<0?0:w),u=B(u,d,s)/100*p*w,g=g/100*m*w;break;case"charpercentnofirst":w=t.val().length-1,I=u/100*p*(w=w<0?0:w),u=B(u,d,s)/100*p*w,g=g/100*m*w;break;case"step":u=q?(I=u*t.val(),B(u,d,s)*t.val()):(I=u*Tt.epoAPI.math.toFloat(t.val()),B(u,d,s)*Tt.epoAPI.math.toFloat(t.val())),g*=Tt.epoAPI.math.toFloat(t.val());break;case"currentstep":g=q?(I=t.val(),u=B(t.val(),d,s),B(t.val(),d,s)):(I=Tt.epoAPI.math.toFloat(t.val()),u=B(Tt.epoAPI.math.toFloat(t.val()),d,s),B(Tt.epoAPI.math.toFloat(t.val()),d,s));break;case"intervalstep":q&&(F=parseFloat(Tt('.tm-range-picker[data-field-id="'+t.attr("id")+'"]').attr("data-min")),I=u*(t.val()-F),u=B(u,d,s)*(t.val()-F),g*=t.val()-F);break;case"row":I=u*((t.val().match(/(\r\n|\n|\r)/gm)||[]).length+1),u=B(u,d,s)*((t.val().match(/(\r\n|\n|\r)/gm)||[]).length+1),g*=(t.val().match(/(\r\n|\n|\r)/gm)||[]).length+1}h=u,C=I,A=P=v=g,E.data("tm-quantity")&&(I*=parseFloat(E.data("tm-quantity")),P*=parseFloat(E.data("tm-quantity")),C*=parseFloat(E.data("tm-quantity")),A*=parseFloat(E.data("tm-quantity")),u*=parseFloat(E.data("tm-quantity")),g*=parseFloat(E.data("tm-quantity")),h*=parseFloat(E.data("tm-quantity")),v*=parseFloat(E.data("tm-quantity"))),j+=parseFloat(u),z+=parseFloat(g),y=Lt(j,d,!1,!1,t),b=Lt(z,d,!1,!1,t),E.data("price_set",1),t.data("price_set",1),t.data("undiscounted_raw_price",C),t.data("undiscounted_raw_original_price",A),t.data("undiscounted_price",Nt(I,d,t)),t.data("undiscounted_original_price",Nt(P,d,t)),t.data("raw_price",h),t.data("raw_original_price",v),t.data("price",Nt(u,d,t)),t.data("original_price",Nt(g,d,t)),i||(E.is(".tc-epo-field-product")&&(A=!1,!E.is("select")&&(E.is(":checkbox")||E.is(":radio"))?E.is(":checked")&&(A=!0):""!==E.val()&&(A=!0),A||(y=t.data("price-html"),b="")),D(t.closest(".tmcp-field-wrap").find(".tc-price"),j,y,z,b),E.data("price-changed",1))})))}function Yt(a,t){var e,i,o,r,n,c,l,d,s,p,m,_,f,u,g=!0,h=a.main_product,v=a.epoEventId,y=a.this_epo_container,b=a.this_epo_totals_container,t=t||h.find(".cart");t.length<=0||(Tt.tcepo.lateFieldsPrices[v]=[],t.toArray().forEach(function(t){if(t=Tt(t),_="input[name^='variation_id']",0<t.find("input.variation_id").length&&(_="input.variation_id"),void 0!==t.data("per_product_pricing")&&(g=t.data("per_product_pricing")),e=t.find(_).val(),_=Tt.epoAPI.applyFilter("tc_get_bundleid",t.attr("data-product_id"),t,a),e=e||0,i=Tt.epoAPI.applyFilter("tc_get_epo_container",y,t,h,_),o=Tt.epoAPI.applyFilter("tc_get_totals_container",b,t,h,_),r=o.data("fields-price-rules"),i.data("tm_rules_init_done")||(o.data("force-quantity")&&t.find(jt.qtySelector).val(o.data("force-quantity")),i.toArray().forEach(function(t){Tt(t).closest(".tmcp-field-wrap").find(".tm-epo-field").data("tm-quantity",Tt(t).val())}),i.find(".tmcp-attributes, .tmcp-elements").toArray().forEach(function(t){t=Tt(t),n=Tt.epoAPI.util.parseJSON(t.attr("data-rules")),"object"!=typeof(c=Tt.epoAPI.util.parseJSON(t.attr("data-original-rules")))&&(c={0:"0"}),"object"==typeof(n="object"!=typeof n?{0:"0"}:n)&&(l=B(n[Tt.epoAPI.math.toFloat(e)],o,r),d=Lt(l,o),s=B(c[Tt.epoAPI.math.toFloat(e)],o,r),p=Lt(s,o),t.find(".tmcp-field, .tmcp-fee-field ").toArray().forEach(function(t){t=Tt(t),g?("1"===t.attr("data-no-price")&&(s=l=0),t.data("raw_price",l),t.data("raw_original_price",s),t.data("price",Nt(l,o,t)),t.data("original_price",Nt(s,o,t)),D(t.closest(".tmcp-field-wrap").find(".tc-price"),l,d,s,p)):(t.data("price",0),t.data("original_price",0),t.closest(".tmcp-field-wrap").find(".amount").empty())}))}),i.data("tm_rules_init_done",1)),!g)return!0;f=Vt(o),m=Gt(o),u={cart:t,current_variation:e,bundleid:_,epoTotalsContainer:o,product_price:f,product_original_price:m,apply_dpd:r,per_product_pricing:g},_=i.find(".tmcp-field,.tmcp-sub-fee-field,.tmcp-fee-field"),a.is_associated||(_=_.not(jt.associatedEpoSelector+" .tmcp-field,"+jt.associatedEpoSelector+" .tmcp-sub-fee-field,"+jt.associatedEpoSelector+" .tmcp-fee-field")),f=_.filter(".tcenabled"),(!Tt.tcepo.initialActivation[v]||0===f.length&&0<_.length)&&(_.each(function(){O(Tt(this))}),Tt.tcepo.initialActivation[v]=!0),_.filter(".tcenabled").each(function(t,e){$t(a,e,u)}),_.each(function(t,e){Tt(e).on("tc_element_epo_rules",function(){$t(a,e,u)})})}))}function Kt(e,t,a,i,o,r,n,c){var l,d,s,p,m,_,f,u,g,h,v,y,b=0,w=0,x=e.epoEventId,k=void 0!==c?c:e.this_epo_totals_container.data("fields-price-rules"),F=t,C=a;return Tt.tcepo.lateFieldsPrices[x].forEach(function(t){l=t.price,d=t.original_price,s=t.pricetype,p=t.setter,v=t.bundleid,y="percentcurrenttotal"===s?"_hidden":"_hiddenfixed",(_=p).is("option")&&(_=p.closest("select")),F=parseFloat(Tt.epoAPI.applyFilter("tc_alter_product_price",F,_,n,e.this_epo_totals_container,r)),C=parseFloat(Tt.epoAPI.applyFilter("tc_alter_original_product_price",C,_,n,e.this_epo_totals_container,r)),m=Tt.epoAPI.dom.id(_.attr("name")),f=Tt(".tc-totals-form.tm-totals-form-"+n.attr("data-cart-id")).attr("data-product-id"),h=Tt(".tc-totals-form.tm-totals-form-"+n.attr("data-cart-id")).attr("data-epo-id"),f=Tt(".tc-extra-product-options.tm-product-id-"+f+"[data-epo-id='"+h+"']").find("#"+m+y),v===r?("percentcurrenttotal"===s?(l=parseFloat(l)/100*(B(parseFloat(F),e.this_epo_totals_container,k)+parseFloat(i)),d=parseFloat(d)/100*(parseFloat(C)+parseFloat(o))):"fixedcurrenttotal"===s&&(l=parseFloat(l)+parseFloat(i),d=parseFloat(d)+parseFloat(o)),_.data("tm-quantity")&&(l*=parseFloat(_.data("tm-quantity")),d*=parseFloat(_.data("tm-quantity"))),1===p.data("isset")&&O(p)&&(b+=l,w+=d),h=Nt(l,n,p),v=Nt(d,n,p),u=Lt(l,n,!1,!1,p),g=Lt(d,n,!1,!1,p),p.data("price",h),p.data("pricew",h),p.data("original_price",v),p.data("original_pricew",v),D(p.closest(".tmcp-field-wrap").find(".tc-price"),h,u,v,g),0===f.length&&_.before('<input type="hidden" id="'+m+y+'" name="'+m+y+'" value="'+R(l,n)+'">'),p.is(".tm-epo-field.tmcp-radio")&&!p.is(":checked")||f.val(R(l,n))):void 0!==p.data("pricew")&&(u=Lt(p.data("pricew"),n,!0,!1,p),g="",void 0!==p.data("original_pricew")&&(g=Lt(p.data("original_pricew"),n,!0,!1,p)),D(p.closest(".tmcp-field-wrap").find(".tc-price"),p.data("pricew"),u,p.data("original_pricew"),g))}),[b,w]}function it(){var t;"yes"!==zt.tm_epo_no_lazy_load&&((t=g?Tt(g).find("img.tmlazy"):Tt(".tc-extra-product-options img.tmlazy")).lazyLoadXT(),t.on("lazyshow",function(){Dt.trigger("lazyLoadXToncomplete")}))}function ot(t){var e,a;t&&(t.find(".tm-owl-slider-section").each(function(){(e=Tt(this)).find(".tc-slider-content").addClass("tm-owl-slider tc-container"),e=e.find(".tm-owl-slider"),a=e.css("display"),e.show().addClass("tcowl-carousel").tmowlCarousel({rtl:"1"===zt.isRTL,dots:!1,nav:!0,items:1,autoHeight:!0,mouseDrag:!1,touchDrag:!0,navText:[zt.i18n_prev_text,zt.i18n_next_text],navClass:["owl-prev button","owl-next button"],navElement:"a",loop:!1,navRewind:!1}),e.css("display",a)}),Tt.fn.tcTabs&&t.find(".tc-tabs").tcTabs({headers:"tc-tab-headers",header:"tab-header",dataopenattribute:"data-tab",sortabletabs:!1}))}function rt(a,t){var e=t.closest(".cpf-element").data("repeater-max-rows"),i=t.find(".tc-repeater-element"),o=i.length,r=i.last(),i=i.last().find(".tmcp-ul-wrap"),n=a.data("tc-repeater-id"),c=a.data("tc-repeater-init");return!(e&&e<=o)&&(e<=o+1&&a.is(".tc-repeater-add")&&a.closest(".tc-repeater-wrap").addClass("tc-hidden"),i.is(".tm-element-ul-date, .tm-element-ul-time")&&(i.find(".tm-epo-field").tm_datepicker("destroy"),i.find(".tmcp-date-select").off()),i.is(".tm-element-ul-color")&&i.find(".tm-epo-field").spectrum("destroy"),(e=r.tcClone(!0)).find(".tm-epo-field").attr("id",function(t,e){return e.replace(/\_\d+$/g,"")+"_"+c}),e.find("[data-for]").attr("data-for",function(t,e){return e.replace(/\_\d+$/g,"")+"_"+c}),e.find("[for]").attr("for",function(t,e){return e.replace(/\_\d+$/g,"")+"_"+c}),e.find("[data-field-id]").attr("data-field-id",function(t,e){return e.replace(/\_\d+$/g,"")+"_"+c}),e.find("[data-tm-date]").attr("data-tm-date",function(){return n+"_"+c}),e.find(".tm-epo-field").attr("name",function(t,e){return e.replace(/\[\d+\]/g,"["+c+"]")}),e.find(".tm-qty").attr("name",function(t,e){return e.replace(/\[\d+\]/g,"["+c+"]")}),e.find(".tmcp-date-select").attr("name",function(t,e){return e.replace(/\[\d+\]/g,"["+c+"]")}),e.find(".tmcp-date-select").attr("id",function(t,e){return n+"_"+c+"_"+e.substring(e.lastIndexOf("_")+1)}),o=e.find(".tmcp-ul-wrap"),0<t.find(".tc-repeater-element").length&&(t.find(".tc-repeater-delete").removeClass("tc-hidden"),e.find(".tc-repeater-delete").removeClass("tc-hidden")),o.is(".tm-element-ul-checkbox")?(e.find("li.tmcp-field-wrap").removeClass("tc-active"),e.find(".tm-epo-field.tmcp-checkbox").prop("checked",!1),e.find(".tm-epo-field.tmcp-checkbox").filter(function(t,e){return-1!==Tt.inArray(Tt(e).val(),a.data("repeater-init-value"))}).prop("checked",!0).closest("li.tmcp-field-wrap").addClass("tc-active")):o.is(".tm-element-ul-radio")?(e.find("li.tmcp-field-wrap").removeClass("tc-active"),e.find(".tm-epo-field.tmcp-radio").filter(function(t,e){return Tt(e).val()===a.data("repeater-init-value")}).prop("checked",!0).closest("li.tmcp-field-wrap").addClass("tc-active")):e.find(".tm-epo-field").val(a.data("repeater-init-value")),o.is(".tm-element-ul-checkbox")||o.is(".tm-element-ul-radio")||e.find(".tm-epo-field").val(a.data("repeater-init-value")),a.data("tc-repeater-init",a.data("tc-repeater-init")+1),[e,r,i])}function nt(i,t,e,a,o){var r=t.find(".tmcp-ul-wrap");r.is(".tm-element-ul-range")&&(t.find(".tm-range-picker").removeData("tc-picker-init").attr("class","tm-range-picker").html(""),yt(t)),r.is(".tm-element-ul-date, .tm-element-ul-time")&&(xt(a),xt(r)),r.is(".tm-element-ul-color")&&(dt(a),dt(r)),t.find(".tm-tooltip").removeData("tctooltip").removeData("tm-has-tm-tip"),Tt.tcToolTip(t.find(".tm-tooltip")),t.find(".tm-epo-field").removeData("addedtcEpoBeforeOptionPriceCalculation").each(function(t,e){var a=Tt(e);O(a,!1,!0),a.is(".tcenabled")&&$t(i,a),a.on("tc_element_epo_rules",function(){$t(i,a)})}),o&&(r.is(".tm-element-ul-checkbox")?t.find(".tm-epo-field.tmcp-checkbox").filter(":checked"):r.is(".tm-element-ul-radio")?t.find(".tm-epo-field.tmcp-radio").filter(":checked"):t.find(".tm-epo-field")).trigger("change.cpf")}function ct(t,e,a,i){var o=t.closest(".cpf-element").data("repeater-min-rows"),r=t.find(".tc-repeater-element").length,n=e.index();o&&r<=o?i&&(o='<div class="tm-error-repeater tm-error tc-cell tcwidth-100">'+Tt.tc_validator.messages.repeaterminrows(o)+"</div>",i.tcToolTip({tip:o,onetime:!0,trigger:!0,tipclass:"tc-error"})):1!==r&&(2===r&&t.find(".tc-repeater-delete").addClass("tc-hidden"),a.is(".tc-repeater-add")&&a.closest(".tc-repeater-wrap").removeClass("tc-hidden"),e.remove(),a.data("tc-repeater-init",a.data("tc-repeater-init")-1),n+1!==r&&t.find(".tc-repeater-element").toArray().forEach(function(t,a){(t=Tt(t)).find(".tm-epo-field").attr("id",function(t,e){return e.replace(/\_\d+$/g,"")+(0!==a?"_"+a:"")}),t.find("[data-for]").attr("data-for",function(t,e){return e.replace(/\_\d+$/g,"")+(0!==a?"_"+a:"")}),t.find("[for]").attr("for",function(t,e){return e.replace(/\_\d+$/g,"")+(0!==a?"_"+a:"")}),t.find("[data-field-id]").attr("data-field-id",function(t,e){return e.replace(/\_\d+$/g,"")+(0!==a?"_"+a:"")}),t.find("[data-tm-date]").attr("data-tm-date",function(t,e){return e.replace(/\_\d+$/g,"")+(0!==a?"_"+a:"")}),t.find(".tm-epo-field").attr("name",function(t,e){return e.replace(/\[\d+\]/g,"["+a+"]")}),t.find(".tm-qty").attr("name",function(t,e){return e.replace(/\[\d+\]/g,"["+a+"]")}),t.find(".tmcp-date-select").attr("name",function(t,e){return e.replace(/\[\d+\]/g,"["+a+"]")})}))}function lt(m,_){var f,u;m&&(m=Tt(m)).length&&(f=_.main_cart,u=Ut(f),u=Tt.epoAPI.applyFilter("qtyElementForRepeaterQuantity",u,{epo:_,currentCart:f,obj:m,qtyElement:u}),m.find(".tc-repeater-quantity").toArray().forEach(function(t,e){var a,p=Tt(t);p.data("tc-repeater-init")||(a=(t=p.find(".tc-repeater-element")).length,(t=t.first().find(".tm-epo-field")).is(":checkbox")?p.data("repeater-init-value",t.filter(":checked").toArray().map(function(t){return Tt(t).val()})):t.is(":radio")?p.data("repeater-init-value",t.filter(":checked").val()):p.data("repeater-init-value",t.val()),p.data("tc-repeater-init",a),p.data("tc-repeater-id",t.attr("id")),p.data("tc-repeater-name",t.attr("name")),u.length&&u.off("change.r"+e+"cpf input.r"+e+"cpf").on("change.r"+e+"cpf input.r"+e+"cpf",function(t){var e,a,i,o,r,n,c=Tt(this),l=c.data("tm-prev-value"),d=Tt.epoAPI.applyFilter("qtyElementForRepeaterQuantityValue",c.val(),{epo:_,currentCart:f,obj:m,qtyElement:u,field:c}),s=d-l;if(void 0===l&&(s=d-(l=d-1)),0!==(s=void 0!==t.isTrigger?d-(l=p.find(".tc-element-inner-wrap").find(".tc-repeater-element").length):s)){if(e=p.find(".tc-element-inner-wrap"),c.data("tm-prev-value",Tt.epoAPI.applyFilter("qtyElementForRepeaterQuantity_tm-prev-value",c.val(),{epo:_,currentCart:f,obj:m,qtyElement:u,field:c})),0<s){if((a=e.find(".tc-repeater-element").eq(d-1)).length)return;for(i=0;i<s;i++)(r=rt(p,e))&&(o=o?o.add(r[0]):r[0],0===i&&(r[1],n=r[2]));o&&(o.appendTo(e.find(".tc-element-container")),nt(_,o,0,n))}else for(i=d-s;d<i;--i)a=e.find(".tc-repeater-element").eq(i-1),ct(e,a,p);f.trigger({type:"tm-epo-update",norules:2})}}))}),m.find(".tc-repeater-add").toArray().forEach(function(t){var e,a,i=Tt(t);i.data("tc-repeater-init")||(a=(t=(e=i.closest(".tc-element-inner-wrap")).find(".tc-repeater-element")).length,t=t.first().find(".tm-epo-field"),1<e.find(".tc-repeater-element").length&&e.find(".tc-repeater-delete").removeClass("tc-hidden"),t.is(":checkbox")?i.data("repeater-init-value",t.filter(":checked").toArray().map(function(t){return Tt(t).val()})):t.is(":radio")?i.data("repeater-init-value",t.filter(":checked").val()):i.data("repeater-init-value",t.val()),i.data("tc-repeater-init",a),i.data("tc-repeater-id",t.attr("id")),i.data("tc-repeater-name",t.attr("name")),i.on("click.repeater",function(){var t=rt(i,e);t&&(t[0].appendTo(e.find(".tc-element-container")),nt(_,t[0],t[1],t[2],!0))}))}),m.find(".tc-repeater-delete .delete").on("click",function(){var t=Tt(this),e=t.closest(".tc-element-inner-wrap");ct(e,t.closest(".tc-repeater-element"),e.find(".tc-repeater-add"),t)}))}function dt(t){t&&(t=Tt(t).find(".tm-color-picker")).length&&(t.spectrum({type:"color",theme:"epo",showButtons:!0,allowEmpty:!0,showInitial:!0,showInput:!0,clickoutFiresChange:!1,chooseText:zt.closeText,cancelText:zt.i18n_cancel}),t.spectrum("enable"))}function st(t){t&&Tt(t).length&&Tt(function(){Tt(t).tclightbox()})}function pt(t){var e=t.closest(".tmcp-field-wrap").find("label img"),a=Tt(e).first().attr("data-original");return t.is("select.tm-product-image")&&(t=t.children("option:selected")),a=(a=a||Tt(e).first().attr("src"))||t.attr("data-image"),!(t.attr("data-imagep")?!t.attr("data-imagep"):!a)}function mt(t){var i,o,r,n,t=t.is_associated?t.this_epo_container.find(".tm-epo-field.tmcp-upload"):t.this_epo_container.find(".tm-epo-field.tmcp-upload").not(jt.epoSelector+" "+jt.associatedEpoSelector+" .tm-epo-field.tmcp-upload");try{t.not(jt.epoSelector+" "+jt.associatedEpoSelector+" .tm-epo-field.tmcp-upload").toArray().forEach(function(t){var e,a;return n=[],""!==(i=Tt(t)).attr("data-file")&&(0!==(e=i.attr("data-file").split("|")).length&&((F||C)&&(o=new F("").clipboardData||new C),e.forEach(function(t){a=Tt.epoAPI.util.basename(t),(F||C)&&o.items.add(new File([t],a)),n.push(t)}),o&&(t.files=o.files),n=n.join("|"),r=i.attr("name"),i.trigger("tcupload"),i.after('<input type="hidden" class="tmcp-upload-hidden" name="'+r+'" value="'+n+'">'),void i.removeAttr("data-file")))})}catch(t){I.console.log(t),Tt(".tm-epo-field.tmcp-upload").not(".tm-multiple-file-upload").addClass("tc-nodt"),b=t}}function _t(t,e,a){var i=a.find(".flex-control-nav li:eq(0) img"),a=a.find(".woocommerce-product-gallery__wrapper ").find(".woocommerce-product-gallery__image, .woocommerce-product-gallery__image--placeholder").eq(0),o=e,e=e.closest("a");t&&t.image_link&&t.image_link&&1<t.image_link.length?(null!==t.full_src&&""!==t.full_src||(t.full_src=t.image_link),null!==t.full_src_w&&""!==t.full_src_w||(t.full_src_w=o.attr("data-large_image_width")),null!==t.full_src_h&&""!==t.full_src_h||(t.full_src_h=o.attr("data-large_image_height")),o.length&&(t.image_srcset||(t.image_sizes=!1),t.image_sizes||(t.image_srcset=!1),o.tc_set_attr("src",t.image_link,0),o.tc_set_attr("srcset",t.image_srcset,0),o.tc_set_attr("sizes",t.image_sizes,0),o.tc_set_attr("title",t.image_title,0),o.tc_set_attr("alt",t.image_alt,0),o.tc_set_attr("data-src",t.full_src,0),o.tc_set_attr("data-large_image",t.full_src,0),o.tc_set_attr("data-large_image_width",t.full_src_w,0),o.tc_set_attr("data-large_image_height",t.full_src_h,0),a.tc_set_attr("data-thumb",t.image_link,1)),i.length&&i.tc_set_attr("src",t.image_link,2),e.length&&(e.tc_set_attr("href",t.full_src,3),e.tc_set_attr("title",t.image_caption,3))):(o.length&&(o.tc_reset_attr("src",0),o.tc_reset_attr("srcset",0),o.tc_reset_attr("sizes",0),o.tc_reset_attr("title",0),o.tc_reset_attr("alt",0),o.tc_reset_attr("data-src",0),o.tc_reset_attr("data-large_image",0),o.tc_reset_attr("data-large_image_width",0),o.tc_reset_attr("data-large_image_height",0),a.tc_reset_attr("data-thumb",1)),i.length&&i.tc_reset_attr("src",2),e.length&&(e.tc_reset_attr("href",3),e.tc_reset_attr("title",3)))}function ft(t,e){var a;return t.is_associated?a=e.find(".tc-product-image .wp-post-image").first():""!==zt.tm_epo_global_product_image_selector?a=Tt(zt.tm_epo_global_product_image_selector):0===(a=0===(a=0===(a=0===(a=0===(a=e.find(".woocommerce-product-gallery__image:not(.clone), .woocommerce-product-gallery__image--placeholder:not(.clone)").eq(0).find(".wp-post-image").first()).length?e.find("a.woocommerce-main-image img, img.woocommerce-main-image,a img").not(".thumbnails img,.product_list_widget img").first():a).length?e.find("img.wp-post-image").not(".thumbnails img,.product_list_widget img").first():a).length?e.find(".elementor-widget-wd_single_product_gallery img.wp-post-image").first():a).length?e.find(".elementor-widget-ae-post-image .wp-post-image").first():a).length&&(a=Tt(".woocommerce div.product div.images").not(".thumbnails img,.product_list_widget img").first()),a=1<Tt(a).length?Tt(a).first():a}function ut(t){var e,a;return t.is_associated?t.main_product.closest(".tc-epo-element-product-container"):(e=t.main_product,t=t.product_id,(a=e.closest("#product-"+t)).length<=0?e.closest(".post-"+t):a)}function j(t,e,a,i,o,r,n){var c,l,d,s;for(c in t)if(Object.prototype.hasOwnProperty.call(t,c)&&(c=t[c]).enabled)switch(c.type){case"yith":e?(e.attr("srcset",a).attr("src-orig",a),c.element.data("yith_magnifier")&&c.element.yith_magnifier("destroy"),l={elements:{zoom:Tt(".yith_magnifier_zoom"),zoomImage:e,gallery:Tt(".yith_magnifier_gallery li a")}},c.element.yith_magnifier(Tt.extend(!0,{},I.yith_magnifier_options,l))):(i?c.yith_wcmg_zoom.attr("href",c.yith_wcmg_default_zoom):c.yith_wcmg_zoom.attr("href",c._yith_wcmg_default_zoom),c.element.data("yith_magnifier")&&c.element.yith_magnifier("destroy"),c.element.yith_magnifier(I.yith_magnifier_options));break;case"iosslider":setTimeout(function(t){t.element.iosSlider("update")}.bind(null,c),150);break;case"flexslider":Dt.trigger("resize");break;case"elevatezoom":c.element.each(function(t,e){e=e(this).data("elevateZoom");void 0!==e&&e.swaptheimage(t,t)}.bind(null,a,Tt));break;case"easyzoom":c.element.swap(null,a);break;case"easyzoom-flatsome":c.element.swap(a,a);break;case"woocommerce":c.element.flexslider(0),l=c.element,I.setTimeout(function(t,e){t.trigger("woocommerce_gallery_init_zoom"),e.trigger("resize")}.bind(null,l,Dt),10);break;case"zoom":n&&(s=n.find(".woocommerce-product-gallery--with-images").width(),d=!1,(d=c.element.find("img.wp-post-image").attr("data-large_image_width")>s?!0:d)?(s={touch:!1},"ontouchstart"in I&&(s.on="click"),c.element.trigger("zoom.destroy"),c.element.zoom(s)):c.element.trigger("zoom.destroy"))}Dt.trigger("tm_gallery_compatibility_actions",{event_data:o,product_element:n,form:r})}function gt(t,e,a){var i,o,r,n,c,l,d,s,p,m,_,f,u,g,h,v,y,b,w;return t.is_associated?{}:(t=!1,i=Tt(".images"),o=Tt(".yith_magnifier_zoom"),r=i.find(".yith_magnifier_zoom").first().attr("href"),n=i.find(".yith_magnifier_zoom img").first().attr("src"),c=!1,l=Tt(".iosSlider.product-gallery-slider,.iosSlider.product-slider"),d=!1,s=a.find(".images .fusion-flexslider"),p=e.data("elevateZoom")||!1,m=a.find("div.product-images .woocommerce-main-image"),_=!1,f=a.find(".images .easyzoom"),u=!1,g=a.find(".images .easyzoom"),h=!1,v=a.find(".woocommerce-product-gallery"),y=I.wc_single_product_params,b="function"==typeof Tt.fn.zoom&&y&&y.zoom_enabled,w=!1,I.yith_magnifier_options&&i.data("yith_magnifier")&&(t=!0),l.length&&l.iosSlider&&(c=!0),s.length&&s.flexslider&&(d=!0),f.length&&f.filter(".images .easyzoom.first").data("easyZoom")&&(f=f.filter(".images .easyzoom.first").data("easyZoom"),_=!0),_||(g=a.find(".images .has-image-zoom .slide")).length&&g.filter(".images .has-image-zoom .slide.first").data("easyZoom")&&(g=g.filter(".images .has-image-zoom .slide.first").data("easyZoom"),u=!0),"complete"===k.readyState?setTimeout(function(){f.length&&f.data("easyZoom")&&(f=f.data("easyZoom"),_=!0),g.length&&g.data("easyZoom")&&(g=g.data("easyZoom"),u=!0)},150):Dt.on("load",function(){setTimeout(function(){f.length&&f.data("easyZoom")&&(f=f.data("easyZoom"),_=!0),g.length&&g.data("easyZoom")&&(g=g.data("easyZoom"),u=!0)},150)}),v.length&&v.data("flexslider")&&(h=!0,"function"==typeof Tt.fn.zoom&&y&&y.zoom_enabled&&0<(y=e.closest(".woocommerce-product-gallery__image")).length&&e.width()>Tt(".woocommerce-product-gallery").width()&&(e.data.wc27_zoom_target=y)),!h&&b&&(w=a.find(".woocommerce-product-gallery__image")),{is_yith_wcmg:{type:"yith",enabled:t,element:i,yith_wcmg_zoom:o,_yith_wcmg_default_zoom:r,yith_wcmg_default_image:n},is_iosSlider:{type:"iosslider",enabled:c,element:l},is_flexslider:{type:"flexslider",enabled:d,element:s},is_elevateZoom:{type:"elevatezoom",enabled:p,element:m},is_easyzoom:{type:"easyzoom",enabled:_,element:f},is_easyzoom_flatsome:{type:"easyzoom-flatsome",enabled:u,element:g},is_wc27_gallery:{type:"woocommerce",enabled:h,element:v},is_zoom_enabled:{type:"zoom",enabled:!h&&b,element:w}})}function ht(t){var n,a,i,o,c=t.is_associated?t.this_epo_container:t.this_epo_container.not(jt.epoSelector+" "+jt.associatedEpoSelector),l=t.variations_form,e=t.main_product,r=t.form,d=ut(t),s=[],p=t.is_associated?"tc_":"",m=ft(t,d),_=gt(t,m,d);0<Tt(m).length&&(r.on(p+"reset_image.tcpi",function(){Tt.tc_product_image=Tt.tc_replace_object_values(Tt.tc_product_image,Tt.tc_product_image_store),s=[],Tt(c.find(".tm-product-image:checked,select.tm-product-image")).add(l.find(".tm-epo-variation-section").first().find(".tm-product-image:checked,select.tm-product-image")).each(function(){O(n=Tt(this))&&""!==n.val()&&s.push(n)}),s.length?s[s.length-1].trigger("tm_trigger_product_image"):Tt.tc_product_image_store=Tt.tc_populate_store(m,d)}),r.on(p+"found_variation.tcpi",function(){var t,e,a,i,o,r;a=m,t=(i=d).find(".flex-control-nav li:eq(0) img"),r=i.find(".woocommerce-product-gallery__wrapper ").find(".woocommerce-product-gallery__image, .woocommerce-product-gallery__image--placeholder").eq(0),e=(o=a).closest("a"),Tt.isEmptyObject(Tt.tc_product_image)?Tt.tc_product_image_store=Tt.tc_populate_store(a,i):(Tt.tc_product_image_store=Tt.tc_pre_populate_store(),Tt.tc_product_image_store=Tt.tc_maybe_copy_object_values(Tt.tc_product_image_store,Tt.tc_product_image)),o.tc_update_attr("src",0),o.tc_update_attr("srcset",0),o.tc_update_attr("sizes",0),o.tc_update_attr("title",0),o.tc_update_attr("alt",0),o.tc_update_attr("data-src",0),o.tc_update_attr("data-large_image",0),o.tc_update_attr("data-large_image_width",0),o.tc_update_attr("data-large_image_height",0),r.tc_update_attr("data-thumb",1),t.tc_update_attr("src",2),e.tc_update_attr("href",3),e.tc_update_attr("title",3),s=[],Tt(c.find(".tm-product-image:checked,select.tm-product-image")).add(l.find(".tm-epo-variation-section").first().find(".tm-product-image:checked,select.tm-product-image")).each(function(){O(n=Tt(this))&&""!==n.val()&&s.push(n)}),s.length&&(a=m,o=(i=d).find(".flex-control-nav li:eq(0) img"),i=i.find(".woocommerce-product-gallery__wrapper ").find(".woocommerce-product-gallery__image, .woocommerce-product-gallery__image--placeholder").eq(0),a=(r=a).closest("a"),r.attr("data-o_src",Tt.tc_product_image_store[0].src),r.attr("data-o_srcset",Tt.tc_product_image_store[0].srcset),r.attr("data-o_sizes",Tt.tc_product_image_store[0].sizes),r.attr("data-o_title",Tt.tc_product_image_store[0].title),r.attr("data-o_alt",Tt.tc_product_image_store[0].alt),r.attr("data-o_data-src",Tt.tc_product_image_store[0]["data-src"]),r.attr("data-o_data-large_image",Tt.tc_product_image_store[0]["data-large_image"]),r.attr("data-o_data-large_image_width",Tt.tc_product_image_store[0]["data-large_image_width"]),r.attr("data-o_data-large_image_height",Tt.tc_product_image_store[0]["data-large_image_height"]),i.attr("data-o_data-thumb",Tt.tc_product_image_store[1]["data-thumb"]),Tt.tc_product_image_store[2]&&o.attr("data-o_src",Tt.tc_product_image_store[2].src),a.attr("data-o_href",Tt.tc_product_image_store[3].href),a.attr("data-o_title",Tt.tc_product_image_store[3].title),s[s.length-1].trigger("tm_trigger_product_image"))}),Tt.tc_product_image_store=Tt.tc_maybe_copy_object_values_from_img(Tt.tc_product_image_store,m,d),e.off("tm_change_product_image").on("tm_change_product_image",function(t,e){t.stopImmediatePropagation(),a=e.element,o=e.element_current,a&&o&&(o=a.data("imagep"),(i="")!==o?i="imagep":"images"===a.data("changes-product-image")&&(i="image"),void 0!==(o=(o=e.element_current.data("image-variations"))&&o[i])&&(s=[],Tt(c.find(".tm-product-image:checked,select.tm-product-image")).add(l.find(".tm-epo-variation-section").first().find(".tm-product-image:checked,select.tm-product-image")).each(function(){O(n=(n=Tt(this)).is("option")?n.closest("select"):n)&&""!==n.val()&&s.push(n)}),s.length&&!s[s.length-1].is(a)||(_t(o,m,d),j(_,m,o.image_link,!1,e,r,d))))}),e.off("tm_restore_product_image").on("tm_restore_product_image",function(t,e){t.stopImmediatePropagation(),a=e.element,s=[],a&&(Tt(c.find(".tm-product-image:checked,select.tm-product-image")).add(l.find(".tm-epo-variation-section").first().find(".tm-product-image:checked,select.tm-product-image")).each(function(){O(n=Tt(this))&&""!==n.val()&&s.push(n)}),s.length&&!s[s.length-1].is(a))?s[s.length-1].trigger("tm_trigger_product_image"):(_t(!1,m,d),j(_,!1,m.attr("src"),!1,e,r,d))}),s=[],Tt(c.find(".tm-product-image:checked,select.tm-product-image")).add(l.find(".tm-epo-variation-section").first().find(".tm-product-image:checked,select.tm-product-image")).each(function(){O(n=Tt(this))&&""!==n.val()&&s.push(n)}),s.length&&s[s.length-1].trigger("tm_trigger_product_image")),Dt.trigger("tm_product_image_loaded")}function vt(r){setTimeout(function(){var t,u,g,f,h,v,e,a,y,b,i,o,w,x;"inline"===zt.tm_epo_global_product_image_mode?(e=(t=r).is_associated?t.this_epo_container:t.this_epo_container.not(jt.epoSelector+" "+jt.associatedEpoSelector),a=t.main_product,y=t.product_id,b=t.form,i=ut(t),o=[],w=ft(t,i),x=gt(t,w,i),0<Tt(w).length&&(w.data("tm-current-image",!1),u=w.closest("a"),g=w.attr("src"),f=w.width(),h=w.height(),a.off("tm_change_product_image").on("tm_change_product_image",function(t,e){var a,i,o,r=[],n=e.element.closest(".cpf-section"),c=n.is(".tm-epo-variation-section"),l=e.epo_holder,c=(l=c?n:l).find(".tm-product-image:checked,select.tm-product-image"),r=[],d=e.element.attr("id"),n=!0,l=e.main_product,s=l.closest("#product-"+y),p=f,m=h,_=Tt("<div class='blockUI blockOverlay tm-preloader-img'></div>");0===(l=(s=s.length<=0?l.closest(".post-"+y):s).find("#"+d+"_tmimage")).length&&(l=w),o=function(){_.remove(),b.tc_image_update(!1),w.data("tm-current-image",!1),s.find(".tm-clone-product-image").hide(),w.show()},e.src===l.attr("src")&&l.is(":visible")||(!1===e.src?o():(_.css({width:p,height:m}),c.each(function(){O(v=Tt(this))&&pt(v)&&L({element:v.closest(".cpf-element"),operator:"isnotempty",value:""})&&r.push(v)}),(c=r.length?r[r.length-1]:c).attr("id")!==e.element.attr("id")&&(n=!1),a=w.tcClone(),i=new Image,a.removeAttr("data-o_src").removeAttr("data-o_title").removeAttr("data-o_alt").removeAttr("data-o_srcset").removeAttr("data-o_sizes").removeAttr("srcset").removeAttr("sizes"),n&&w.before(_),x.is_yith_wcmg.yith_wcmg_default_zoom=x.is_yith_wcmg.element.find(".yith_magnifier_zoom").first().attr("href"),x.is_yith_wcmg.yith_wcmg_default_image=x.is_yith_wcmg.element.find(".yith_magnifier_zoom img").first().attr("src"),i.onerror=function(){o()},i.onload=function(){if("naturalHeight"in this){if(this.naturalHeight+this.naturalWidth===0)return void this.onerror()}else if(this.width+this.height===0)return void this.onerror();s.find("#"+d+"_tmimage").remove(),s.find(".tm-clone-product-image").hide(),a.prop("src",i.src).hide(),w.hide().after(a),a.css("opacity",0).show(),j(x,a,i.src),_.animate({opacity:0},750,"easeOutExpo",function(){_.remove()}),a.animate({opacity:1},I.tc_epo_image_animation_delay||1500,"easeOutExpo",function(){}),Dt.trigger("tm_change_product_image_loaded",{src:e.src,element:e.element,main_product:e.main_product,epo_holder:e.epo_holder})},a.attr("id",d+"_tmimage").addClass("tm-clone-product-image").hide(),a.attr("src-orig")&&a.attr("src-orig",e.src),n?(i.src=e.src,b.tc_image_update(e.element,a),w.data("tm-current-image",d),Dt.trigger("tm_change_product_image_show",{src:e.src,element:e.element,main_product:e.main_product,epo_holder:e.epo_holder})):(a.prop("src",e.src).hide(),w.after(a)),Dt.trigger("tm_change_product_image_end",{src:e.src,element:e.element,main_product:e.main_product,epo_holder:e.epo_holder})))}),a.off("tm_restore_product_image").on("tm_restore_product_image",function(t,e){var a,i,o,r,n,c,l,d,s,p,m,_;if(Dt.trigger("tm_restore_product_image_pre",{element:e.element,main_product:e.main_product,epo_holder:e.epo_holder}),a=e.element.attr("id"),o=(i=e.main_product).closest("#product-"+y),l=(d=e.element.closest(".cpf-section")).is(".tm-epo-variation-section"),c=!1,p=g,m=e.epo_holder,l&&(m=d),l=(o=o.length<=0?i.closest(".post-"+y):o).find("#"+a+"_tmimage").is(":visible"),o.find("#"+a+"_tmimage").remove(),0===o.find(".tm-clone-product-image").length)w.show(),w.data("tm-current-image",!1),b.tc_image_update(!1);else{if(!l)return void Dt.trigger("tm_restore_product_image_loaded_exit",{element:e.element,main_product:e.main_product,epo_holder:e.epo_holder});for(d=o.find(".tm-clone-product-image").length,a=w.data("tm-current-image"),_=d-1;0<=_;--_){if(r=(n=o.find(".tm-clone-product-image").eq(_)).attr("id").replace("_tmimage",""),(s=m.find("[id='"+r+"']")).is(":checked")&&s.closest(".cpf-element").is(":visible")){o.find(".tm-clone-product-image").eq(_).show(),u.attr("href",o.find(".tm-clone-product-image").eq(_).prop("src")),w.data("tm-current-image",r),c=!0;break}o.find(".tm-clone-product-image").eq(_).hide()}c?o.find("#"+a+"_tmimage").remove():(w.show(),w.data("tm-current-image",!1),b.tc_image_update(!1))}c&&(p=n.attr("src")),j(x,!1,p,o.find(".tm-clone-product-image").filter(":visible").length),Dt.trigger("tm_restore_product_image_loaded",{element:e.element,main_product:e.main_product,epo_holder:e.epo_holder})}),a.off("tm_attempt_product_image").on("tm_attempt_product_image",function(t,e){var a,i,o,r,n,c=e.main_product,l=c.closest("#product-"+y),d=e.element?e.element.closest(".cpf-section"):Tt(c.find(".tm-epo-variation-section").first(),e.epo_holder),s=d.is(".tm-epo-variation-section"),p=e.epo_holder,s=(p=s?d:p).find(".tm-product-image:checked,select.tm-product-image"),d="",m=!(a=[]),_=w.data("tm-current-image"),f=g;if(l.length<=0&&(l=c.closest(".post-"+y)),(s=(p=c.find(".tm-epo-variation-section").first().add(e.epo_holder)).find(".tm-product-image:checked,select.tm-product-image")).each(function(){O(v=Tt(this))&&pt(v)&&L({element:v.closest(".cpf-element"),operator:"isnotempty",value:""})&&a.push(v)}),a.length&&(d=(s=a[a.length-1]).attr("id")),!a.length||!s.length||_&&d===_){if(c=p.find("[id='"+_+"']").closest(".cpf-element"),_&&(!1===c.data("isactive")||!1===c.closest(".cpf-section").data("isactive"))){if(l.find("#"+_+"_tmimage").remove(),0===(e=l.find(".tm-clone-product-image").length))w.show(),w.data("tm-current-image",!1),b.tc_image_update(!1);else{for(n=e-1;0<=n;--n){if(o=(i=l.find(".tm-clone-product-image").eq(n)).attr("id").replace("_tmimage",""),(r=p.find("[id='"+o+"']")).is(":checked")&&r.closest(".cpf-element").is(":visible")){l.find(".tm-clone-product-image").eq(n).show(),u.attr("href",l.find(".tm-clone-product-image").eq(n).prop("src")),w.data("tm-current-image",o),m=!0;break}l.find(".tm-clone-product-image").eq(n).hide()}m||(w.show(),w.data("tm-current-image",!1),b.tc_image_update(!1))}m&&(f=i.attr("src")),j(x,!1,f,l.find(".tm-clone-product-image").filter(":visible").length)}}else s.last().trigger("tm_trigger_product_image")}),Tt(e.find(".tm-product-image:checked,select.tm-product-image")).add(a.find(".tm-epo-variation-section").first().find(".tm-product-image:checked,select.tm-product-image")).each(function(){O(v=Tt(this))&&""!==v.val()&&o.push(v)}),o.length&&o[o.length-1].trigger("tm_trigger_product_image")),Dt.trigger("tm_product_image_loaded")):ht(r)},I.tc_epo_product_image_setup_delay||0)}function yt(m){_&&m.find(".tm-range-picker").toArray().forEach(function(t){var a,t=Tt(t),i=t.attr("data-step").split("."),o=m.find("#"+Tt.epoAPI.dom.id(t.attr("data-field-id"))),e=parseFloat(t.attr("data-min")),r=parseFloat(t.attr("data-max")),n=parseFloat(t.attr("data-start")),c=parseFloat(t.attr("data-step")),l=t.attr("data-show-picker-value"),d=t.closest("li").find(".tm-show-picker-value"),s=parseFloat(t.attr("data-noofpips")),p=null;t.data("tc-picker-init")||(t.data("tc-picker-init",1),i=1===i.length?0:i[1].length,Number.isFinite(e)||(e=0),(r=Number.isFinite(r)?r:0)<=e&&(r=parseFloat(r)+1),n=Tt.epoAPI.math.unformat(n,jt.localDecimalSeparator),n=Ht(n=Number.isFinite(n)?n:0,{precision:i}),Number.isFinite(c)||(c=0),(s=Number.isFinite(s)?s:10)<2&&(s=2),"yes"===t.attr("data-pips")&&(p={mode:"count",values:s,filter:function(t,e){return t=parseFloat(Tt.epoAPI.math.toFixed(t,i)),c<=0?0:1!==e||Number.isInteger(t)?e:2},format:{from:function(t){return Tt.epoAPI.math.unformat(t,jt.localInputDecimalSeparator)},to:function(t){return Ht(t,{precision:i})}},density:2}),_.create(t.get(0),{direction:zt.text_direction,start:n,step:c,connect:"lower",behaviour:"tap",format:{from:function(t){return Tt.epoAPI.math.unformat(t,jt.localDecimalSeparator)},to:function(t){return Ht(t,{precision:i})}},range:{min:[e],max:[r]},pips:p,tooltips:{from:function(t){return Tt.epoAPI.math.unformat(t,jt.localInputDecimalSeparator)},to:function(t){return Ht(t,{precision:i})}}}),a=t.find(".noui-handle-lower"),t.get(0).noUiSlider.on("slide",function(){a.trigger("tmmovetooltip"),o.trigger("change.cpf")}),t.get(0).noUiSlider.on("update",function(t,e){t[e]=Tt.epoAPI.math.unformat(t[e],jt.localDecimalSeparator),e=0,"left"!==l&&"right"!==l&&a.attr("title",Ht(t[e],{precision:i})),o.val(t[e]).trigger("change"),""!==l&&d.html(Ht(t[e],{precision:i}))}),""!==l&&d.html(n),"left"!==l&&"right"!==l&&(a.attr("title",n),t.addClass("noui-show-tooltip")))})}function bt(){_&&!E.data("setRangePickersEvents")&&(E.on("click",".tm-show-picker-value",function(){var t=Tt(this),e=t.closest(".tmcp-field-wrap"),a=e.find(".tmcp-range").val(),i=t.closest(".tmcp-field-wrap").find(".tm-range-picker");t.addClass("tc-hidden").after(Tt('<input type="number" class="tm-show-picker-value-edit">')),(t=e.find(".tm-show-picker-value-edit")).focus().val(a).wrap('<div class="tm-show-picker-value-edit-wrap"></div>'),t.attr("step",i.attr("data-step")),t.attr("min",i.attr("data-min")),t.attr("max",i.attr("data-max")),E.data("range-picker-edit",e.find(".tm-show-picker-value-edit"))}),E.on("change input",".tm-show-picker-value-edit",function(){var t=Tt(this),e=t.closest(".tmcp-field-wrap").find(".tm-range-picker"),a=e.attr("data-step").split("."),t=t.val(),a=1===a.length?0:a[1].length;e.get(0).noUiSlider.set([Ht(t,{precision:a}),null])}),E.on("keydown",".tm-show-picker-value-edit",function(t){var e=I.event?I.event.keyCode:t.which;13===e&&t.preventDefault()}),E.on("click",function(t){E.data("range-picker-edit")&&!Tt(t.target).is(".tm-show-picker-value")&&0===Tt(t.target).closest(".tm-show-picker-value-edit-wrap").length&&((t=E.data("range-picker-edit")).closest(".tmcp-field-wrap").find(".tm-show-picker-value").data("has-edit",0).removeClass("tc-hidden"),t.closest(".tm-show-picker-value-edit-wrap").remove(),E.removeData("range-picker-edit"))}),E.data("setRangePickersEvents",1))}function wt(t){var e,a,i,o,r;if(t.toString().isNumeric()&&0!==(e=0===t?t:0<t?1:-1)){for(a=new Date,o=!(i=1),r=Math.abs(t);i<=r;)!1===o&&(o=0),a.setDate(a.getDate()+ +e),o++,0!==a.getDay()&&6!==a.getDay()&&i++;!1!==o&&(t=o*e)}return t}function xt(y){var h,t,e=".tm-epo-timepicker";Tt.tm_datepicker&&(h=Tt("input").map(function(){return this.id}).get().join(" "),(t=k.createElement("input")).setAttribute("type","date"),"text"===t.type&&(e=".tm-epo-system-timepicker"),y.find(e).toArray().forEach(function(t){var a=Tt(t),t=null,e=null,i=a.attr("data-time-format").trim(),o=a.attr("data-time-theme").trim(),r=a.attr("data-time-theme-size").trim(),n=a.attr("data-time-theme-position").trim(),c=a.attr("data-tranlation-hour").trim(),l=a.attr("data-tranlation-minute").trim(),d=a.attr("data-tranlation-second").trim();a.attr("type","text"),""!==a.attr("data-min-time").trim()&&(t=a.attr("data-min-time").trim()),""!==a.attr("data-max-time").trim()&&(e=a.attr("data-max-time").trim()),""!==a.attr("data-custom-time-format").trim()&&(i=a.attr("data-custom-time-format").trim()),c=c||zt.hourText,l=l||zt.minuteText,d=d||zt.secondText,a.tm_timepicker(Object.assign({isRTL:zt.isRTL,hourText:c,minuteText:l,secondText:d,timeFormat:i,minTime:t,maxTime:e,closeText:zt.closeText,showOn:"both",buttonText:"",beforeShow:function(t,e){Tt(e.dpDiv).removeClass(h).removeClass("tm-ui-skin-epo tm-ui-skin-epo-black tm-datepicker-medium tm-datepicker-small tm-datepicker-large tm-datepicker-normal tm-datepicker-top tm-datepicker-bottom").addClass(this.id+" tm-bsbb-all tm-ui-skin-"+o+" tm-timepicker tm-datepicker tm-datepicker-"+n+" tm-datepicker-"+r).appendTo("body"),E.off("click",".tm-ui-dp-overlay").on("click",".tm-ui-dp-overlay",function(){a.tm_timepicker("hide")}),A.addClass("tm-static"),a.prop("readonly",!0),Dt.trigger({type:"tm-timepicker-beforeShow",input:t,inst:e})},onClose:function(){A.removeClass("tm-static"),a.prop("readonly",!1),a.trigger("change")}},I.timepicker_settings||{})),Tt("#ui-tm-datepicker-div").hide()}),y.find(".tm-epo-datepicker").toArray().forEach(function(t){var e,l=Tt(t),t=parseInt(l.attr("data-start-year").trim(),10),a=parseInt(l.attr("data-end-year").trim(),10),i=l.attr("data-min-date").trim(),o=l.attr("data-max-date").trim(),d=l.attr("data-disabled-dates").trim(),s=l.attr("data-enabled-only-dates").trim(),r=l.attr("data-exlude-disabled").trim(),p=l.attr("data-disabled-weekdays").trim().split(","),m=l.attr("data-disabled-months").trim().split(","),_=l.attr("data-date-format").trim(),n=l.attr("data-date-showon").trim(),c=l.attr("data-date-defaultdate").trim(),f=l.attr("data-date-theme").trim(),u=l.attr("data-date-theme-size").trim(),g=l.attr("data-date-theme-position").trim();""!==d&&(e=d.split(","),-1!==d.indexOf(",")&&0<e.length&&(d=e)),""!==s&&(e=s.split(","),-1!==s.indexOf(",")&&0<e.length&&(s=e)),""===i?i=""===t?null:new Date(t,0,1):r&&(i=wt(i)),""===o?o=""===a?null:new Date(a,11,31):r&&(o=wt(o)),l.data("tc-enabled_only_dates",s),l.data("tc-disabled_weekdays",p),l.data("tc-disabled_months",m),l.data("tc-disabled_dates",d),l.data("tc-format",_),l.tm_datepicker({monthNames:zt.monthNames,monthNamesShort:zt.monthNamesShort,dayNames:zt.dayNames,dayNamesShort:zt.dayNamesShort,dayNamesMin:zt.dayNamesMin,isRTL:zt.isRTL,showOtherMonths:!0,selectOtherMonths:!0,showOn:n,defaultDate:c,buttonText:"",showButtonPanel:!0,firstDay:zt.first_day,closeText:zt.closeText,currentText:zt.currentText,dateFormat:_,minDate:i,maxDate:o,onSelect:function(){var t,e=Tt(this),a="#"+Tt.epoAPI.dom.id(e.attr("id")),i=e.tm_datepicker("getDate"),o="",r="",n="",c=y.find(a+"_day"),l=y.find(a+"_month"),a=y.find(a+"_year");i&&(o=i.getDate(),r=i.getMonth()+1,n=i.getFullYear(),t=Tt.tm_datepicker.formatDate(_,i),(-1!==m.indexOf(r.toString())||-1!==p.indexOf(i.getDay().toString())||-1!==d.indexOf(t)||""!==s&&-1===s.indexOf(t))&&(t=e.data("tm-last-date"),t=e.data("tm-last-date")?e.data("tm-last-date"):"",e.val(t),e.tm_datepicker("setDate",t),n=t?(o=(i=e.tm_datepicker("getDate")).getDate(),r=i.getMonth()+1,i.getFullYear()):r=o="")),c.val(o),l.val(r),a.val(n),e.data("tm-last-date",e.val())},beforeShow:function(t,c){Tt(c.dpDiv).removeClass(h).removeClass("tm-datepicker-normal tm-datepicker-top tm-datepicker-bottom").addClass(this.id+" tm-bsbb-all tm-ui-skin-"+f+" tm-datepicker tm-datepicker-"+g+" tm-datepicker-"+u).appendTo("body"),E.off("click",".tm-ui-dp-overlay").on("click",".tm-ui-dp-overlay",function(){l.tm_datepicker("hide")}),E.off("click",".ui-tm-datepicker-current").on("click",".ui-tm-datepicker-current",function(){var t,e=new Date,e=Tt.tm_datepicker._daylightSavingAdjust(new Date(e.getFullYear(),e.getMonth(),e.getDate())),a=e.getDay(),i=e.getMonth()+1,o="#"+c.id.replace(/\\\\/g,"\\"),r=!1,n=l.tm_datepicker("getDate");if(""!==s)t=Tt.tm_datepicker.formatDate(_,n),r=-1!==s.indexOf(t);else if(-1!==m.indexOf(i.toString())||-1!==p.indexOf(a.toString()))r=!1;else{if(""!==d)return t=Tt.tm_datepicker.formatDate(_,n),[-1===d.indexOf(t),""];r=!0}r&&(Tt.tm_datepicker._setDate(c,e),Tt.tm_datepicker._gotoToday(o))}),A.addClass("tm-static"),l.prop("readonly",!0),Dt.trigger({type:"tm-datepicker-beforeShow",input:t,inst:c})},onClose:function(){A.removeClass("tm-static"),l.prop("readonly",!1),l.trigger("change")},beforeShowDay:function(t){var e,a=t.getDay(),i=t.getMonth()+1;return""!==s?(e=Tt.tm_datepicker.formatDate(_,t),[-1!==s.indexOf(e),""]):-1!==m.indexOf(i.toString())||-1!==p.indexOf(a.toString())?[!1,""]:""!==d?(e=Tt.tm_datepicker.formatDate(_,t),[-1===d.indexOf(e),""]):[!0,""]}}),Tt("#ui-tm-datepicker-div").hide()}),y.find(".tmcp-date-select").on("change.cpf",function(){var t="#"+Tt.epoAPI.dom.id(Tt(this).attr("data-tm-date")),e=y.find(t),a=e.attr("data-date-format"),i=y.find(t+"_day").val(),o=y.find(t+"_month").val(),t=y.find(t+"_year").val(),a=Tt.tm_datepicker.formatDate(a,new Date(t,parseInt(o,10)-1,i));0<i&&0<o&&0<t?(e.tm_datepicker("setDate",a),e.trigger("change")):(e.val(""),e.trigger("change.cpf"))}).on("focus.cpf",function(){var t="#"+Tt.epoAPI.dom.id(Tt(this).attr("data-tm-date")),f=y.find(t),e=y.find(t+"_day"),a=y.find(t+"_month"),t=y.find(t+"_year"),u=e.val(),g=a.val(),h=t.val(),v=Tt(this);""!==h&&""!==g&&""!==u||""!==h&&""!==g&&""===u||""!==u&&""!==h&&""===g||""!==u&&""!==g&&""===h?v.find("option").toArray().forEach(function(e){var t,a,i,o,r,n,c,l,d,s,p,e=Tt(e),m=e.val(),_=h+"-"+g+"-"+u;if(v.is(".tmcp-date-day")){if(""===h||""===g)return;_=h+"-"+g+"-"+m}else if(v.is(".tmcp-date-month")){if(""===h||""===u)return;_=h+"-"+m+"-"+u}else if(v.is(".tmcp-date-year")){if(""===u||""===g)return;_=m+"-"+g+"-"+u}if(""!==m)try{(t=Tt.tm_datepicker.parseDate("yy-mm-dd",_))&&(a=t,i=Tt(i=f),r=Tt.tm_datepicker._getInst(i[0]),n=i.data("tc-enabled_only_dates"),c=i.data("tc-disabled_weekdays"),l=i.data("tc-disabled_months"),d=i.data("tc-disabled_dates"),i=i.data("tc-format"),s=a.getDay(),p=a.getDay()+1,!Tt.tm_datepicker._isInRange(r,a)||(""!==n?(o=Tt.tm_datepicker.formatDate(i,a),-1===n.indexOf(o)):-1!==c.indexOf(s.toString())||-1!==l.indexOf(p.toString())||""!==d&&(o=Tt.tm_datepicker.formatDate(i,a),-1!==d.indexOf(o)))?e.prop("disabled",!0):e.prop("disabled",!1))}catch(t){I.console.log(t),e.prop("disabled",!0),b=t}}):(e.find("option").prop("disabled",!1),a.find("option").prop("disabled",!1),t.find("option").prop("disabled",!1))}),Dt.on("resizestart",function(){var t=Tt(k.activeElement);t.is(".hasDatepicker")&&(t.data("resizestarted",!0),Tt(I).width()<768?t.data("resizewidth",!0):t.tm_datepicker("hide"))}),Dt.on("resizestop",function(){var t=Tt(k.activeElement);t.is(".hasDatepicker")&&t.data("resizestarted")&&(t.data("resizewidth")&&t.tm_datepicker("hide"),t.tm_datepicker("show")),t.data("resizestarted",!1),t.data("resizewidth",!1)}))}function kt(t){var e=t.epoEventId,a=t.main_product,i=!Tt.tcepo.formSubmitEvents[e].some(function(t){return typeof t&&!("function"!=typeof t.trigger&&1||t.trigger())});return Tt.tcepo.formSubmitEvents[e].forEach(function(t){"object"==typeof t&&(i?t.on_true():t.on_false())}),i||setTimeout(function(){a.find(jt.addToCartButtonSelector).first().removeClass("disabled").removeClass("loading").prop("disabled",!1).removeClass("fpd-disabled")},100),Dt.trigger("tm-apply-submit-events",{epo:{form_is_submit:i}}),i}function Ft(e){var c,l,a=e.form,t=e.this_epo_container,i=e.main_product,o=e.epoEventId;return"yes"===zt.tm_epo_global_enable_validation&&(c={},t.find(".tmcp-ul-wrap").toArray().forEach(function(i){var o,t,a,r,n;i=Tt(i),(l=i.data("tm-validation"))&&"object"===Tt.tmType(l)&&(t=(o=i.find(".tm-epo-field")).first().attr("name"),i.is(".tm-extra-product-options-radio.tm-element-ul-radio")?(t=o.last().attr("name"),c[t]=l):i.is(".tm-extra-product-options-checkbox.tm-element-ul-checkbox")?o.each(function(t,e){"required"in l&&(l.required=function(t){var e=i.find("input.tm-epo-field.tmcp-checkbox:checked").length;return 0===e?o.last().attr("name")===Tt(t).attr("name"):e<=0}),c[Tt(e).attr("name")]=l}):i.is(".tm-extra-product-options-product.tm-element-ul-product")?o.is(":checkbox")?o.each(function(t,e){"required"in l&&(n=Tt(e)).is(":checkbox")&&(l.required=function(t){var e=i.find("input.tm-epo-field.tmcp-checkbox:checked"),a=e.length;return 0===a?o.last().attr("name")===Tt(t).attr("name"):(t=e.map(function(){return Tt(this)}).get().some(function(t){return t.closest(".tc-epo-element-product-holder").find(".tm-qty").first().val()<=0}),0<a?t:a<=0)},"variable"===n.attr("data-type")&&(a=n.closest(".tc-epo-element-product-holder").find(".product-variation-id").first().attr("name"),r={required:function(t){t=Tt(t).closest(".tc-epo-element-product-holder").find(".tc-epo-field-product");return!(!O(t,!0)||!t.is(":checked"))}},c[a]=r)),c[n.attr("name")]=l}):o.is(":radio")?(l.product_element_radio_qty=!0,c[o.attr("name")]=l,a=o.closest(".tc-element-container").find(".product-variation-id").first().attr("name"),r={required:function(t){t=Tt(t).closest(".tc-element-container").find(".tc-epo-field-product:checked");return!!(t.length&&"variable"===t.attr("data-type")&&O(t,!0)&&t.is(":checked"))}},c[a]=r):o.is("select")&&(l.product_element_select_qty=!0,c[o.attr("name")]=l,a=o.closest(".tc-element-container").find(".product-variation-id").first().attr("name"),r={required:function(t){t=Tt(t).closest(".tc-element-container").find(".tc-epo-field-product");return!(!t.length||"variable"!==t.children(":selected").attr("data-type")||!O(t,!0))}},c[a]=r):c[t]=l)}),a.removeData("tc_validator"),a.tc_validate({focusInvalid:!1,ignore:jt.qtySelector+",.tcdisabled,.tmcp-upload-hidden,#wc_bookings_field_duration,input.tm-qty:hidden[type='number'],input.input-text.qty,.ignore,.variations select,.tc-epo-variable-product-selector,.tm-extra-product-options-variations input,.tm-extra-product-options-variations select,input:not(.tc-extra-product-options input),select:not(.tc-extra-product-options select)",rules:c,errorClass:"tm-error",validClass:"tm-valid",errorElement:"label",errorPlacement:function(t,e){return t.addClass("tc-cell tcwidth-100"),"before"===zt.tm_epo_global_error_label_placement?e.closest(".tc-element-container").before(t):e.closest(".tc-element-container").after(t),!1},invalidHandler:function(t,e){Dt.trigger("tm-invalidHandler",{epo:{validator:e}}),setTimeout(function(){i.find(jt.addToCartButtonSelector).first().is(".disabled")||(i.find(jt.addToCartButtonSelector).first().removeClass("loading").prop("disabled",!1).removeClass("fpd-disabled"),i.find(jt.addToCartButtonSelector).first().removeClass("disabled").removeClass("loading").prop("disabled",!1).removeClass("fpd-disabled"))},100),e.errorList&&e.errorList[0]&&e.errorList[0].element&&X(Tt(e.errorList[0].element),o)},submitHandler:function(){var t;return e.is_quickview||(i.find(jt.addToCartButtonSelector).first().addClass("disabled"),t=function(){i.find(jt.addToCartButtonSelector).first().removeClass("disabled"),E.off("ajaxSuccess",t)},E.on("ajaxSuccess",t)),kt(e)}}),a.find(jt.addToCartButtonSelector).on("click",function(t){a.tc_validate().form()||(t.preventDefault(),t.stopImmediatePropagation())}),!0)}function Zt(h,t,e,v,y,b,w,x,k,a){var F,i=t.attr("class")+t.attr("data-uniqid")+e+h.is_associated+k+x+k+a||"none";return"none"!==i&&!0!==S&&!1!==S&&void 0!==S[i]?S[i]:(F=a?"undiscounted_":"",a=t.find(e),!1===h.is_associated&&(a=a.not(jt.associatedEpoSelector+" "+e)),x||(a=a.filter(".tcenabled")),v=v||0,y=y||0,b=b||[],a.toArray().forEach(function(t){var e,a,i,o,r,n,c,l,d=Tt(t),s="",t=d.closest(".cpf-element"),p=d.closest(".tmcp-field-wrap"),m=t.attr("data-fblabelshow"),_=t.attr("data-fbvalueshow"),f="",p=p.find(".tm-qty").val(),u="",g=!1;""===m&&(f=t.find(".tc-epo-label").html()),void 0===p&&(p=""),d.is(":checkbox, :radio, :input")&&(o=i=a=e=0,d.is(".tmcp-checkbox, .tmcp-radio")?x||d.is(":checked")?(e=d.data(F+"raw_price"),a=d.data(F+"price"),i=d.data(F+"raw_original_price"),o=d.data(F+"original_price"),w=!0,d.data("isset",1),r=(t=d.closest("li.tmcp-field-wrap")).find(".checkbox-image,.radio-image"),u=s="",(n=d.closest("li.tmcp-field-wrap").find(".tm-label")).length&&(s=n.html(),u=s),r.length&&(d.closest(".tmcp-ul-wrap").is(".tc-colors-container")?s+=r.closest(".tc-label-wrap").clone().addClass("tc-img-floating")[0].outerHTML:s+=r.clone().addClass("tc-img-floating")[0].outerHTML),d.closest(".tmcp-ul-wrap").is(".tc-images-container")&&(s=t.find(".tc-label").first().html(),u=s,r.length&&(s=s+'<img class="tc-img-floating" src="'+d.attr("data-image")+'">')),g=!0):d.data("isset",0):d.is(".tmcp-select")?(l=d.find("option:selected"),e=l.data(F+"raw_price"),a=l.data(F+"price"),i=l.data(F+"raw_original_price"),o=l.data(F+"original_price"),""===(c=d.children("option:selected")).val()&&""===c.attr("data-rulestype")||(w=!0),d.find("option").data("isset",0),l.data("isset",1),""===l.val()&&""===l.attr("data-rulestype")||(s=l.attr("data-text"),g=!0,u=s)):d.is(".tmcp-selectmultiple")?(l=d.find("option:selected")).toArray().forEach(function(t){t=Tt(t),e+=Tt.epoAPI.math.toFloat(t.data(F+"raw_price")),a+=Tt.epoAPI.math.toFloat(t.data(F+"price")),i+=Tt.epoAPI.math.toFloat(t.data(F+"raw_original_price")),o+=Tt.epoAPI.math.toFloat(t.data(F+"original_price")),""===(c=d.children("option:selected")).val()&&""===c.attr("data-rulestype")||(w=!0),d.find("option").data("isset",0),t.data("isset",1),""===t.val()&&""===t.attr("data-rulestype")||(s=t.attr("data-text"),g=!0,u=s)}):(n=d.val(),!(n=d.is("[type='file']")?n.replace("C:\\fakepath\\",""):n)||d.is(".tmcp-range")&&"0"===n?d.data("isset",0):(e=d.data(F+"raw_price"),a=d.data(F+"price"),i=d.data(F+"raw_original_price"),o=d.data(F+"original_price"),w=!0,d.data("isset",1),s=n,d.is(".tmcp-range")&&(t=1===(t=d.closest(".tmcp-field-wrap").find(".tm-range-picker").attr("data-step").split(".")).length?0:t[1].length,s=Ht(s,{precision:t})),g=!0,u=n)),e=e||0,i=i||0,a=a||0,o=o||0,g&&b.push({title:f,value:s,valueText:u,price:a,original_price:o,quantity:p,label_show:m,value_show:_,input_type:d.attr("type")}),k&&(e=Nt(e,h.this_epo_totals_container,d,0,void 0,void 0,!0),i=Nt(i,h.this_epo_totals_container,d,0,void 0,void 0,!0)),v=Tt.epoAPI.math.toFloat(v)+Tt.epoAPI.math.toFloat(e),v=Tt.epoAPI.math.toFloat(Tt.epoAPI.math.round(v,10)),y=Tt.epoAPI.math.toFloat(y)+Tt.epoAPI.math.toFloat(i),y=Tt.epoAPI.math.toFloat(Tt.epoAPI.math.round(y,10)))}),t={total:v,original_total:y,floatingBoxData:b,showTotal:w,elementsLength:a.length},!0===S?(S={})[i]=t:!0!==S&&!1!==S&&(S[i]=t),t)}function te(t,e,a,i,o,r,n,c,l){var d,s=Tt.extend(!0,{},t),p=a.find(jt.associatedEpoSelector),m=a,_=!0;m.closest(".cpf-element").is(".tc-hidden")||(n.addClass("tm-hidden"),n.length&&f(n,!0),"variable"===i?a.is(".tc-init-variations")?a.trigger("refresh.tc-variation-form"):(a.addClass("variations_form"),setTimeout(function(){d=h(m,!1,p.attr("data-product-id"),p.attr("data-epo-id"),o,s),a.addClass("tc-init-variations"),a.tc_product_variation_form(o,r,n,d)},40),_=!1):a.is(".tc-init-product")||(a.addClass("tc-init-product"),n.find(".tc-epo-element-variable-product").removeClass("variations_form"),n.find(".tc-epo-element-variations").removeClass("variations"),setTimeout(function(){h(m,!1,p.attr("data-product-id"),p.attr("data-epo-id"),o,s)},20),_=!1),setTimeout(function(){n.length&&f(a,!1)},200),setTimeout(function(){l.length&&l.trigger("change"),a.removeClass("tm-hidden"),_&&(Dt.trigger("cpflogicdone"),a.find(".tm-quantity").trigger("showhide.cpfcustom")),void 0===c&&"yes"===zt.tm_epo_global_product_element_scroll&&Dt.tcScrollTo(a,200,Tt.epoAPI.math.toFloat(zt.tm_epo_global_product_element_scroll_offset))},210))}function Ct(bt,wt,xt){var kt,s,Ft,Ct,t,It,y,Pt,e,a,i,o,r,n,c,l,d,p,m=bt.product_id,At=bt.main_product,Et=bt.main_cart,_=bt.this_epo_container,f=bt.this_totals_container,qt=bt.this_epo_totals_container,St=bt.epoEventId,Ot=bt.main_epo_inside_form,u=bt.epo_id_selector,g=bt.epo_id,h=bt.product_id_selector,v="main",b=bt.is_associated?"tc-variation-form":"wc-variation-form",w=bt.is_associated?"tc_":"",x=xt&&wt?(v=Tt.epoAPI.applyFilter("tc_get_item_id",wt.attr("data-item_id"),wt),kt=At.find(".tm-extra-product-options.tm-cart-"+v),s=At.find(".tm-totals-form-"+v),Ft=At.find(".tm-epo-totals.tm-cart-"+v),wt.find(".variations_form").first()):(Et&&0!==Et.length||(Et=_.is(".tc-shortcode")?At:W(At,At,"form",m)),wt=Et.parent(),kt=_,s=f,Ft=qt,bt.variations_form);bt.is_associated&&(v=kt.attr("data-cart-id")),Ct=xt||Et,Ft.data("tm_for_cart",Ct),t=Mt(Ct),y=Ut(Ct),Ft.data("variationIdElement",(l=".wceb_picker_wrap "+t,d=Mt(c=Ct),p=c.find(d),p=(c.is(".tc-epo-element-product-container-cart")?c.closest(".tc-epo-element-product-li-container"):c).find(d),p=l?p.not(l):p)),Ft.data("qty_element",y),It=Ft.data("type"),x.data("tc_product_id",m),Pt=Ft.attr("data-tm-epo-final-total-box"),Dt.on("epoCalculateRules",function(t,e){t&&e&&e.currentCart&&Yt(bt,e.currentCart)}),Ct.is("form")&&Ct.on("reset",function(){var t=Tt(this);setTimeout(function(){Tt(t.data("epo_id_selector")).find(".tm-epo-field").trigger("change")},1)}),Yt(bt,Ct),c=kt.find(".tm-epo-field"),bt.is_associated||(c=c.not(jt.epoSelector+" "+jt.associatedEpoSelector+" .tm-epo-field")),d=kt.find(".tm-epo-field.tmcp-textarea,.tm-epo-field.tmcp-textfield"),bt.is_associated||(d=d.not(jt.epoSelector+" "+jt.associatedEpoSelector+" .tm-epo-field")),l=kt.find(".tm-epo-reset-radio"),bt.is_associated||(l=l.not(jt.epoSelector+" "+jt.associatedEpoSelector+" .tm-epo-reset-radio")),p=kt.find(".tm-epo-field.tmcp-upload"),bt.is_associated||(p=p.not(jt.epoSelector+" "+jt.associatedEpoSelector+" .tm-epo-field.tmcp-upload")),o=kt.find(".tm-has-clearbutton .tm-epo-field"),bt.is_associated||(o=o.not(jt.epoSelector+" "+jt.associatedEpoSelector+" .tm-has-clearbutton .tm-epo-field")),r=kt.find(".tm-quantity .tm-qty"),bt.is_associated||(r=r.not(jt.epoSelector+" "+jt.associatedEpoSelector+" .tm-quantity .tm-qty")),n=kt.find(".tm-quantity"),bt.is_associated||(n=n.not(jt.epoSelector+" "+jt.associatedEpoSelector+" .tm-quantity")),i=kt.find("select.tm-epo-field"),(i=bt.is_associated?i:i.not(jt.epoSelector+" "+jt.associatedEpoSelector+" select.tm-epo-field")).off("tm-select-change-html").on("tm-select-change-html",function(){var t,e,a,i,o=Tt(this);o.is(".tc-epo-field-product")||o.is(".tmcp-selectmultiple")||Et&&void 0!==Et.data("per_product_pricing")&&!Et.data("per_product_pricing")||(t=Lt(o.find("option:selected").data("price"),Ft,!0,!1,o),e=Lt(o.find("option:selected").data("original_price"),Ft,!0,!1,o),a=o.closest(".tmcp-field-wrap").find(".tc-tooltip"),i=o.closest(".tmcp-field-wrap").find(".tc-inline-description"),D(o.closest(".tmcp-field-wrap").find(".tc-price"),o.find("option:selected").data("price"),t,o.find("option:selected").data("original_price"),e),0<a.length&&a.attr("data-tm-tooltip-html",o.find("option:selected").attr("data-tm-tooltip-html")).trigger("tc-tooltip-html-changed"),0<i.length&&(o.find("option:selected").attr("data-tm-tooltip-html")?i.html(o.find("option:selected").attr("data-tm-tooltip-html")):i.html("")),"0"!==o.find("option:selected").attr("data-hide-amount")&&"yes"!==zt.tm_epo_show_price_inside_option_hidden_even||"yes"!==zt.tm_epo_show_price_inside_option||!o.find("option:selected").attr("data-text")||("yes"===zt.tm_epo_auto_hide_price_if_zero&&!1===Tt.tmempty(o.find("option:selected").data("price"))||"yes"!==zt.tm_epo_auto_hide_price_if_zero&&""!==o.find("option:selected").attr("data-price"))&&o.find("option:selected").html(o.find("option:selected").attr("data-text")+" ("+t+")"),""!==o.val()&&o.find("option:selected").attr("data-tm-tooltip-html")?a.removeClass("tm-hidden"):a.addClass("tm-hidden"))}).off("tm-math-select-change-html-all tm-select-change-html-all tm-select-change-html-all-math").on("tm-math-select-change-html-all tm-select-change-html-all tm-select-change-html-all-math",function(t){var e,a,i,o,r=Tt(this);r.is(".tc-epo-field-product")||(e=r.closest(".tmcp-field-wrap").find(".tc-tooltip"),a=r.closest(".tmcp-field-wrap").find(".tc-inline-description"),0<e.length&&e.attr("data-tm-tooltip-html",r.find("option:selected").attr("data-tm-tooltip-html")).trigger("tc-tooltip-html-changed"),""!==r.val()&&r.find("option:selected").attr("data-tm-tooltip-html")?e.removeClass("tm-hidden"):e.addClass("tm-hidden"),0<a.length&&(r.find("option:selected").attr("data-tm-tooltip-html")?a.html(r.find("option:selected").attr("data-tm-tooltip-html")):a.html("")),Et&&void 0!==Et.data("per_product_pricing")&&!Et.data("per_product_pricing")||"yes"===zt.tm_epo_show_price_inside_option&&r.find("option").each(function(){if(!(i=Tt(this)).val())return!0;"tm-select-change-html-all"===t.type?(i.removeClass("tm-epo-late-field").removeData("tm-price-for-late islate"),$t(bt,r,void 0,i,1)):"tm-math-select-change-html-all"===t.type?$t(bt,r,void 0,i,1,!0):"tm-select-change-html-all-math"===t.type&&(i.removeClass("tm-epo-late-field").removeData("tm-price-for-late islate"),$t(bt,r,void 0,i,1,!0)),o=1,o=(o="yes"!==zt.tm_epo_multiply_price_inside_option?r.data("tm-quantity"):o)||1,o=Lt(i.data("price")/o,Ft,!0,!1,r),"0"!==i.attr("data-hide-amount")&&"yes"!==zt.tm_epo_show_price_inside_option_hidden_even||!i.attr("data-text")||("yes"===zt.tm_epo_auto_hide_price_if_zero&&!1===Tt.tmempty(i.data("price"))||"yes"!==zt.tm_epo_auto_hide_price_if_zero&&""!==i.attr("data-price"))&&i.html(i.attr("data-text")+" ("+o+")")}))}).off("tm-select-change").on("tm-select-change",function(){var t=Tt(this),e=t.closest(".cpf-element").attr("data-uniqid");t.is(".tc-epo-field-product")||Et&&void 0!==Et.data("per_product_pricing")&&!Et.data("per_product_pricing")||(t.removeData("addedtcEpoBeforeOptionPriceCalculation"),t.removeData("addedfieldtcEpoBeforeOptionPriceCalculation"),Dt.off("tcEpoBeforeOptionPriceCalculation.math"+e),Dt.off("tcEpoAfterOptionPriceCalculation.math"+e),t.trigger("tm-select-change-html"),t.trigger("tm-select-change-html-all"),Ct.trigger({type:"tm-epo-update",norules:1,element:t}))}).trigger("tm-select-change-html-all"),r.off("focus.cpf").on("focus.cpf",function(){var t=Tt(this),e=t.closest(".tmcp-field-wrap").find(".tm-epo-field"),a=parseFloat(t.val()),i=parseFloat(t.attr("max")),o=parseFloat(t.attr("min")),r=t.attr("step"),n=G(e,!1),e=V(e,!1),c=!0;a&&""!==a&&"NaN"!==a||(a=0),""!==i&&"NaN"!==i||(i=""),""!==o&&"NaN"!==o||(o=0),"any"!==r&&""!==r&&void 0!==r&&parseFloat(r),(a<o||i<a)&&(c=!1),n&&e&&c?t.data("tm-prev-value",a):t.data("tm-prev-value",o)}).off("change.cpf").on("change.cpf",function(t,e){var a=Tt(this),i=a.closest(".tmcp-field-wrap").find(".tm-epo-field"),o=parseFloat(a.val()),r=parseFloat(a.attr("max")),n=parseFloat(a.attr("min")),c=a.attr("step"),l=G(i,!1),d=V(i,!1),s=!0;o&&""!==o&&"NaN"!==o||(o=0),""!==r&&"NaN"!==r||(r=""),""!==n&&"NaN"!==n||(n=0),"any"!==c&&""!==c&&void 0!==c&&parseFloat(c),(o<n||r<o)&&(s=!1),l&&d&&s?(bt.noEpoUpdate?i.data("tm-quantity",a.val()).trigger("change.cpf",e).trigger("change.cpfproduct",e):i.data("tm-quantity",a.val()).trigger("change",e),i.trigger("tm-select-change-html-all")):a.data("tm-prev-value")?a.val(a.data("tm-prev-value")):a.val(n),a.trigger("cpf-changed")}).off("tmaddquantity").on("tmaddquantity",function(){var t=Tt(this);t.closest(".tmcp-field-wrap").find(".tm-epo-field").data("tm-quantity",t.val())}),a=kt.find(".tmcp-textfield.tm-epo-field[maxlength],textarea.tm-epo-field[maxlength]"),(a=bt.is_associated?a:a.not(jt.epoSelector+" "+jt.associatedEpoSelector+" .tm-epo-field")).each(function(){var t=Tt(this),e=Tt.epoAPI.template.html(jt.templateEngine.tc_chars_remanining,{maxlength:t.attr("maxlength"),characters_remaining:zt.i18n_characters_remaining});t.after(Tt(e))}),a.off("change.tc_maxlen input.tc_maxlen").on("change.tc_maxlen input.tc_maxlen",function(){var t=Tt(this);t.closest(".tmcp-field-wrap").find(".tc-chars-remanining").html(parseInt(t.attr("maxlength"),10)-parseInt(t.val().length,10))}),c.off("tm_trigger_product_image").on("tm_trigger_product_image",function(){var t,e,a,i,o=Tt(this);o.is(".tm-product-image:checkbox, .tm-product-image:radio, select.tm-product-image")?(e=o.closest(".tmcp-field-wrap").find("label img"),a=o.closest(".cpf-section").is(".tm-epo-variation-section"),(t=o).is("select.tm-product-image")&&(t=o.children("option:selected")),(0<Tt(e).length||a&&void 0!==t.attr("data-image")||void 0!==t.attr("data-image")&&""!==t.attr("data-image")||void 0!==t.attr("data-imagep")&&""!==t.attr("data-imagep"))&&(o.is(":checked")||o.is("select.tm-product-image")&&""!==o.val()&&(""!==o.find("option:selected").attr("data-rules")||o.is(".tm-epo-variation-element")))?(i=(i=(i=Tt(e).first().attr("data-original"))||a?i:Tt(e).first().attr("src"))||t.attr("data-image"),(i=t.attr("data-imagep")?t.attr("data-imagep"):i)?At.trigger("tm_change_product_image",{src:i,element:o,element_current:t,main_product:At,epo_holder:kt}):At.trigger("tm_change_product_image",{src:!1,element:o,element_current:t,main_product:At,epo_holder:kt})):At.trigger("tm_restore_product_image",{element:o,element_current:t,main_product:At,epo_holder:kt})):At.trigger("tm_attempt_product_image",{element:o,element_current:t,main_product:At,epo_holder:kt})}),n.off("showhide.cpfcustom").on("showhide.cpfcustom",function(){var t,e,a=Tt(this),i=a.closest(".tmcp-field-wrap").find(".tm-epo-field"),o=!1;i.is(".tm-epo-variation-element")||(i.is("select")?""!==i.val()&&(o=!0):i.is(":checkbox")?i.is(":checked")&&(o=!0):i.is(":radio")?i.is(":checked")&&(o=!0,"yes"===zt.tm_epo_show_only_active_quantities&&i.closest(".tc-element-inner-wrap").find(".tm-epo-field.tmcp-radio").each(function(){Tt(this).closest(".tmcp-field-wrap").find(".tm-quantity").hide()})):i.val()&&(o=!0),t=(i=a.find(".tm-qty")).val(),e=i.attr("min")||"",o?("yes"===zt.tm_epo_show_only_active_quantities&&a.show(),i.removeClass("ignore").prop("disabled",!1)):("yes"===zt.tm_epo_show_only_active_quantities&&(a.hide(),t||i.val(e)),i.addClass("ignore").prop("disabled",!0)),setTimeout(function(){a.closest(".tcowl-carousel").trigger("refresh.owl.carousel")},200))}),c.off("change.cpfcustom").on("change.cpfcustom",function(){Tt(this).closest(".tmcp-field-wrap").find(".tm-quantity").trigger("showhide.cpfcustom")}),c.off("change.cpf").on("change.cpf",function(t,e){var a=Tt(this),i=a.closest(".tmcp-field-wrap"),o=a.closest(".tmcp-ul-wrap"),r=o.attr("data-tm-connector");a.is(":checkbox, :radio")&&(a.is(":radio")&&(e||(void 0!==r?Tt('[data-tm-connector="'+r+'"]'):o).find(".tmcp-field-wrap").removeClass("tc-active"),void 0!==r&&Tt('[data-tm-connector="'+r+'"]').find(".tmcp-field-wrap").removeClass("tc-active")),a.is(":checked")?i.addClass("tc-active"):i.removeClass("tc-active")),a.is(".tm-epo-variation-element")||(a.is(".use_images:checkbox, .use_images:radio")&&a.attr("data-imagec")&&0<(e=i.find(".radio-image,.checkbox-image").first()).length&&(a.is(":checked")?e.prop("src",a.attr("data-imagec")):e.prop("src",a.attr("data-image"))),a.is(".use_images:radio")&&a.closest(".cpf-type-radio").find(".use_images:radio").not(a).each(function(){var t=Tt(this);t.closest(".tmcp-field-wrap").find(".radio-image").first().prop("src",t.attr("data-image"))}),a.is(".tmcp-range")&&a.trigger("change.cpflogic"),a.is("select")?a.trigger("tm-select-change"):(a.is(".tmcp-radio")&&a.closest(".cpf-element").find(".tm-quantity .tm-qty").each(function(){Tt(this).closest("li.tmcp-field-wrap").find(".tmcp-radio").is(":checked")?Tt(this).prop("disabled",!1):Tt(this).attr("disabled","disabled")}),S=!0,Ct.trigger({type:"tm-epo-update",norules:1,element:a}),S=!1)),a.trigger("tm_trigger_product_image"),setTimeout(function(){Tt(".tm-owl-slider").each(function(){Tt(this).trigger("refresh.owl.carousel")})},200),At.trigger("tm_attempt_product_image",{element:a,main_product:At,epo_holder:kt})}),c.filter(":checkbox:checked, :radio:checked").each(function(){Tt(this).closest(".tmcp-field-wrap").addClass("tc-active"),Tt(this).trigger("change.cpf")}),o.off("change.cpfclearbutton").on("change.cpfclearbutton cpfclearbutton",function(){var t,e=Tt(this),a=e.closest(".tmcp-field-wrap");e.is(":checked")&&((t=(t=(t=(t=e.closest(".tc-element-inner-wrap")).find(".tc-epo-element-product-li-container").length?t.find(".tmcp-ul-wrap").first().children(".tmcp-field-wrap").not(".tc-epo-element-product-li-container"):t).find(".tm-epo-reset-radio")).length?t:e.closest(".tc-element-inner-wrap").find(".tm-epo-reset-radio").first()).removeClass("tm-hidden"),a.append(t))}),l.off("click.cpf").on("click.cpf",function(){var t=Tt(this),e=t.closest(".tc-element-inner-wrap").find(".tm-epo-field.tmcp-radio:checked");e.length&&(e.prop("checked",!1),e.trigger("change",{forced:1})),t.addClass("tm-hidden")}),z&&z.debounce&&d.on("keyup",z.debounce(function(){var t=Tt(this);"yes"===zt.tm_epo_global_enable_validation&&Tt.tc_validator&&t.closest(".tmcp-ul-wrap").data("tm-validation")&&t.tc_rules()&&Ct.tc_validate().element(t),t.trigger("change.cpf"),t.closest(".tmcp-field-wrap").find(".tm-quantity").trigger("showhide.cpfcustom")},10)),p.off("change.cpfv tcupload").on("change.cpfv tcupload",function(){var i,t,o,r,n,c=Tt(this),e=c.closest("label"),a=c.closest(".tmcp-field-wrap"),l=a.find(".cpf-upload-container"),d=a.find(".tm-filename"),s=c.val().replace("C:\\fakepath\\",""),p=[],m=I.URL||I.webkitURL,_=a.find(".tc-upload-preview");l.length&&d.length<=0&&(d=Tt('<span class="tm-filename"></span>'),e.after(d)),void 0!==s&&"undefined"!==s||(s=""),c.next(".tmcp-upload-hidden").remove(),p=(p=c.attr("data-file"))?p.split("|"):[],this.files?t=Array.from(this.files):0<p.length&&(t=p),1<t.length?d.html(t.length+" "+(1===t.length?zt.i18n_file:zt.i18n_files)):1===t.length?d.html(s):d.empty(),_.length||(_=Tt('<div class="tc-upload-preview tc-hidden"></div>'),a.append(_)),_.empty(),i=(i=kt.data("num_uploads"))||[],n=c.closest(".cpf-element").attr("data-uniqid"),i[n]||(i[n]=[]),(s||0<t.length)&&m&&m.createObjectURL?("yes"===zt.tm_epo_upload_inline_image_preview&&(1<t.length?_.addClass("multiple"):_.removeClass("multiple"),_.removeClass("tc-hidden")),r=function(t,e,a,i,o){var a=c[0].files&&c[0].files[a]&&c[0].files[a].size?c[0].files[a].size:0,r='<div class="tc-upload-image">';e?r=r+'<img src="'+e+'">':r+='<div class="tc-file-ext-overlay"></div>',r=r+'<div class="tc-file-name">'+t.name+"</div>",(F||C)&&(r+='<button type="button" class="tc-upload-remove"><svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M11.586 13l-2.293 2.293a1 1 0 0 0 1.414 1.414L13 14.414l2.293 2.293a1 1 0 0 0 1.414-1.414L14.414 13l2.293-2.293a1 1 0 0 0-1.414-1.414L13 11.586l-2.293-2.293a1 1 0 0 0-1.414 1.414L11.586 13z" fill="currentColor" fill-rule="nonzero"/></svg></button>'),r=(r=o?r+'<div class="tc-file-ext">'+o+"</div>":r)+'<div class="tc-file-size">'+(e=a,a=(o=(t=Math).log)(e)/o(1024)|0,(e/t.pow(1024,a)).toFixed(a?2:0)+" "+(a?"KMGTPEZY"[--a]+"B":"bytes"))+"</div>",i.append(r+="</div>")},t.forEach(function(t,e){var a;"yes"===zt.tm_epo_upload_inline_image_preview&&(a=Tt('<div class="tc-upload-file"></div>'),_.append(a),(o=new Image).onload=function(){r(t,this.src,e,a)},o.onerror=function(){r(t,!1,e,a,t.name.split(".").pop())},0<p.length?o.src=p[e]:(o.src=m.createObjectURL(t),m.revokeObjectURL(t))),i[n].push(t.name)}),kt.data("num_uploads",i)):delete i[n],i[n]&&0===i[n].length&&delete i[n]}),E.on("click",".tc-upload-remove",function(){var t,e,a,i,o,r,n,c,l=Tt(this);(F||C)&&(e=(t=l.closest(".cpf-element")).find(".tm-epo-field"),n=l.closest(".tc-upload-file"),r=(l=l.closest(".tmcp-field-wrap")).find(".tc-upload-preview"),l=l.find(".tm-filename"),a=n.index(),void 0!==(c=e.val().replace("C:\\fakepath\\",""))&&"undefined"!==c||(c=""),(o=Array.from(e[0].files)).splice(a,1),i=new F("").clipboardData||new C,o.forEach(function(t){i.items.add(t)}),1<o.length?r.addClass("multiple"):r.removeClass("multiple"),e[0].files=i.files,n.remove(),1<i.files.length?l.html(i.files.length+" "+(1===i.files.length?zt.i18n_file:zt.i18n_files)):1===i.files.length?l.html(c):l.empty(),(o=(o=kt.data("num_uploads"))||[])[r=t.closest(".cpf-element").attr("data-uniqid")]||(o[r]=[]),o[r].splice(a,1),0===o[r].length&&(delete o[r],e.val("")),(n=e.next(".tmcp-upload-hidden")).length&&(0<(c=n.val().split("|")).length&&c.splice(a,1),0===c.length?n.remove():n.val(c.join("|"))),kt.data("num_uploads",o))}),y.off("change.cpf input.cpf").on("change.cpf input.cpf",function(){var t=Tt(this);Ct.trigger("tm-epo-check-dpd"),t.data("tm-prev-value",t.val()),Ct.trigger({type:"tm-epo-update",norules:2})}).data("tm-prev-value",y.val()),kt.find(".cpf-type-product").off("tc-logic").on("tc-logic",function(){var t=Tt(this);t.find(".tc-init").lengh||t.data("isactive")&&!t.data("donetclogic")&&(t.data("donetclogic",!0),t.find(".tc-epo-field-product").trigger("change.cpfproduct",{forced:1}))}),kt.find(".cpf-type-product .tc-epo-field-product.tc-epo-field-product-checkbox").off("change.cpfrequired").on("change.cpfrequired",function(){var t,e,a=Tt(this).closest(".cpf-element");a.is(".tc-is-required")&&(e=(t=a.find(".tmcp-field.tc-epo-field-product-checkbox")).not(":checked"),(0<(a=a.find(".tmcp-field.tc-epo-field-product-checkbox:checked")).length?(e.removeAttr("required"),e.prop("required",!1),a.attr("required",!0),a):(t.attr("required",!0),t)).prop("required",!0))}),kt.find(".cpf-type-product .tc-epo-field-product").off("change.cpfproduct").on("change.cpfproduct",function(t,e){var a,i,o,r,n,c,l=Tt(this),d=l.closest(".cpf-element"),s=d.find(".tc-epo-element-product-container-wrap"),p=l.closest(".tmcp-field-wrap").find(".tc-epo-element-product-container-wrap"),m=0<p.length,_=!1,f=1e3,u=l,g=d.find(".tm-epo-field").not(".tc-epo-element-product-li-container .tm-epo-field"),h=g.filter(":checked"),v=l.attr("data-counter");if(!1!==d.data("isactive")&&(!e||2!==e.forced)&&(void 0===t.isTrigger||!l.data("triggeredonce")||e&&e.forced)){if(l.data("triggeredonce",1),l.is(":checkbox")||(f=t.isTrigger),g.is(":radio")||g.is(":checkbox")?0<h.length&&(c=h.closest(".tmcp-field-wrap").find("input.tm-qty")):c=g.closest(".tmcp-field-wrap").find("input.tm-qty"),l.is(":checkbox"))if(l.is(".tc-epo-field-product-hidden"))l.is(":checked")?s.addClass("tc-active-product"):s.removeClass("tc-active-product"),a=l.val(),i=l.attr("data-type"),d.find(".tc-epo-element-product-li-container").removeClass("tm-hidden");else{if(l.is(":checked"))m&&p.removeClass("tm-hidden");else{if(m&&p.addClass("tm-hidden"),!e||!e.forced)return;_=!0}_||(a=l.val(),i=l.attr("data-type"),d.find(".tc-epo-element-product-li-container").removeClass("tm-hidden"))}else if(l.is(":radio")){if(l.is(":checked"))m&&(s.addClass("tm-hidden"),p.removeClass("tm-hidden"));else{if(m&&p.addClass("tm-hidden"),!e||!e.forced)return;_=!0}_||(a=l.val(),i=l.attr("data-type"),d.find(".tc-epo-element-product-li-container").removeClass("tm-hidden"))}else l.is("select")&&(v=(u=t=l.children(":selected")).index(),""===l.children(":first").val()&&v--,a=l.val(),i=t.attr("data-type"),d.find(".tc-epo-element-product-li-container").removeClass("tm-hidden"));if(o=(l.is(".tc-epo-field-product-checkbox")?p:d).find(".tc-epo-element-product-container"),r=o.filter('[data-product_id="'+a+'"]'),n=r.find(jt.associateQtySelector),""!==s.html()&&c&&0<c.length&&0===n.length&&c.val(0),l.is(":checkbox"))l.is(".tc-epo-field-product-hidden")&&(l.is(":checked")?"0"===n.val()&&("0"===n.attr("min")?n.val(1):n.val(n.attr("min"))).trigger("change"):(n.val(0),n.closest(".tm-quantity-alt").removeClass("tm-hidden"),1!==e.forced&&n.closest(".tm-quantity-alt").find(".single_add_to_cart_product").trigger("cpfqtybutton"),s.find(jt.associatedEpoCart).trigger("tm-epo-update")));else if(l.is(":radio"))l.val()&&!l.data("set_initial")&&"0"===n.val()&&(("0"===n.attr("min")?n.val(1):n.val(n.attr("min"))).trigger("change"),l.data("set_initial",1));else{if(!l.is("select"))return;l.val()&&!l.data("set_initial")&&"0"===n.val()&&("0"!==n.attr("min")&&n.val(n.attr("min")).trigger("change"),l.data("set_initial",1))}a?0===r.length?(h={action:"wc_epo_get_associated_product_html",product_id:a,parent_id:kt.attr("data-product-id"),mode:d.attr("data-mode"),layout_mode:d.attr("data-product-layout-mode"),uniqid:d.attr("data-uniqid"),name:l.attr("name"),counter:v,quantity_min:d.attr("data-quantity-min"),quantity_max:d.attr("data-quantity-max"),priced_individually:d.attr("data-priced-individually"),discount:d.attr("data-discount"),discount_type:d.attr("data-discount-type"),discount_exclude_addons:d.attr("data-discount-exclude-addons"),show_image:d.attr("data-show-image"),show_title:d.attr("data-show-title"),show_price:d.attr("data-show-price"),show_description:d.attr("data-show-description"),show_meta:d.attr("data-show-meta"),disable_epo:d.attr("data-disable-epo")},d.block({message:null,overlayCSS:{background:"#fff",opacity:.6}}),Tt.ajax({url:zt.ajax_url,type:"POST",data:h,dataType:"json",success:function(t){200===t.result&&(r=Tt(t.html),(m?l.closest(".tmcp-field-wrap").find(".tc-epo-element-product-container-wrap").empty():d.find(".tc-epo-element-product-container-wrap")).append(r),te(bt,0,r,i,l,Ct,o,f,n),r.find(jt.associateQtySelector).trigger("change"))},complete:function(){d.unblock()}})):(te(bt,0,r,i,l,Ct,o,f,n),r.find(jt.associateQtySelector).trigger("change")):(o.addClass("tm-hidden"),g=Tt.epoAPI.util.parseJSON(u.attr("data-rules"))[0]||0,_=Tt.epoAPI.util.parseJSON(u.attr("data-original-rules"))||0,u.is(".tcenabled")&&u.data("associated_price_set",1),u.data("price_set",1),u.data("raw_price",g),u.data("raw_original_price",_),u.data("price",g),u.data("original_price",_),t=!1,(p=(p=u).is("option")?u.closest("select"):p).is(".tc-epo-field-product")&&(!p.is("select")&&(p.is(":checkbox")||p.is(":radio"))?p.is(":checked")&&(t=!0):""!==p.val()&&(t=!0)),Wt(u.closest(".tmcp-field-wrap").find(".tc-price").not(jt.associatedEpoSelector+" .tc-price"),g,t?Rt(g):u.data("price-html"),_,t?Rt(_):""),y.trigger("change.cpf"))}}),E.off("click.cpfqtybutton cpfqtybutton",".cpf-type-product .single_add_to_cart_product").on("click.cpfqtybutton cpfqtybutton",".cpf-type-product .single_add_to_cart_product",function(){var t,e,a=Tt(this),i=a.closest(".tm-quantity-alt").find(jt.associateQtySelector),o=a.is(".alt"),r=a.closest(".cpf-element").find(".tc-epo-element-product-container-wrap");a.data("inittriggeredonce")&&(t=Tt.epoAPI.math.toInt(i.attr("data-min")),e=Tt.epoAPI.math.toInt(i.attr("data-max")),o?(r.addClass("tc-active-product"),i.attr("min",t),e&&i.attr("max",e),"0"===i.val()&&("0"===i.attr("min")?i.val(1):i.val(i.attr("min"))).trigger("change"),a.removeClass("alt").text(a.attr("data-remove"))):(r.removeClass("tc-active-product"),i.val(0).trigger("change"),i.closest(".tm-quantity-alt").removeClass("tm-hidden"),a.addClass("alt").text(a.attr("data-add")))),a.data("inittriggeredonce",1),r.find(jt.associatedEpoCart).trigger("tm-epo-update")}),E.off("change.cpfqtyalt",".cpf-type-product "+jt.associateQtySelector).on("change.cpfqtyalt",".cpf-type-product "+jt.associateQtySelector,function(){var t,e=Tt(this),a=e.closest(".cpf-element").find(".tm-epo-field").not(".tc-epo-element-product-li-container .tm-epo-field"),i=e.closest(".tm-quantity-alt").find(".single_add_to_cart_product"),o=a.filter(":checked"),r=Tt.epoAPI.math.toInt(e.attr("min")),n=Tt.epoAPI.math.toInt(e.attr("max"));if(a.is(".tc-epo-field-product-hidden")&&a.is(":checkbox")&&(0===o.length&&"0"!==e.val()?(a.prop("checked",!0).trigger("change"),o=a.filter(":checked")):"0"===e.val()&&o.length&&a.prop("checked",!1).trigger("change")),a.is(":radio")||a.is(":checkbox")){if(0===o.length)return;t=o.closest(".tmcp-field-wrap").find("input.tm-qty").not(".tc-element-qty")}else t=a.closest(".tmcp-field-wrap").find("input.tm-qty").not(".tc-element-qty");0!==t.length&&(t.attr("min",r),n&&t.attr("max",n),(o=e.closest(".tc-epo-element-product-container").find(jt.associatedEpoCart)).trigger("tm-epo-update"),t.val(e.val()),0<Tt.epoAPI.math.toFloat(e.val())?(o.find(".tm-epo-field.tcenabled").removeClass("ignore"),e.removeClass("ignore")):(o.find(".tm-epo-field.tcenabled").addClass("ignore"),e.addClass("ignore")),a.trigger("change.cpfproduct",{forced:2}),i.data("inittriggeredonce")&&("0"===e.val()?i.removeClass("alt"):i.addClass("alt")),i.trigger("cpfqtybutton"))}),Ct.off("tm-epo-update").on("tm-epo-update",function(t){var n,e,D,a,i,o,B,N,H,r,L,c,M,l,d,U,R,Q,J,s,p,m,$,Z,_,W,X,G,V,Y,K,f,u,g,tt,h,et,at,it,v,y,b,w,ot,rt,nt,ct,lt,dt,st,pt,x,k=Tt(this),F=!1,mt=0,C=0,I=0,P=!1,_t=!0,A=[],E={},q=0,ft=!1,ut=!1,gt=!1,ht="",vt=!1,yt=!1,S="",O="",T=0,j=0,z=t.epoObject?Tt.extend(!0,{},t.epoObject):Tt.extend(!0,{},bt);z&&!z.noEpoUpdate&&(Dt.trigger("tcEpoUpdateStart",{epo:z,alternativeCart:z,this_product_type:It,cart:k,totalsHolder:Ft,fetchOptionPrices:Zt,epoHolder:kt}),n=Tt.epoAPI.applyFilter("tc_get_bundleid",k.attr("data-product_id"),k,z),D=Ft.attr("data-price-override"),x=k,x=Tt.epoAPI.applyFilter("tc_getCurrentQty",Tt.epoAPI.math.toFloat(Ut(x).val()),x),c=k.find(Mt(k)).val()||0,z.associated_connect&&1===z.associated_connect.length&&(x=parseFloat(z.main_product.find(jt.associateQtySelector).not(jt.associatedEpoSelector+" "+jt.qtySelector).last().val())),t.stopImmediatePropagation(),mt=F=Tt.epoAPI.applyFilter("tcGetCurrentProductPrice",Vt(Ft,!0),Ct,Ft),e=y=Tt.epoAPI.applyFilter("tcGetCurrentProductRegularPrice",Gt(Ft,!0),Ct,Ft),F=Tt.epoAPI.applyFilter("tcCalculateCurrentProductPrice",F,{epo:z,alternativeCart:xt,cart:k,main_product:At}),Number.isFinite(x)||!Ft.attr("data-is-sold-individually")&&0!==Ut(k).length||(x=1),Ft.data("totalsHolder_tc_totals_ob",{qty:x,product_price:mt,original_product_price:e}),t.norules?t.norules&&(1===t.norules&&$t(z,t.element),Tt.tcepo.lateFieldsPrices[St]=[],kt.find(".tm-epo-late-field").toArray().forEach(function(t){var e,a,i,o,r;(t=Tt(t)).data("price",0),Tt.tcepo.lateFieldsPrices[St].push({setter:t,price:t.data("tm-price-for-late"),original_price:t.data("tm-original-price-for-late"),bundleid:n,pricetype:(e=z,o=t=Tt(t=t),e=e.main_cart,r="input[name^='variation_id']",0<e.find("input.variation_id").length&&(r="input.variation_id"),e=(e=e.find(r).val())||0,t.is("select")&&(o=t.find("option:selected")),r=Tt.epoAPI.util.parseJSON(o.attr("data-rules")),o=Tt.epoAPI.util.parseJSON(o.attr("data-rulestype")),i="","object"==typeof r?"object"==typeof o?i=e in o?o[e]:"object"==typeof(a=Tt.epoAPI.util.parseJSON(t.closest(".tmcp-ul-wrap").attr("data-rulestype")))&&e in a?a[e]:o[0]:"object"==typeof(o=Tt.epoAPI.util.parseJSON(t.closest(".tmcp-ul-wrap").attr("data-ulestype")))&&(i=e in o?o[e]:o[0]):(r=t.closest(".tmcp-ul-wrap"),"object"==typeof Tt.epoAPI.util.parseJSON(r.attr("data-rules"))&&("object"==typeof o?i=e in o?o[e]:"object"==typeof(a=Tt.epoAPI.util.parseJSON(r.attr("data-rulestype")))&&e in a?a[e]:o[0]:"object"==typeof(o=Tt.epoAPI.util.parseJSON(r.attr("data-rulestype")))&&(i=e in o?o[e]:o[0]))),"object"==typeof i&&(i=i[0]),i=t.is(".tmcp-fee-field")&&-1!==Tt.inArray(i,["fee","stepfee","currentstepfee"])?"":i)})})):Yt(z,k),z.associated_connect&&1===z.associated_connect.length&&(u=z.associated_connect,z.associated_connect.is("select")&&(u=z.associated_connect.find("option:selected"))),!1===F?(Ft.empty(),z.associated_connect&&1===z.associated_connect.length&&Wt(u.closest(".tmcp-field-wrap").find(".tc-price").not(jt.associatedEpoSelector+" .tc-price"),0,"",0,"")):(_=Tt.epoAPI.applyFilter("tcAlterElementQty",1,{epo:z,alternativeCart:xt,currentCart:Ct,main_product:At}),void 0!==Ct.data("per_product_pricing")&&(_t=Ct.data("per_product_pricing")),_t=Tt.epoAPI.applyFilter("tcCalculatePerProductPricing",_t,{epo:z,alternativeCart:xt,cart:k,main_product:At}),!Ot||"woocommerce_before_add_to_cart_button"!==zt.tm_epo_totals_box_placement||"variable"!==It&&"variable-subscription"!==It||Ft.data("moved_inside")||Ft.data("moved_inside",1),Dt.trigger("tcEpoBeforeOptionPriceCalculation",{epo:z,alternativeCart:z,this_product_type:It,cart:k,totalsHolder:Ft,fetchOptionPrices:Zt,epoHolder:kt,total:C,original_total:I,floatingBoxData:A,showTotal:P,cart_fee_options_total:0,cart_fee_options_original_total:0}),z.associated_connect||t.noassociated||"yes"!==zt.tm_epo_global_product_element_quantity_sync||k.is(Tt.tcAPI().associatedEpoCart)||k.find(Tt.tcAPI().associatedEpoCart).filter(":visible").toArray().forEach(function(t){Tt(t).trigger({type:"tm-epo-update",noassociated:1})}),"no"===zt.tm_epo_global_product_element_quantity_sync?(C=(f=Zt(z,kt,".tmcp-field:not(.tc-epo-field-product)",C,I,A,P)).total,I=f.original_total,A=f.floatingBoxData,P=f.showTotal,b=f.elementsLength,T=(f=Zt(z,kt,".tc-epo-field-product",T,0,A,P)).total,j=f.original_total,A=f.floatingBoxData,P=P&&f.showTotal,b+=f.elementsLength):(C=(f=Zt(z,kt,".tmcp-field",C,I,A,P)).total,I=f.original_total,A=f.floatingBoxData,P=f.showTotal,b=f.elementsLength),Ft.data("tm-floating-box-data",A),a=(f=Zt(z,kt,".tmcp-fee-field",0,0,A,P,!1,!0)).total,i=f.original_total,A=f.floatingBoxData,P=f.showTotal,b+=f.elementsLength,Dt.trigger("tcEpoAfterOptionPriceCalculation",{epo:z,alternativeCart:z,this_product_type:It,cart:k,totalsHolder:Ft,fetchOptionPrices:Zt,epoHolder:kt,total:C,original_total:I,floatingBoxData:A,showTotal:P,cart_fee_options_total:a,cart_fee_options_original_total:i}),Tt.tcepo.oneOptionIsSelected[St]=P,Xt(At,b,Tt.tcepo.oneOptionIsSelected[St],z),P=Tt.epoAPI.applyFilter("tcFinalTotalsBoxVisibility",P,{epo:z,alternativeCart:xt,cart:k,main_product:At,totalsHolder:Ft,this_epo_totals_container:qt}),0<a&&(P=!0),xt&&!_t&&(P=!1),"pxq"!==Pt&&"hide"!==Pt&&"normal"!==Pt&&"options"!==Pt&&"final"!==Pt&&"hideoptionsifzero"!==Pt&&"hideiftotaliszero"!==Pt&&"optionsiftotalnotzero"!==Pt||(P=!0),1<x&&(P=!0),"variable"!==It&&"variable-subscription"!==It||Tt.epoAPI.math.toFloat(c)||(P=!1),f=C,A=I,b=Kt(z,parseFloat(F),parseFloat(e),parseFloat(f+T),parseFloat(A+j),n,Ft),"disable"===Pt&&(P=!1),"disable_change"!==Pt&&"yes"!==zt.tm_epo_change_variation_price&&"yes"!==zt.tm_epo_change_original_price||(P=!0),z.is_associated&&!_t&&(P=!1),"yes"===zt.tm_epo_total_price_as_unit_price&&(x=1),c=parseFloat(F*x),zt.extraFee&&(q=parseFloat(zt.extraFee),Number.isFinite(q)||(q=0)),!1!==(m=Tt.epoAPI.applyFilter("tcCalculateFinalProductPrice",!1,{alternativeCart:xt,product_price:F,product_total_price:c,v_product_price:mt,tm_set_tax_price:Nt,main_product:At,totalsHolder:Ft,cartQty:x}))&&"object"==typeof m&&Object.prototype.hasOwnProperty.call(m,"productPrice")&&Object.prototype.hasOwnProperty.call(m,"productTotalPrice")&&(F=m.productPrice,c=m.productTotalPrice),f+=b[0],f=Tt.epoAPI.applyFilter("tc_adjust_options_price_per_unit",f,c),C=parseFloat(f*x*_),C=Tt.epoAPI.applyFilter("tc_adjust_options_total_price",C+=T,x,_,f,T,Ft),A+=b[1],A=Tt.epoAPI.applyFilter("tc_adjust_options_price_per_unit",A,c),I=parseFloat(A*x*_),I=Tt.epoAPI.applyFilter("tc_adjust_options_original_total_price",I+=j,x,_,A,j,Ft),"1"===D&&0<parseFloat(C)&&(c=mt=F=0),c=Tt.epoAPI.applyFilter("tc_adjust_product_total_price_without_options",c),C=Tt.epoAPI.applyFilter("tcAdjustTotal",C,{epo:z,totalsHolder:Ft,cart:k,main_product:At}),I=Tt.epoAPI.applyFilter("tcAdjustOriginalTotal",I,{epo:z,totalsHolder:Ft,cart:k,main_product:At}),m=C=parseFloat(Tt.epoAPI.applyFilter("tc_adjust_total",C,Ft)),T=f,_=a=parseFloat(Tt.epoAPI.applyFilter("tc_adjust_totals_fee",a,Ft)),X=j=C+a,$=I=parseFloat(Tt.epoAPI.applyFilter("tc_adjust_total",I,Ft)),Z=A,W=i=parseFloat(Tt.epoAPI.applyFilter("tc_adjust_totals_fee",i,Ft)),G=l=I+i,V=c,Y=parseFloat(c+j+q),K=parseFloat(e+l+q),F=Nt(F,Ft,void 0,0,void 0,void 0,!0),y=Nt(y,Ft,void 0,0,void 0,void 0,!0),c=Nt(c,Ft,void 0,0,void 0,void 0,!0),C=Nt(C,Ft,void 0,0,void 0,void 0,!0),f=Nt(f,Ft,void 0,0,void 0,void 0,!0),j=parseFloat(a)+parseFloat(Nt(m,Ft,void 0,0,void 0,void 0,!0)),I=Nt(I,Ft,void 0,0,void 0,void 0,!0),A=Nt(A,Ft,void 0,0,void 0,void 0,!0),i=Nt(i,Ft,void 0,0,void 0,void 0,!0),l=parseFloat(i)+parseFloat(I),q=Nt(q,Ft,void 0,0,void 0,void 0,!0),o=Rt(C,Ft,!0,!0),N=Rt(a,Ft,!0,!0),B=Rt(I,Ft,!0,!0),H=Rt(i,Ft,!0,!0),d=c,c=Tt.epoAPI.applyFilter("tc_adjust_product_total_price",parseFloat(c+j+q),d,j,q,C,a,Ft),M=Tt.epoAPI.applyFilter("tc_adjust_product_total_original_price",parseFloat(d+l+q),d,l,q,I,i,Ft),r=Rt(c,Ft,!0,!0),L=Rt(M,Ft,!0,!0),U=parseFloat(F+parseFloat(f)),R=parseFloat(F+parseFloat(A)),"yes"===zt.tm_epo_fees_on_unit_price&&(U=parseFloat(F+parseFloat(f)+parseFloat(parseFloat(a)/x)),R=parseFloat(F+parseFloat(A)+parseFloat(parseFloat(i)/x))),Q=Rt(parseFloat(F+parseFloat(f)+parseFloat(parseFloat(a)/x)),Ft,!0,!0),J=Rt(parseFloat(F+parseFloat(A)+parseFloat(parseFloat(i)/x)),Ft,!0,!0),"pxq"===Pt||"final"===Pt||"hide"===Pt||0===j&&"hideoptionsifzero"===Pt||(0===C&&"hideoptionsifzero"===Pt&&"options"!==Pt||(ft=!0,"yes"===zt.tm_epo_enable_vat_options_total&&(ut=!0)),0!==a&&(gt=!0)),q&&(vt=!0,ht=Rt(q,Ft,!0,!0)),r&&"options"!==Pt&&"optionsiftotalnotzero"!==Pt&&(yt=!0),st="1"===(Ft.attr("data-prices-include-tax")||zt.prices_include_tax)?(ot=parseFloat(Bt(C,Ft,void 0,!0,void 0,0,!0)-m),rt=parseFloat(Bt(l,Ft,void 0,!0,void 0,0,!0)-X),lt=parseFloat(Bt(c,Ft,void 0,!0,void 0,0,!0)-Y),parseFloat(Bt(d,Ft,void 0,!0,void 0,0,!0)-V)):(ot=parseFloat(C-m),rt=parseFloat(l-X),lt=parseFloat(c-Y),parseFloat(d-V)),nt=Rt(ot),ct=Rt(rt),dt=Rt(lt),pt=Rt(st),Q=Tt.epoAPI.applyFilter("tc_adjust_formatted_unit_price",Q,F,f,a,x),o=Tt.epoAPI.applyFilter("tc_adjust_formatted_options_total",o,C,f,x),N=Tt.epoAPI.applyFilter("tc_adjust_formatted_fees_total",N,a),r=Tt.epoAPI.applyFilter("tc_adjust_formatted_final_total",r,c,d,j,q,x),Q=Tt.epoAPI.applyFilter("tcAdjustFormattedUnitPrice",Q,{epo:z,totalsHolder:Ft,event:t,unit_price:U,productPrice:F,_total:f,total_plcart_fee_options_totals_fee:a,cartQty:x}),J=Tt.epoAPI.applyFilter("tcAdjustFormattedUnitOriginalPrice",J,{epo:z,totalsHolder:Ft,event:t,unit_original_price:R,productPrice:F,_original_total:A,total_plcart_fee_options_totals_fee:a,cartQty:x}),o=Tt.epoAPI.applyFilter("tcAdjustFormattedOptionsTotal",o,{epo:z,totalsHolder:Ft,event:t,total:C,_total:f,total_plus_fee:j,extraFee:q,cartQty:x}),B=Tt.epoAPI.applyFilter("tcAdjustFormattedOptionsOriginalTotal",B,{epo:z,totalsHolder:Ft,event:t,original_total:I,_original_total:A,original_total_plus_fee:l,extraFee:q,cartQty:x}),N=Tt.epoAPI.applyFilter("tcAdjustFormattedFeesTotal",N,{epo:z,totalsHolder:Ft,event:t,cart_fee_options_total:a,extraFee:q,cartQty:x}),H=Tt.epoAPI.applyFilter("tcAdjustFormattedFeesOriginalTotal",H,{epo:z,totalsHolder:Ft,event:t,cart_fee_options_original_total:i,extraFee:q,cartQty:x}),r=Tt.epoAPI.applyFilter("tcAdjustFormattedFinalTotal",r,{epo:z,totalsHolder:Ft,event:t,product_total_price:c,product_total_price_without_options:d,total_plus_fee:j,extraFee:q,cartQty:x}),L=Tt.epoAPI.applyFilter("tcAdjustFormattedFinalOriginalTotal",L,{epo:z,totalsHolder:Ft,event:t,product_total_original_price:M,product_total_price_without_options:d,original_total_plus_fee:l,extraFee:q,cartQty:x}),E={qty:x,product_price:F,raw_product_price:mt,product_regular_price:y,raw_product_regular_price:e,late_total_prices:b,late_total_price:Nt(b[0],Ft),late_total_original_price:Nt(b[1],Ft),raw_options_price_per_unit:T,raw_options_total_price:m,raw_cart_fee_options_total_price:_,raw_total_plus_fee:X,raw_options_original_price_per_unit:Z,raw_options_original_total_price:$,raw_cart_fee_options_original_total_price:W,raw_original_total_plus_fee:G,raw_product_total_price:Y,raw_product_total_original_price:K,raw_product_total_price_without_options:V,options_price_per_unit:f,options_total_price:C,cart_fee_options_total_price:a,total_plus_fee:j,options_original_price_per_unit:A,options_original_total_price:I,cart_fee_options_total_original_price:i,original_total_plus_fee:l,vat_options_total:ot,vat_options_total_plus_fee:rt,formatted_vat_options_total:nt,formatted_vat_options_total_plus_fee:ct,vat_total:lt,formatted_vat_total:dt,vat_product_base:st,formatted_vat_product_base:pt,product_total_price:c,product_total_original_price:M,product_total_price_without_options:d,product_unit_price:U,product_unit_original_price:R,formatted_unit_price:Q,formatted_options_total:o,formatted_fees_total:N,formatted_final_total:r,formatted_unit_original_price:J,formatted_options_original_total:B,formatted_fees_original_total:H,formatted_final_original_total:L,formatted_extra_fee:ht,show_options_total:ft,show_fees_total:gt,show_extra_fee:vt,show_final_total:yt,show_options_vat:ut,unit_price:zt.i18n_unit_price,show_unit_price:"yes"===zt.tm_epo_show_unit_price,options_total:zt.i18n_options_total,fees_total:zt.i18n_fees_total,extra_fee:zt.i18n_extra_fee,final_total:zt.i18n_final_total,options_vat_total:zt.i18n_vat_options_total},o&&0<C&&(y=Ht(C),b=Ht(I),y=Tt.epoAPI.applyFilter("tcFilterFormattedFTotal",y,{epo:z,totalsHolder:Ft,event:t,total:C,_total:f,total_plus_fee:j,extraFee:q,cartQty:x}),b=Tt.epoAPI.applyFilter("tcFilterFormattedFOriginalTotal",b,{epo:z,totalsHolder:Ft,event:t,original_total:I,total:I,_total:f,total_plus_fee:j,extraFee:q,cartQty:x}),"yes"===zt.tm_epo_enable_original_final_total&&C!==I?(E.formatted_options_total=Tt.epoAPI.util.decodeHTML(Tt.epoAPI.template.html(jt.templateEngine.tc_formatted_sale_price,{price:b,sale_price:y,customer_price_format_wrap_start:S,customer_price_format_wrap_end:O})),E._foriginal_total=b,E._ftotal=y):E.formatted_options_total=Tt.epoAPI.util.decodeHTML(Tt.epoAPI.util.decodeHTML(Tt.epoAPI.template.html(jt.templateEngine.tc_formatted_price,{price:y,customer_price_format_wrap_start:S,customer_price_format_wrap_end:O})))),r&&0<=c&&(s=Ht(c),p="1"===D&&0<parseFloat(G+q)?parseFloat(G+q):parseFloat(parseFloat(e*x)+G+q),zt.customer_price_format&&(S=zt.customer_price_format_wrap_start,O=zt.customer_price_format_wrap_end,s=(T=zt.customer_price_format).replace("__PRICE__",s).replace("__CODE__",zt.current_currency),Ft.data("is-on-sale")||(p=T.replace("__PRICE__",p).replace("__CODE__",zt.current_currency))),s=Tt.epoAPI.applyFilter("tc_adjust_native_price",s,c),p=Ht(p=Nt(p,Ft,void 0,0,void 0,void 0,!0)),p=Tt.epoAPI.applyFilter("tc_adjust_native_regular_price",p,c),"yes"!==zt.tm_epo_enable_original_final_total||!Ft.data("is-on-sale")&&p===s?E.formatted_final_total=Tt.epoAPI.util.decodeHTML(Tt.epoAPI.util.decodeHTML(Tt.epoAPI.template.html(jt.templateEngine.tc_formatted_price,{price:s,customer_price_format_wrap_start:S,customer_price_format_wrap_end:O}))):E.formatted_final_total=Tt.epoAPI.util.decodeHTML(Tt.epoAPI.template.html(jt.templateEngine.tc_formatted_sale_price,{price:p,sale_price:s,customer_price_format_wrap_start:S,customer_price_format_wrap_end:O})),E._f_regular_price=p,E._fprice=s),E=Qt("formatted_fees_original_total","cart_fee_options_total_original_price",E=Tt.epoAPI.applyFilter("tc_adjust_tc_totals_ob",E,{epo_object:z,showTotal:P,epoHolder:kt,totalsHolder:Ft,tm_set_price:Lt,tm_set_price_totals:Rt,product_total_price:c,product_price:F,qty:x}),Ft),E=Qt("formatted_fees_total","cart_fee_options_total_price",E,Ft),E=Qt("formatted_final_original_total","product_total_original_price",E,Ft),E=Qt("formatted_final_total","product_total_price",E,Ft),E=Qt("formatted_options_original_total","options_original_total_price",E,Ft),E=Qt("formatted_options_total","options_total_price",E,Ft),E=Qt("formatted_unit_original_price","product_unit_original_price",E,Ft),E=Qt("formatted_unit_price","product_unit_price",E,Ft),void 0!==(z.tc_totals_ob=E).showTotal&&(P=E.showTotal),m=Tt.epoAPI.template.html(jt.templateEngine.tc_final_totals,E),Ft.data("tm-html",m),Ft.data("tc_totals_ob",E),z.associated_connect&&1===z.associated_connect.length&&("1"===z.associated_connect.attr("data-no-price")?(et=h=tt=g=0,it=at="",Wt(u.closest(".tmcp-field-wrap").find(".tc-price").not(jt.associatedEpoSelector+" .tc-price"),g,at,h,it)):(g=E.product_price+E.options_price_per_unit+E.cart_fee_options_total_price/E.qty,tt=E.raw_product_price+E.raw_options_price_per_unit+E.raw_cart_fee_options_total_price/E.qty,h=E.product_regular_price+E.options_original_price_per_unit+E.cart_fee_options_total_original_price/E.qty,et=E.raw_product_regular_price+E.raw_options_original_price_per_unit+E.raw_cart_fee_options_original_total_price/E.qty,at=Lt(g,z.this_epo_totals_containe,!1,!1,u),it=Lt(h,z.this_epo_totals_containe,!1,!1,u),Wt(u.closest(".tmcp-field-wrap").find(".tc-price").not(jt.associatedEpoSelector+" .tc-price"),g,at,h,it),z.associated_connect.data("tm-quantity",E.qty),z.associated_connect.data("tm-quantity")&&(g*=parseFloat(z.associated_connect.data("tm-quantity")),tt*=parseFloat(z.associated_connect.data("tm-quantity")),h*=parseFloat(z.associated_connect.data("tm-quantity")),et*=parseFloat(z.associated_connect.data("tm-quantity"))),at=Lt(g,z.this_epo_totals_containe,!1,!1,u),it=Lt(h,z.this_epo_totals_containe,!1,!1,u)),z.associated_connect.data("price_set",1),u.is(".tcenabled")&&u.data("associated_price_set",1),u.data("price_set",1),u.data("raw_price",tt),u.data("raw_original_price",et),u.data("price",Nt(g,z.this_epo_totals_containe,u)),u.data("original_price",Nt(h,z.this_epo_totals_containe,u)),z.associated_connect.data("price-changed",1),setTimeout(function(){z.associated_connect&&t.noassociated||z.mainEpoObject.main_cart.trigger({type:"tm-epo-update",norules:2})},20)),Dt.trigger("tcEpoAfterCalculateTotals",{epo:z,alternativeCart:xt,this_product_type:It,cart:k,bundleid:n,totalsObject:E,main_product:At,per_product_pricing:_t}),_=Tt.epoAPI.applyFilter("hide_native_price",!0),P&&0<x?("disable_change"!==Pt&&"yes"!==zt.tm_epo_change_variation_price||(!0===_&&"disable"!==Pt&&"disable_change"!==Pt?Jt(k).hide():Jt(k).show()),"disable"===Pt||"disable_change"===Pt||"hideiftotaliszero"===Pt&&0===c||("hideifoptionsiszero"===Pt||"optionsiftotalnotzero"===Pt)&&0===j||"hide"===Pt?Ft.html(m=""):(Ft.html(m),Dt.trigger("tc-totals-container",{epo:E,totals_holder:Ft,data:{epo_object:z,tm_set_price:Lt,tm_set_price_totals:Rt,product_total_price:c,product_price:F,qty:x},tm_epo_js:zt})),r&&0<=c&&(X=Jt(k),"disable_change"!==Pt&&"yes"!==zt.tm_epo_change_variation_price||(w=(w=Ft.data("is-on-sale")?Qt("formatted","raw",w={formatted:w=Tt.epoAPI.util.decodeHTML(Tt.epoAPI.template.html(jt.templateEngine.tc_formatted_sale_price,{price:p,sale_price:s,customer_price_format_wrap_start:S,customer_price_format_wrap_end:O})),raw:E.product_total_price},Ft):Qt("formatted","raw",w={formatted:w=Tt.epoAPI.util.decodeHTML(Tt.epoAPI.template.html(jt.templateEngine.tc_formatted_price,{price:s,customer_price_format_wrap_start:S,customer_price_format_wrap_end:O})),raw:E.product_total_price},Ft)).formatted,X.html(w).show()),"disable_change"!==Pt&&"yes"!==zt.tm_epo_change_original_price||(xt&&0!==At.find(".cpf-bto-price").length||(void 0===(v=0===(v=z.associated_connect?z.main_product.find(jt.associatedNativeProductPriceSelector):Tt(jt.nativeProductPriceSelector)).length&&At.is(".tc-after-shop-loop")?At.closest(".product").find(".price"):v).data("tc-original-html")&&v.data("tc-original-html",v.html()),0<c?(w=(w=Ft.data("is-on-sale")?Qt("formatted","raw",w={formatted:w=Tt.epoAPI.util.decodeHTML(Tt.epoAPI.template.html(jt.templateEngine.tc_formatted_sale_price,{price:p,sale_price:s,customer_price_format_wrap_start:S,customer_price_format_wrap_end:O})),raw:E.product_total_price},Ft):Qt("formatted","raw",w={formatted:w=Tt.epoAPI.util.decodeHTML(Tt.epoAPI.template.html(jt.templateEngine.tc_formatted_price,{price:s,customer_price_format_wrap_start:S,customer_price_format_wrap_end:O})),raw:E.product_total_price},Ft)).formatted,v.html(w).show()):It&&"composite"!==It&&(z.associated_connect?(!z.variations_form.length||0<(w=z.this_epo_totals_container.data("variationIdElement")).length&&(w=parseFloat(w.val()))&&0!==w)&&v.html(Tt.epoAPI.util.decodeHTML(zt.assoc_current_free_text)):v.html(Tt.epoAPI.util.decodeHTML(zt.current_free_text)))),Dt.trigger("tcEpoMaybeChangePriceHtml",{epo:z,alternativeCart:xt,this_product_type:It,cart:k,bundleid:n,totalsObject:E,main_product:At,nativePrice:s}))),xt?Et.trigger({type:"tm-epo-update",norules:1}):qt.data("is_active",!0)):(z.associated_connect&&(v=z.main_product.find(jt.associatedNativeProductPriceSelector)).html(v.data("tc-original-html")),Jt(k).each(function(){var t=Tt(this);t.data("tm-original-html")?t.html(t.data("tm-original-html")):t.data("tm-original-html",t.html())}),0===mt&&"yes"===zt.tm_epo_remove_free_price_label?Jt(k).hide():"disable_change"!==Pt&&"yes"!==zt.tm_epo_change_variation_price||!0===_&&"disable"!==Pt&&"disable_change"!==Pt||Jt(k).show(),Ft.empty(),xt&&Et.trigger({type:"tm-epo-update",norules:1})),Et.trigger("tm-epo-after-update",{container:wt}),Dt.trigger("tc-epo-after-update",{epo:E,totals_holder:Ft,data:{epo_object:z,add_late_fields_prices:Kt,tm_set_price:Lt,tm_set_price_totals:Rt,product_total_price:c,product_price:F,qty:x,bundleid:n,currentCart:Ct},tm_epo_js:zt})))}),"variable"!==It&&"variable-subscription"!==It||((e=kt.find(".tm-epo-variation-section").first()).find(".tm-epo-reset-variation").off("click.cpfv").on("click.cpfv",function(){var t=Tt(this),e=Tt.epoAPI.dom.id(t.attr("data-tm-for-variation")),a=t.closest(".cpf-type-variations"),i=t.closest(".cpf-element").find(".tm-epo-variation-element"),o=t.closest(".cpf-element").find(".tmcp-field-wrap");i.prop("checked",!1),o.removeClass("tc-active"),x.find("[data-attribute_name='attribute_"+e+"']").val("").trigger("change"),x.find("[data-attribute_name='attribute_"+e+"']").trigger("focusin"),At.find(".cpf-type-variations").not(a).each(function(t,e){x.find("[data-attribute_name='attribute_"+Tt.epoAPI.dom.id(Tt(e).find(".tm-epo-variation-element").first().attr("data-tm-for-variation"))+"']").trigger("focusin")}),t.trigger("blur"),x.trigger("woocommerce_update_variation_values_tmlogic")}),e.find("input.tm-epo-variation-element,input.tm-epo-variation-element + span").off("mouseup.cpfv").on("mouseup.cpfv",function(){var t=Tt(this);(t=t.is("span")?t.prev("input"):t).attr("disabled")&&x.find(".reset_variations").trigger("click"),t=Tt.epoAPI.dom.id(t.attr("data-tm-for-variation")),x.find("[data-attribute_name='attribute_"+t+"']").trigger("focusin")}),e.off("click."+b+".tmepo",".reset_variations, .tc-epo-element-variable-reset-variations").on("click."+b+".tmepo",".reset_variations, .tc-epo-element-variable-reset-variations",{_epoObject:bt},function(t){"disable_change"!==Pt&&"yes"!==zt.tm_epo_change_original_price||xt&&0!==At.find(".cpf-bto-price").length||(t=t.data._epoObject.associated_connect?t.data._epoObject.main_product.find(jt.associatedNativeProductPriceSelector):Tt(jt.nativeProductPriceSelector)).data("tc-original-html")&&t.html(t.data("tc-original-html")),x.find(".variations .reset_variations, .tc-epo-element-variable-reset-variations").first().trigger("click")}),e.find(".tm-epo-variation-element").off("change.cpfv tm_epo_variation_element_change").on("change.cpfv tm_epo_variation_element_change",function(t){var e,a=Tt(this),i=Tt.epoAPI.dom.id(a.attr("data-tm-for-variation")),o=a.val(),r=a.closest(".cpf-type-variations"),i=x.find("[data-attribute_name='attribute_"+i+"']");a.closest(".tm-epo-variation-section").is(".tm-hidden")||(t&&t.type&&"tm_epo_variation_element_change"===t.type||(e=!1,i.each(function(){if(this.value===o)return!(e=!0)}),e||i.trigger("focusin"),i.val(o).trigger("change")),o||i.trigger("focusin"),At.find(".cpf-type-variations").not(r).each(function(){x.find("#"+Tt.epoAPI.dom.id(Tt(this).find(".tm-epo-variation-element").first().attr("data-tm-for-variation"))).trigger("focusin")}),a.trigger("blur"),x.trigger("woocommerce_update_variation_values_tmlogic"))}).off("focusin.cpfv").on("focusin.cpfv",function(){var t=Tt(this);t.is("select")&&(t=Tt.epoAPI.dom.id(t.attr("data-tm-for-variation")),x.find("[data-attribute_name='attribute_"+t+"']").trigger("focusin"),x.trigger("woocommerce_update_variation_values_tmlogic"))}),x.off(w+"found_variation.tmepo tm_fix_stock",".single_variation_wrap").on(w+"found_variation.tmepo tm_fix_stock",".single_variation_wrap",function(){$(Tt(this),wt)}),x.off(w+"found_variation.tmepo").on(w+"found_variation.tmepo",function(t,e){var a,i,o,r,n,c,l,d=Tt(this);Ft.data("is-on-sale",e.tc_is_on_sale),Ft.data("regular-price",Q(e.display_regular_price,Ft,e)),Dt.trigger("tm-epo-found-variation",{epo:bt,totalsHolder:Ft,totalsHolderContainer:s,currentCart:Ct,variationForm:d,variation:e}),i=(e={epoHolder:kt,totalsHolder:Ft,totalsHolderContainer:s,currentCart:Ct,variationForm:d,variation:e}).epoHolder,o=e.totalsHolder,r=e.totalsHolderContainer,n=e.currentCart,c=e.variationForm,e=e.variation,l=o.data("variations"),o.data("current_variation",e),e&&"display_price"in e&&!o.data("tm-epo-is-woocs")?(a=e.display_price,o.data("priceIsWithDiscount","1"),o.removeData("tcprice")):l&&e&&e.variation_id&&void 0!==l[e.variation_id]?(a=l[e.variation_id],o.removeData("tcprice")):e&&Tt(e.price_html).find(".amount:last").length&&(a=(a=(a=(a=Tt(e.price_html).find(".amount:last").text()).replace(zt.currency_format_thousand_sep,"")).replace(zt.currency_format_decimal_sep,".")).replace(/[^0-9.]/g,""),a=parseFloat(a),o.removeData("tcprice")),a=Q(a,o,e),o.data("price",a),r.find(".cpf-product-price").val(a),setTimeout(function(){i.find("select.tm-epo-field").trigger("tm-select-change-html-all-math")},100),c.data("tm-styled-variations")||n.trigger({type:"tm-epo-update"}),$(d,wt)}).off(w+"hide_variation.tmepo").on(w+"hide_variation.tmepo",{_epoObject:bt},function(t){"disable_change"!==Pt&&"yes"!==zt.tm_epo_change_original_price||xt&&0!==At.find(".cpf-bto-price").length||(t=t.data._epoObject.associated_connect?t.data._epoObject.main_product.find(jt.associatedNativeProductPriceSelector):Tt(jt.nativeProductPriceSelector)).data("tc-original-html")&&t.html(t.data("tc-original-html")),Ft.data("price",!1),Ft.removeData("tcprice"),Ct.trigger({type:"tm-epo-update",norules:2})}).off(w+"check_variations.tmepo").on(w+"check_variations.tmepo",function(){var a=0,t=e.find(".reset_variations");x.find(".variations select, .tc-epo-variable-product-selector").each(function(){var t=Tt(this).data("attribute_name")||Tt(this).attr("name"),e=Tt(this).val()||"";0<e.length&&a++,t,0}),0<a?"hidden"===t.css("visibility")&&t.css("visibility","visible").hide().fadeIn():t.css("visibility","hidden")}).trigger(w+"check_variations"),function(t,e,a,i){var o,r,n,c,l,d,s,p,m=t.epoEventId,_="input[name^='variation_id']",f=t.is_associated?"tc_variation_form.tmlogic":"wc_variation_form.tmlogic",u=t.is_associated?"tc_":"",g=t.variations_form,h=t.is_associated?g.find(".tc-epo-element-variations"):g.find(".variations"),v=t.is_associated?".tc-epo-element-variable-reset-variations":".reset_variations";if(g.attr("data-epo_id",t.epo_id),0<e.find("input.variation_id").length&&(_="input.variation_id"),i.find(".tm-epo-variation-element").length||i.data("tm-epo-variation-element")){if((o=i.find(".tm-epo-variation-section").first()).find(".cpf-type-variations").attr("data-epo_id",t.epo_id).attr("data-product_id",g.attr("data-product_id")),i.data("tm-epo-variation-element",o.find(".tm-epo-variation-element")),a&&"main"!==a&&!t.is_associated){if(h=(g=t.form).find('.composite_component[data-item_id="'+a+'"]').find(".variations"),g.attr("data-epo_id",t.epo_id),0===h.length)return;r=o.closest("li.tm-extra-product-options-field"),o.is(".tm-hidden")||h.hide(),h.after(o.addClass("tm-extra-product-options nopadding")),r.is(":empty")&&r.hide(),o.is(".section_popup")?o.wrap("<div class='tc-styled-variations tc-row'></div>"):(o.removeClass("tc-cell"),o.wrap("<div class='tc-styled-variations'></div>")),n=!1,e.off(f).on(f,function(){for(n=!0,g.on("click.tmlogic",".reset_variations",function(){o.find("select.tm-epo-variation-element").val("").children("option").prop("disabled",!1).show(),o.find(".tm-epo-variation-element").prop("disabled",!1).removeClass("tm-disabled").prop("checked",!1).closest("li").show(),Dt.trigger("tmlazy"),o.find(".tm-epo-variation-element").trigger("tm_trigger_product_image"),o.find("li").removeClass("tc-active tm-attribute-disabled").css("opacity","")}),e.off("woocommerce_update_variation_values_tmlogic").on("woocommerce_update_variation_values_tmlogic",function(){J(e,t)}),p=0;p<P.length;p+=1)c=P[p],"object"===typeof c&&(l="string"==typeof c.name||!1,d="string"==typeof c.selector||!1,s="function"==typeof c.func||!1,l&&s&&("input[name='variation_id']"===d&&(d=_),c.selector?e.data("tm-styled-variations",1).off(u+c.name+p,d).on(u+c.name+p,d,c.func):e.data("tm-styled-variations",1).off(u+c.name+p).on(u+c.name+p,c.func)));P=[],o.find(".tm-epo-variation-element:not(.tm-hidden .tm-epo-variation-element)").last().trigger("tm_epo_variation_element_change")}),Tt(function(){!1===n&&e.trigger(f)})}else{for(o.length&&(o.is(".tm-hidden")||h.hide(),r=o.closest("li.tm-extra-product-options-field"),h.after(o.addClass("tm-extra-product-options nopadding")),r.is(":empty")&&r.hide(),o.is(".section_popup")?o.wrap("<div class='tc-styled-variations tc-row'></div>"):(o.removeClass("tc-cell"),o.wrap("<div class='tc-styled-variations'></div>")),g.off("click.tmlogic",v).on("click.tmlogic",v,function(){o.find("select.tm-epo-variation-element").val("").children("option").prop("disabled",!1).show(),o.find(".tm-epo-variation-element").prop("disabled",!1).removeClass("tm-disabled").prop("checked",!1).closest("li").show(),Dt.trigger("tmlazy"),o.find(".tm-epo-variation-element").trigger("tm_trigger_product_image"),o.find("li").removeClass("tc-active tm-attribute-disabled").css("opacity","")})),g.off("woocommerce_update_variation_values_tmlogic").on("woocommerce_update_variation_values_tmlogic",function(){J(g,t)}),p=0;p<P.length;p+=1)c=P[p],"object"===typeof c&&(l="string"==typeof c.name||!1,d="string"==typeof c.selector||!1,s="function"==typeof c.func||!1,l&&s&&("input[name='variation_id']"===d&&(d=_),c.selector?g.data("tm-styled-variations",1).off(u+c.name+p,d).on(u+c.name+p,d,c.func):g.data("tm-styled-variations",1).off(u+c.name+p).on(u+c.name+p,c.func)));P=[],o.find(".tm-epo-variation-element:not(.tm-hidden .tm-epo-variation-element)").last().trigger("tm_epo_variation_element_change")}Tt.tcepo.formSubmitEvents[m][Tt.tcepo.formSubmitEvents[m].length]={trigger:function(){return!0},on_true:function(){return o.find(".tm-epo-variation-element").attr("disabled","disabled"),!0},on_false:function(){o.find(".tm-epo-variation-element").prop("disabled",!1)}},Tt(k.body).on("added_to_cart",function(){o.find(".tm-epo-variation-element").prop("disabled",!1)})}}(bt,wt,v,kt)),i.trigger("tm-select-change-html"),r.trigger("change.cpf",{init:1}),n.trigger("showhide.cpfcustom"),o.filter(":checked").trigger("cpfclearbutton"),Dt.on("tm-do-epo-update",function(){Ct.trigger({type:"tm-epo-update"})}),Dt.trigger("tm-epo-init-events",{epo:{epo_id:g,form:bt.form,currentCart:Ct,cart_container:wt,epo_holder:kt,totals_holder_container:s,totals_holder:Ft,main_cart:Et,main_epo_inside_form:Ot,product_id_selector:h,epo_id_selector:u,product_id:m,this_epo_container:_,this_totals_container:f,this_epo_totals_container:qt}}),Dt.trigger("epoEventHandlers",{epo:bt,currentCart:Ct,cartContainer:wt,qtyElement:y,epoHolder:kt,totalsHolderContainer:s,totalsHolder:Ft,variationForm:x,variation_id_selector:t,main_epo_inside_form:Ot,this_product_type:It,get_price_excluding_tax:H,get_price_including_tax:Bt}),"disable"!==Pt&&"disable_change"!==Pt&&"hide"!==Pt&&s.addClass("tc-show"),Dt.trigger("epo_options_before_visible"),"yes"===zt.tm_epo_progressive_display?setTimeout(function(){kt.css("opacity",0).addClass("tc-show").animate({opacity:1},jt.epoAnimationDelay,"easeOutExpo",function(){Dt.trigger("epo_options_visible"),Dt.trigger("tmlazy")})},jt.epoDelay):(kt.addClass("tc-show"),Dt.trigger("epo_options_visible"),Dt.trigger("tmlazy")),At.addClass("tc-init")}function It(t){var e=t.variations_form,a=t.main_cart,i=t.this_epo_container,o=t.is_associated?"tc_variation_form.cpf":"wc_variation_form.cpf";e.off(o).on(o,function(){e.data("epo_loaded")||(M(i),U(i),Tt.tcepo.lateFieldsPrices[t.epoEventId]=[],Ct(t),mt(t),vt(t),t.noEpoUpdate=!1,setTimeout(function(){T(i),a.trigger({type:"tm-epo-update",rules:"init"})},10),e.data("epo_loaded",!0))}),v&&e.trigger(o),Dt.trigger("epo-after-init",{epo:t})}function Pt(t,e,a,i,o){var r=Tt.extend(!0,{},t),n=i.attr("data-product-id"),c=i.attr("data-epo-id"),l=".tm-product-id-"+n,d="[data-epo-id='"+c+"']",s="p"+n+"e"+c,p=Tt(".tc-extra-product-options"+l+d),m=Tt(".tc-totals-form"+l+d),_=Tt(".tc-epo-totals"+l+d);t.isManual=!0,Tt.tcepo.formSubmitEvents[s]=[],Tt.tcepo.errorObject[s]=!1,Tt.tcepo.initialActivation[s]=!1,t.product_id=n,t.product_id_selector=l,t.epo_id=c,t.epo_id_selector=d,t.epoEventId=s,t.noEpoUpdate=!0,t.thisForm=e,t.this_epo_container=p,t.this_totals_container=m,t.this_epo_totals_container=_,it(),o.find(".tm-collapse").tmtoggle(),o.find(".tm-section-link").tmsectionpoplink(),xt(e),yt(e),bt(),lt(e,t),ot(e),dt(i),st(i.find(".tc-lightbox-image").not(".tm-extra-product-options-variations .radio-image")),M(i),U(i),T(i),Tt.tcToolTip(e.find(".tm-tooltip")),Ct(t,e,a),t.noEpoUpdate=!1,a.trigger({type:"tm-epo-update",norules:2}),setTimeout(function(){t.main_cart.trigger({type:"tm-epo-update",epoObject:r,norules:1})},200),$(a,e)}function h(t,e,a,i,o,r,n){var c,l,d,s,p,m=!1,_=!1,f=!1,u=void 0!==a,g=!1,h=0<Tt(".variation_form_section .variations-table").length,v=!1;if((t=Tt(t)).is(".tc-init")&&!n)return!0;if(q=e?t:Tt(I),Dt.trigger("tm-epo-init-start"),u||t.is(".product")&&(g=!0,u=A.find(jt.epoSelector).length),u||"no"!==zt.tm_epo_enable_final_total_box_all||t.is(".tm-no-options-composite")){g&&(Dt.trigger("tm-epo-init-no-options"),!t.is(".product")||t.is(".tm-no-options-pxq")||t.is(".tm-no-options-composite")||(t=A)),a||(g=t.find(jt.addToCartSelector).last(),a=(a=0<g.length?g.val():(g=Tt(".tc-totals-form.tm-totals-form-main")).attr("data-product-id"))||""),i||(i=parseInt(t.find("input.tm-epo-counter").last().val(),10),Number.isFinite(i)||(i="")),l=Tt(".tc-extra-product-options"+(g=".tm-product-id-"+a)+(y="[data-epo-id='"+i+"']")),x=Tt(".tc-totals-form"+g+y),d=Tt(".tc-epo-totals"+g+y),p=t.find(".variations_form").not(".composite_component .variations_form").first(),c="p"+a+"e"+i,p&&p.attr("data-product_id")&&p.attr("data-product_id")!==a&&(p=t.find(".variations_form[data-product_id='"+a+"']")),0===(m=W(t,t,"form",a)).length&&(t.is(".tc-shortcode-wrap")?m=W(x,x,".tc-totals-form",a):t.is(".tc-epo-element-product-container")&&(0===(m=t.find(jt.associatedEpoCart)).length&&0===(m=l.parent(jt.associatedEpoSelector)).length&&(m=t.find(".tc-epo-element-product-container-right")),v=!0)),v&&0===p.length&&t.is(".variations_form")&&(p=t),Tt.tcepo.formSubmitEvents[c]=[],Tt.tcepo.errorObject[c]=!1,Tt.tcepo.initialActivation[c]=!1,0<m.find(jt.epoSelector).length&&(_=!0),(f=0<m.find(".tc-totals-form").length?!0:f)||(Tt.tcepo.formSubmitEvents[c][Tt.tcepo.formSubmitEvents[c].length]={trigger:function(){return!0},on_true:function(){var t=Tt(".tc-totals-form.tm-product-id-"+a+"[data-epo-id='"+i+"']").tcClone(),e=Tt('<div class="tm-hidden tm-formepo-normal"></div>');return m.find(".tm-formepo-normal").remove(),e.append(t),m.append(e),!0},on_false:function(){setTimeout(function(){Tt(".tm-formepo-normal").remove()},100)}}),_||(Tt.tcepo.formSubmitEvents[c][Tt.tcepo.formSubmitEvents[c].length]={trigger:function(){return!0},on_true:function(){var t=Tt(jt.epoSelector+".tm-product-id-"+a+"[data-epo-id='"+i+"']").tcClone().addClass("formepo"),e=Tt('<div class="tm-hidden tm-formepo"></div>');return m.find(".tm-formepo").remove(),e.append(t),m.append(e),!0},on_false:function(){setTimeout(function(){Tt(".tm-formepo").remove()},100)}}),s={main_product:t,main_cart:m,epo_id:i,form:Z(t),main_epo_inside_form:_,product_id_selector:g,epo_id_selector:y,product_id:a,this_epo_container:l,this_totals_container:x,this_epo_totals_container:d,qtySelector:jt.qtySelector,manualInitEPO:Pt,epoEventId:c,variations_form:p,has_epo:u,is_quickview:e,is_associated:v,is_epo_shortcode:l.is(".tc-shortcode"),mainEpoObject:r,associated_connect:o,noEpoUpdate:!0},Tt(s.form).data("epo_object",s),m.data("product_id",a).data("epo_id",i).data("product_id_selector",g).data("epo_id_selector",y),_=(f=s).this_epo_container,x=f.main_product,f=f.epoEventId,u=_.find(".tm-limit"),r=_.find(".tm-exactlimit"),o=_.find(".tm-minimumlimit"),_.on("change.cpflimit","input.tm-epo-field.tmcp-checkbox",function(){var t=Tt(this);G(t,!0),V(t,!0)}),u.length&&Y(u,x,f),r.length&&K(r,x,f),o.length&&tt(o,f),y=(g=s).epoEventId,b=g.this_epo_container,"yes"===zt.tm_epo_upload_popup&&(Tt.tcepo.formSubmitEvents[y][Tt.tcepo.formSubmitEvents[y].length]={trigger:function(){return!0},on_true:function(){var t,e,a=b.data("num_uploads");return a&&Object.keys(a).length&&(t=Tt.tcFloatBox({fps:1,ismodal:!0,refresh:"fixed",width:"50%",height:"300px",classname:"flasho tc-wrapper",data:Tt.epoAPI.template.html(jt.templateEngine.tc_upload_messages,{files:a,title:zt.i18n_uploading_files,message:zt.i18n_uploading_message})}),e=function(){t.destroy(),E.off("ajaxSuccess",e)},E.on("ajaxSuccess",e)),!0},on_false:function(){return!0}}),xt(l),yt(l),bt(),lt(l,s),E.on("click.cpfurl change.cpfurl tmredirect",".tc-url-container .tmcp-radio, .tc-url-container .tmcp-radio+label",function(t){var e=Tt(this).attr("data-url");e&&I.location!==e&&(t.preventDefault(),I.location=e)}),E.on("change.cpfurl tmredirect",".tc-url-container .tmcp-select",function(t){var e=Tt(this).children("option:selected").attr("data-url");e&&I.location!==e&&(t.preventDefault(),I.location=e)}),Tt.tcToolTip(l.find(".tm-tooltip")),l.find(".tm-collapse").tmtoggle(),l.find(".tm-section-link").tmsectionpoplink(),n&&l.addClass("reactivate"),0<p.length?(n&&p.data("epo_loaded",!1),d.data("price",!1),(h?function t(e){var a=requestAnimationFrame(function(){t(e)}),i=e.variations_form,o=i.data("bound"),r=e.is_associated?"tc_variation_form.cpf":"wc_variation_form.cpf";o&&(cancelAnimationFrame(a),It(e),i.trigger(r))}:It)(s)):(setTimeout(function(){M(l),U(l),T(l),Tt.tcepo.lateFieldsPrices[c]=[],Ct(s),mt(s),vt(s),Dt.trigger("epo-after-init-in-timeout",{epo:s}),m.trigger("tm-epo-check-dpd"),s.noEpoUpdate=!1,m.trigger({type:"tm-epo-update",rules:"init"})},20),Dt.trigger("epo-after-init",{epo:s})),it(),ot(l),dt(l),st(l.find(".tc-lightbox-image").not(".tm-extra-product-options-variations .radio-image"));var y,b,w,x,k,F,_=s,C=_.this_epo_container;if(_=zt.theme_name){switch(_=_.toLowerCase(),k=C.find("select"),_){case"flatsome":case"flatsome-child":case"flatsome child":k.wrap('<div class="custom select-wrapper"/>');break;case"avada":case"avada-child":case"avada child":k.wrap('<div class="avada-select-parent tm-select-parent"></div>'),Tt('<div class="select-arrow">&#xe61f;</div>').appendTo(C.find(".tm-select-parent")),I.calc_select_arrow_dimensions?(I.calc_select_arrow_dimensions(),Dt.on("tmsectionpoplink cpflogicdone",function(){I.calc_select_arrow_dimensions()})):I.calcSelectArrowDimensions&&(I.calcSelectArrowDimensions(),Dt.on("tmsectionpoplink cpflogicdone",function(){I.calcSelectArrowDimensions()}));break;case"bazar":case"bazar-child":case"bazar child":k.wrap('<div class="tm-select-wrapper select-wrapper"/>');break;case"blaszok":case"blaszok-child":case"blaszok child":F=function(){setTimeout(function(){Tt(".tm-extra-product-options select").not(".hasCustomSelect").filter(":visible").each(function(){Tt(this).is(".mpcthSelect")||(Tt(this).width(Tt(this).outerWidth()),Tt(this).customSelect({customClass:"mpcthSelect"}))})},100)},Dt.on("cpflogicrun",function(){F()}),Dt.on("epo_options_visible",function(){F()});break;case"handmade":case"handmade child theme":Tt(".tm-owl-slider.tcowl-carousel").addClass("manual")}Dt.trigger("tm-theme-specific-actions",{epo:{theme_name:_,all_epo_selects:k}})}return E.off("click.cpf",".quantity:not(.buttons_added) .minus, .quantity:not(.buttons_added) .plus").on("click.cpf",".quantity:not(.buttons_added) .minus, .quantity:not(.buttons_added) .plus",function(){Tt(this).closest(".quantity").find(jt.qtySelector).trigger("change.cpf")}),u=s,Dt.trigger("tm-epo-compatibility",{epo:u}),v||(r=d,x=m,Tt.tcFloatingTotalsBox(r,e,x),o=(w=s).form,f=w.epoEventId,Dt.trigger("tm-from-submit",{epo:w,functions:{tm_apply_validation:Ft,apply_submit_events:kt}}),!Ft(w)&&Tt.tcepo.formSubmitEvents[f].length&&o.on("submit",function(){kt(w)}),Xt(t,s,Tt.tcepo.oneOptionIsSelected[c],s)),Dt.trigger("tm-epo-init-end",{epo:s}),s}Dt.trigger("tm-epo-init-end-no-options")}function At(){var t,e;"no"===zt.tm_epo_no_lazy_load&&Tt.extend(Tt.lazyLoadXT,{autoInit:!1,selector:"img.tmlazy",srcAttr:"data-original",visibleOnly:!1,updateEvent:Tt.lazyLoadXT.updateEvent+" tmlazy"}),0<(t=Tt(".tm-no-options-pxq, .tm-no-options-composite")).length&&t.each(function(t,e){h(Tt(e),!1)}),setTimeout(function(){try{0<(e=Tt(jt.epoSelector).not(jt.associatedEpoSelector+" "+jt.epoSelector+", .tm-no-options-pxq, .tm-no-options-composite, .wc-product-table "+jt.epoSelector)).length&&e.each(function(){var t=Tt(this),e=t.attr("data-product-id"),a=t.attr("data-epo-id"),i=!1,o=!1,r=t.closest(".tc-after-shop-loop.tm-has-options");0===r.length?0===(r=Tt(jt.tcAddToCartSelector+"[data-epo-id='"+a+"'][value='"+e+"']").closest("form,.cart").first().parent()).length&&0===(r=Tt(jt.addToCartSelector+"[value='"+e+"']").closest("form,.cart").first().parent()).length&&0===(r=t.closest("form,.cart").first().parent(".tm-has-options")).length&&(t.is(".tc-shortcode")&&(r=t.wrap('<div class="tc-shortcode-wrap tc-wrap-'+a+'"></div>'),r=t.parent()),0<r.length&&(o=!0)):o=!0,0<r.length&&(o&&(i=!0,t.closest("form,.cart").first().append(Tt('<input name="add-to-cart" value="'+e+'" type="hidden">')),t.closest("form,.cart").first().append(Tt('<input type="hidden" value="" class="variation_id" name="variation_id">'))),h(r=r.is("form")?r.parent():r,i,e,a))})}catch(t){I.console.log(t),b=t}},1)}zt&&e&&(Tt.fn.val=function(){var t=r.apply(this,arguments);return 0<arguments.length&&Tt(this).is(".input-text.qty")&&Tt(this).trigger("change.cpf"),t},"no"===zt.tm_epo_no_lazy_load&&Tt.lazyLoadXT&&Tt.extend(Tt.lazyLoadXT,{autoInit:!1,updateEvent:Tt.lazyLoadXT.updateEvent+" tmlazy"}),jt.localInputDecimalSeparator=""===zt.tm_epo_global_input_decimal_separator?zt.currency_format_decimal_sep:Tt.epoAPI.locale.getSystemDecimalSeparator(),jt.localDecimalSeparator=""===zt.tm_epo_global_displayed_decimal_separator?zt.currency_format_decimal_sep:Tt.epoAPI.locale.getSystemDecimalSeparator(),jt.localThousandSeparator=""===zt.tm_epo_global_displayed_decimal_separator?zt.currency_format_thousand_sep:Tt.epoAPI.locale.getSystemDecimalSeparator(),jt.epoDelay=zt.tm_epo_start_animation_delay||I.tc_epo_delay||500,jt.epoAnimationDelay=zt.tm_epo_animation_delay?zt.tm_epo_start_animation_delay:I.tc_epo_animation_delay||500,jt.getElementFromFieldCache=[],jt.epoSelector=".tc-extra-product-options",jt.associatedEpoSelector=".tc-extra-product-options-inline",jt.associatedEpoCart=".tc-epo-element-product-container-cart",jt.addToCartSelector="input[name='add-to-cart']",jt.tcAddToCartSelector="input.tc-add-to-cart",jt.qtySelector="input.qty,input[name='quantity'],select.qty,.drop-down-button #qty,.plus-minus-button #qty,.slider-input #amount",jt.associateQtySelector="input.tm-qty-alt",jt.addToCartButtonSelector=".add_to_cart_button, .single_add_to_cart_button",jt.compositeSelector=".bto_item,.component",jt.nativeProductPriceSelector=".woocommerce .product p.price",jt.associatedNativeProductPriceSelector=".product-price span.price",jt.templateEngine=Tt.epoAPI.applyFilter("tc_adjust_templateEngine",{price:e.template("tc-price"),sale_price:e.template("tc-sale-price"),tc_chars_remanining:e.template("tc-chars-remanining"),tc_final_totals:e.template("tc-final-totals"),tc_floating_box:e.template("tc-floating-box"),tc_floating_box_nks:e.template("tc-floating-box-nks"),tc_formatted_price:e.template("tc-formatted-price"),tc_formatted_sale_price:e.template("tc-formatted-sale-price"),tc_lightbox:e.template("tc-lightbox"),tc_lightbox_zoom:e.template("tc-lightbox-zoom"),tc_section_pop_link:e.template("tc-section-pop-link"),tc_upload_messages:e.template("tc-upload-messages")}),Tt.tcAPI=function(){return jt},Tt.tcAPIGet=function(t){return jt[t]},Tt.tcAPISet=function(t,e){jt[t]=e},Tt.tc_validator&&(Tt.extend(Tt.tc_validator.messages,{required:zt.tm_epo_global_validator_messages.required,email:zt.tm_epo_global_validator_messages.email,url:zt.tm_epo_global_validator_messages.url,number:zt.tm_epo_global_validator_messages.number,digits:zt.tm_epo_global_validator_messages.digits,maxlengthsingle:Tt.tc_validator.format(zt.tm_epo_global_validator_messages.maxlengthsingle),maxlength:Tt.tc_validator.format(zt.tm_epo_global_validator_messages.maxlength),minlengthsingle:Tt.tc_validator.format(zt.tm_epo_global_validator_messages.minlengthsingle),minlength:Tt.tc_validator.format(zt.tm_epo_global_validator_messages.minlength),max:Tt.tc_validator.format(zt.tm_epo_global_validator_messages.max),min:Tt.tc_validator.format(zt.tm_epo_global_validator_messages.min),step:Tt.tc_validator.format(zt.tm_epo_global_validator_messages.step),lettersonly:Tt.tc_validator.format(zt.tm_epo_global_validator_messages.lettersonly),lettersspaceonly:Tt.tc_validator.format(zt.tm_epo_global_validator_messages.lettersspaceonly),alphanumeric:Tt.tc_validator.format(zt.tm_epo_global_validator_messages.alphanumeric),alphanumericunicode:Tt.tc_validator.format(zt.tm_epo_global_validator_messages.alphanumericunicode),alphanumericunicodespace:Tt.tc_validator.format(zt.tm_epo_global_validator_messages.alphanumericunicodespace),repeaterminrows:Tt.tc_validator.format(zt.tm_epo_global_validator_messages.repeaterminrows),repeatermaxrows:Tt.tc_validator.format(zt.tm_epo_global_validator_messages.repeatermaxrows)}),Tt.tc_validator.addMethod("alphanumeric",function(t,e){return this.optional(e)||/^[a-zA-Z0-9.-]+$/i.test(t)},Tt.tc_validator.messages.alphanumeric),Tt.tc_validator.addMethod("lettersonly",function(t,e){return this.optional(e)||/^[a-z]+$/i.test(t)},Tt.tc_validator.messages.lettersonly),Tt.tc_validator.addMethod("lettersspaceonly",function(t,e){return this.optional(e)||/^[a-z,\u0020]+$/i.test(t)},Tt.tc_validator.messages.lettersspaceonly),Tt.tc_validator.addMethod("alphanumericunicode",function(t,e){return this.optional(e)||/^[\u0030-\u0039\u0041-\u005A\u0061-\u007A\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u00FF\u0100-\u0148\u014A-\u017F\u0180-\u01BF\u01C4-\u024F\u1E02-\u1EF3\u0370-\u03FF\u0400-\u04FF\u0500-\u052F\u3040-\u309f\u30a0-\u30ff\u4e00-\u9faf\u3400-\u4dbf\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF\u10E60-\u10E7F\u1EC70-\u1ECBF\u1ED00-\u1ED4F\u1EE00-\u1EEFF\u0530-\u1058F]+$/i.test(t)},Tt.tc_validator.messages.alphanumericunicode),Tt.tc_validator.addMethod("alphanumericunicodespace",function(t,e){return this.optional(e)||/^[\u0030-\u0039\u0041-\u005A\u0061-\u007A\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u00FF\u0100-\u0148\u014A-\u017F\u0180-\u01BF\u01C4-\u024F\u1E02-\u1EF3\u0370-\u03FF\u0400-\u04FF\u0500-\u052F\u3040-\u309f\u30a0-\u30ff\u4e00-\u9faf\u3400-\u4dbf\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF\u10E60-\u10E7F\u1EC70-\u1ECBF\u1ED00-\u1ED4F\u1EE00-\u1EEFF\u0530-\u1058F,\u0020]+$/i.test(t)},Tt.tc_validator.messages.alphanumericunicodespace),Tt.tc_validator.addMethod("repeaterminrows",function(t,e,a){return Tt.epoAPI.math.toInt(Tt(e).closest(".tc-element-inner-wrap").find(".tc-repeater-element").length)>=Tt.epoAPI.math.toInt(a)},Tt.tc_validator.messages.repeaterminrows),Tt.tc_validator.addMethod("repeatermaxrows",function(t,e,a){return Tt.epoAPI.math.toInt(Tt(e).closest(".tc-element-inner-wrap").find(".tc-repeater-element").length)<=Tt.epoAPI.math.toInt(a)},Tt.tc_validator.messages.repeatermaxrows),Tt.tc_validator.addMethod("product_element_radio_qty",function(t,e){return 0<Tt(e).closest(".tm-element-ul-product").find("input.tc-epo-field-product.tmcp-radio:checked").closest(".tc-epo-element-product-holder").find(".tm-qty").first().val()},Tt.tc_validator.messages.required),Tt.tc_validator.addMethod("product_element_select_qty",function(t,e){return 0<Tt(e).closest(".tm-element-ul-product").find("select.tc-epo-field-product.tmcp-select").closest(".tc-epo-element-product-holder").find(".tm-qty").first().val()},Tt.tc_validator.messages.required)),Tt.epoAPI.util.escapeSelector=(a=/([!"$%&'()*+,/:;<=>?@[\]^`{|}~])/g,function(t){return t.replace(a,"\\$1")}),Tt.epoAPI.util.unformat=function(t){var t=Tt.epoAPI.math.unformat(t,jt.localInputDecimalSeparator),e=parseFloat(t);return Number.isFinite(e)?e:t},Tt.epoAPI.util.parseParams=function(t,a){return"string"!=typeof t||void 0===t.split?[]:t.split("&").map(function(t){var e={};return 1<(t=(t=!0===a?decodeURIComponent(t.replace(/\+/g,"%20")):t).split("=").map(function(t){var e=t.split("?");return 1<e.length?e[1]:t})).length&&(e[t[0]]=t[1]),e}).filter(function(t){return null!==t}).reduce(function(t,e){return Object.assign({},t,e)},{})},Tt.tmempty||(Tt.tmempty=function(e){var t=1===[void 0,null,!1,0,"","0"].filter(function(t){return e===t}).length,a=!1;return"object"==typeof e?0===Object.keys(e).filter(function(t){return Object.prototype.hasOwnProperty.call(e,t)}).length:t||a}),Tt.tmType||(Tt.tmType=function(t){return Object.prototype.toString.call(t).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}),Tt.is_on_screen||(Tt.fn.is_on_screen=function(){var t=Tt(I),e=Tt.epoAPI.dom.scroll(),a=this.offset(),e={top:e.top,left:e.left};return e.right=e.left+t.width(),e.bottom=e.top+t.height(),a.right=a.left+this.outerWidth(),a.bottom=a.top+this.outerHeight(),!(e.right<a.left||e.left>a.right||e.bottom<a.top||e.top>a.bottom)}),Tt().tmtoggle||(Tt.fn.tmtoggle=function(){var t=this,e=!1,r=0;if(0!==t.length)return void 0===I.tc_accordion_offset&&(I.tc_accordion_offset=-100),t.each(function(){var t,a,i,o=Tt(this);o.data("tm-toggle-init")||(o.data("tm-toggle-init",1),t=o.find(".tm-toggle"),a=o.find(".tm-collapse-wrap"),i=Tt(".tm-collapse.tmaccordion").find(".tm-toggle"),0!==t.length&&0!==a.length&&(a.is(".closed")?(Tt(a).removeClass("closed open").addClass("closed").hide(),Tt(t).find(".tm-arrow").removeClass("tcfa-angle-down tcfa-angle-up").addClass("tcfa-angle-down"),Tt(t).removeClass("toggle-header-open toggle-header-closed").addClass("toggle-header-closed")):(Tt(a).removeClass("closed open").addClass("open").show(),Tt(t).find(".tm-arrow").removeClass("tcfa-angle-down tcfa-angle-up").addClass("tcfa-angle-up"),Tt(t).removeClass("toggle-header-open toggle-header-closed").addClass("toggle-header-open"),e=!0),t.each(function(t,e){Tt(e).on("closewrap.tmtoggle",function(){o.is(".tmaccordion")&&Tt(a).is(".closed")||(Tt(a).removeClass("closed open").addClass("closed"),Tt(this).find(".tm-arrow").removeClass("tcfa-angle-down tcfa-angle-up").addClass("tcfa-angle-down"),Tt(this).removeClass("toggle-header-open toggle-header-closed").addClass("toggle-header-closed"),Tt(a).removeClass("tm-animated fadein"),o.is(".tmaccordion"),Tt(a).animate({height:"toggle"},100,function(){Tt(a).hide()}),Dt.trigger("tmlazy"))}),Tt(e).on("openwrap.tmtoggle",function(){o.is(".tmaccordion")&&Tt(i).not(Tt(this)).trigger("closewrap.tmtoggle"),Tt(a).removeClass("closed open").addClass("open"),Tt(this).find(".tm-arrow").removeClass("tcfa-angle-down tcfa-angle-up").addClass("tcfa-angle-up"),Tt(this).removeClass("toggle-header-open toggle-header-closed").addClass("toggle-header-open"),Tt(a).show().removeClass("tm-animated fadein").addClass("tm-animated fadein"),setTimeout(function(){Dt.trigger("tmlazy")},200),setTimeout(function(){r&&o.is(".tmaccordion")&&!o.is_on_screen()&&Dt.tcScrollTo(Tt(e),10,I.tc_accordion_offset)},110)}),Tt(e).on("click.tmtoggle",function(t){t.preventDefault(),Tt(a).is(".closed")?Tt(this).trigger("openwrap.tmtoggle"):Tt(this).trigger("closewrap.tmtoggle")}),Tt(e).find(".tm-qty").closest(".cpf-element").find(".tm-epo-field").on("change.cpf",function(){Tt(e).trigger("openwrap.tmtoggle")})})))}),void 0===I.tc_accordion_closed_on_page_load&&!e&&0<t.filter(".tmaccordion").length&&t.filter(".tmaccordion").first().find(".tm-toggle").trigger("openwrap.tmtoggle"),r=1,t}),Tt().tmpoplink||(Tt.fn.tmpoplink=function(){var o;if(0!==this.length)return o=function(t){return Tt.epoAPI.template.html(e.template("tc-cart-options-popup"),{title:t.title,id:t.id,html:t.html,close:zt.i18n_close})},this.each(function(){var t,e,a,i=Tt(this);i.is(".tc-poplink")||(i.addClass("tc-poplink"),e=Tt(this).attr("href"),t=Tt(this).attr("data-title"),e=Tt(e).html(),t=t||zt.i18n_addition_options,a=o({id:"tc-floatbox-content",html:e,title:t}),i.on("click.tmpoplink",function(t){Tt.tcFloatBox({fps:1,ismodal:!1,refresh:100,width:"80%",height:"80%",classname:"flasho tc-wrapper",data:a}),t.preventDefault()}))})}),(o=function(t,e,a){return this.this_epo_totals_container=t,this.is_quickview=e,this.main_cart=a,!(e||!zt.floating_totals_box||"disable"===zt.floating_totals_box||!a||!t.length)&&(this.init(),this)}).prototype={constructor:o,onUpdate:function(){var t,e=this.this_epo_totals_container.data("tm-html"),a=this.this_epo_totals_container.data("tm-floating-box-data"),i=[];a&&a.length&&Tt.each(a,function(t,e){""===e.title&&(e.title="&nbsp;"),""===e.value&&(e.value="&nbsp;"),e.title?(e.title=Tt("<div>"+e.title+"</div>"),e.title.find("span").remove(),e.title=e.title.html()):e.title="&nbsp;",this.is_nks&&(""!==e.label_show&&(e.title=""),""!==e.value_show&&(e.value="")),"yes"===zt.tm_epo_auto_hide_price_if_zero&&!0===Tt.tmempty(e.price)?e.price="":e.price=Lt(e.price,this.this_epo_totals_container,!0,!1),i.push({label_show:e.label_show,value_show:e.value_show,title:e.title,value:e.value,quantity:e.quantity,price:e.price})}),e&&""!==e||this.is_nks||(e="",this.floatingBox.hide()),i&&!i.length&&i.push({label_show:"hidden",value_show:"hidden",title:"",value:"",quantity:0,price:0}),a=Tt.epoAPI.template.html(this.engineTemplate,{html_before:zt.floating_totals_box_html_before,html_after:zt.floating_totals_box_html_after,option_label:zt.i18n_option_label,option_value:zt.i18n_option_value,option_qty:zt.i18n_option_qty,option_price:zt.i18n_option_price,values:i,totals:e}),this.floatingBox.html(a),this.onUpdateScroll(),"yes"===zt.floating_totals_box_add_button&&(t=this.main_cart.find(jt.addToCartButtonSelector).first()).tcClone().addClass("tc-add-to-cart-button").on("click",function(){t.trigger("click")}).appendTo(this.floatingBox)},onUpdateScroll:function(){"always"===zt.floating_totals_box_visibility?this.floatingBox.show():("hideafterscroll"===zt.floating_totals_box_visibility&&(Dt.scrollTop()>Tt.epoAPI.math.toFloat(zt.floating_totals_box_pixels)&&!this.is_nks_alt?this.floatingBox.is(":hidden")||(!1===this.is_nks?this.floatingBox.fadeOut():this.floatingBox.hide()):!this.floatingBox.is(":hidden")&&!this.is_nks_alt||this.floatingBox.is(":empty")&&!this.is_nks_alt||(!1===this.is_nks?this.floatingBox.fadeIn():this.floatingBox.show())),"afterscroll"===zt.floating_totals_box_visibility&&(Dt.scrollTop()>Tt.epoAPI.math.toFloat(zt.floating_totals_box_pixels)||this.is_nks_alt?this.floatingBox.is(":hidden")&&!this.floatingBox.is(":empty")||this.is_nks_alt?!1===this.is_nks?this.floatingBox.fadeIn():this.floatingBox.show():!this.floatingBox.is(":hidden")&&this.floatingBox.is(":empty")&&(!1===this.is_nks?this.floatingBox.fadeOut():this.floatingBox.hide()):this.floatingBox.is(":hidden")||(!1===this.is_nks?this.floatingBox.fadeOut():this.floatingBox.hide())))},addEvents:function(){this.onUpdate(),this.main_cart.on("tm-epo-after-update",this.onUpdate.bind(this)),!1===this.is_nks&&Dt.on("scroll",this.onUpdateScroll.bind(this))},init:function(){this.floatingBox=Tt('<div class="tm-floating-box '+zt.floating_totals_box+'"></div>'),this.nks_selector=Tt(".tm-floating-box-nks").first(),this.alt_selector=Tt(".tm-floating-box-alt").first(),this.engineTemplate=jt.templateEngine.tc_floating_box,this.is_nks=!1,this.is_nks_alt=!1,0<this.nks_selector.length?(this.is_nks=!0,this.floatingBox.removeClass("top left right bottom").appendTo(this.nks_selector).show()):(0<this.alt_selector.length?this.floatingBox.removeClass("top left right bottom").appendTo(this.alt_selector):this.floatingBox.appendTo("body")).hide(),(0<this.nks_selector.length||0<this.alt_selector.length)&&(this.is_nks_alt=!0,this.engineTemplate=jt.templateEngine.tc_floating_box_nks),this.addEvents()}},Tt.tcFloatingTotalsBox=function(t,e,a){var i=!1;return t&&t.length&&void 0===t.data("tcfloatingtotalsbox")&&(i=new o(t,e,a),t.data("tcfloatingtotalsbox",i)),i},Tt.tc_product_image={},Tt.tc_product_image_store={},Tt.tc_replace_object_values=function(a,i){return Object.keys(a).forEach(function(e){Object.keys(a[e]).forEach(function(t){void 0!==i[e]&&void 0!==i[e][t]&&Object.prototype.hasOwnProperty.call(i[e],t)&&(a[e][t]=i[e][t])})}),a},Tt.tc_maybe_copy_object_values=function(a,i){return Object.keys(i).forEach(function(e){Object.keys(i[e]).forEach(function(t){void 0===i[e]||!Object.prototype.hasOwnProperty.call(i[e],t)||void 0===i[e][t]||void 0!==a[e]&&void 0!==a[e][t]||(void 0===a[e]&&(a[e]={}),a[e][t]=i[e][t])})}),a},Tt.tc_pre_populate_store=function(){var t={0:{},1:{},2:{},3:{}};return t[0].src="",t[0].srcset="",t[0].sizes="",t[0].title="",t[0].alt="",t[0]["data-src"]="",t[0]["data-large_image"]="",t[0]["data-large_image_width"]="",t[0]["data-large_image_height"]="",t[1]["data-thumb"]="",t[2].src="",t[3].href="",t[3].title="",t},Tt.tc_populate_store=function(t,e){var a=e.find(".flex-control-nav li:eq(0) img"),e=e.find(".woocommerce-product-gallery__wrapper ").find(".woocommerce-product-gallery__image, .woocommerce-product-gallery__image--placeholder").eq(0),i=t,t=t.closest("a"),o={0:{},1:{},2:{},3:{}};return o[0].src=i.attr("src"),o[0].srcset=i.attr("srcset"),o[0].sizes=i.attr("sizes"),o[0].title=i.attr("title"),o[0].alt=i.attr("alt"),o[0]["data-src"]=i.attr("data-src"),o[0]["data-large_image"]=i.attr("data-large_image"),o[0]["data-large_image_width"]=i.attr("data-large_image_width"),o[0]["data-large_image_height"]=i.attr("data-large_image_height"),o[1]["data-thumb"]=e.attr("data-thumb"),o[2].src=a.attr("src"),o[3].href=t.attr("href"),o[3].title=t.attr("title"),o},Tt.tc_maybe_copy_object_values_from_img=function(a,t,e){var i,o,r=e.find(".flex-control-nav li:eq(0) img"),e=e.find(".woocommerce-product-gallery__wrapper ").find(".woocommerce-product-gallery__image, .woocommerce-product-gallery__image--placeholder").eq(0),n=t,t=t.closest("a"),c=[["src","srcset","sizes","title","alt","data-src","data-large_image","data-large_image_width","data-large_image_height","large-image"],["data-thumb"],["src"],["href","title"]];return[n,e,r,t].forEach(function(t,e){void 0!==t&&void 0!==t[0]&&(i=t[0].attributes,Tt.each(i,function(){this.specified&&(o=this.name,-1!==Tt.inArray(o,c[e])&&(void 0===a[e]||void 0!==a[e]&&void 0===a[e][o])&&(void 0===a[e]&&(a[e]={}),a[e][o]=this.value))}))}),a},Tt.fn.tc_set_attr=function(t,e,a){(void 0===Tt.tc_product_image[a=void 0===a?0:a]||void 0!==Tt.tc_product_image[a]&&void 0===Tt.tc_product_image[a][t])&&(void 0===Tt.tc_product_image[a]&&(Tt.tc_product_image[a]={}),Tt.tc_product_image[a][t]="",this.attr(t)&&(Tt.tc_product_image[a][t]=this.attr(t))),!1===e?this.removeAttr(t):this.attr(t,e)},Tt.fn.tc_reset_attr=function(t,e){void 0!==Tt.tc_product_image[e=void 0===e?0:e]&&(void 0!==Tt.tc_product_image[e][t]&&this.attr(t,Tt.tc_product_image[e][t]),delete Tt.tc_product_image[e][t])},Tt.fn.tc_update_attr=function(t,e){void 0!==Tt.tc_product_image[e=void 0===e?0:e]&&(Tt.tc_product_image[e][t]=this.attr(t))},Tt.fn.tc_image_update=function(t,e){var a,t=Tt(t),e=Tt(e),i=this.data("epo_object"),o=i.main_product.closest("#product-"+i.product_id),r=o;o.length<=0&&(r=i.main_product.closest(".post-"+i.product_id)),o=(t=t.is("select")?t.children("option:selected"):t).data("image-variations"),a=(i=""!==zt.tm_epo_global_product_image_selector?Tt(zt.tm_epo_global_product_image_selector):r.find("a.woocommerce-main-image img, img.woocommerce-main-image,a img").not(".thumbnails img,.product_list_widget img,img.emoji,a.woocommerce-product-gallery__trigger img").first()).closest("a"),1<i.length&&(i=i.first()),t&&o&&0<e.length?(e.removeAttr("data-o_src").removeAttr("data-o_title").removeAttr("data-o_alt").removeAttr("data-o_srcset").removeAttr("data-o_sizes").removeAttr("srcset").removeAttr("sizes"),t=o.imagep,o.imagep.image_link||(t=o.image),e.attr("title",t.image_title),e.attr("alt",t.image_alt),t.image_srcset&&e.attr("srcset",t.image_srcset),t.image_sizes&&e.attr("sizes",t.image_sizes),i.tc_set_attr("title",t.image_title),i.tc_set_attr("alt",t.image_alt),i.tc_set_attr("data-large-image",t.image_link),i.data.wc27_zoom_target&&(i.data.wc27_zoom_target.tc_set_attr("data-thumb",t.image_link),r.find(".flex-control-nav li:eq(0) img").tc_set_attr("src",t.image_link)),a.tc_set_attr("href",t.image_link),a.tc_set_attr("title",t.image_caption)):(i.tc_reset_attr("title"),i.tc_reset_attr("alt"),i.tc_reset_attr("data-large-image"),i.data.wc27_zoom_target&&(i.data.wc27_zoom_target.tc_reset_attr("data-thumb"),r.find(".flex-control-nav li:eq(0) img").tc_reset_attr("src")),a.tc_reset_attr("href"),a.tc_reset_attr("title"))},Tt.fn.tm_find_matching_variations=function(t,e){var a,i,o=[];if(t)for(a=0;a<t.length;a+=1)i=t[a],Tt.fn.tm_variations_match(i.attributes,e)&&o.push(i);return o},Tt.fn.tm_variations_match=function(e,a){var i,o,r=!0;return Object.keys(e).forEach(function(t){Object.prototype.hasOwnProperty.call(e,t)&&(i=e[t],o=a[t],void 0!==i&&void 0!==o&&0!==i.length&&0!==o.length&&i!==o&&(r=!1))}),r},Tt().tclightbox||(Tt.fn.tclightbox=function(){if(0!==this.length)return this.each(function(){var a,t,e,i,o=Tt(this);o.is(".tcinit")||(a=o.attr("src")||o.attr("data-original"),t=(t=o.closest("label")).closest(".tmcp-field-wrap").find(".tm-epo-field[id='"+t.attr("for")+"']"),(a=t.attr("data-imagel")||t.attr("data-imagep")||t.attr("data-image")||a)&&(o.addClass("tcinit").before(Tt.epoAPI.template.html(jt.templateEngine.tc_lightbox,{})),t=o.prev(),o.wrap("<div class='tc-lightbox-image-wrap'/>"),o.after(t),e=t.find(".tc-lightbox-button"),i=function(){e.addClass("tcinit").on("click.tclightbox",function(t){var e;0<Tt(".tc-closing.tc-lightbox").length||(e=Tt.epoAPI.dom.size(),e=Tt("<img>").addClass("tc-lightbox-img").attr("src",a).css("maxHeight",e.visibleHeight+"px").css("maxWidth",e.visibleWidth+"px"),Tt.tcFloatBox({fps:1,ismodal:!1,refresh:"fixed",width:"auto",height:"auto",top:"0%",left:"0%",classname:"flasho tc-lightbox",animateIn:"tc-lightbox-zoomin",animateOut:"tc-lightbox-zoomout",data:Tt.epoAPI.template.html(jt.templateEngine.tc_lightbox_zoom,{img:e[0].outerHTML}),zIndex:102001,cancelClass:".tc-lightbox-img, .tc-lightbox-button-close",unique:!0}),t.preventDefault())})},"yes"===zt.tm_epo_preload_lightbox_image?((o=new Image).src=a,o.onload=function(){i()}):i()))})}),Tt().tmsectionpoplink||(Tt.fn.tmsectionpoplink=function(){if(0!==this.length)return this.each(function(){var t,e,a,i,o,r,n=Tt(this);n.data("tmsectionpoplink")||(n.data("tmsectionpoplink",!0),t=n.attr("data-sectionid"),e=zt.i18n_addition_options,a=n.closest(".cpf-section[data-uniqid='"+t+"']"),i=!1,o=Tt('<div class="fl-overlay"></div>').css({zIndex:parseInt(n.zIndex,10)-1,opacity:.8}),r=function(){var t=Tt("#tm-section-pop-up");t.parents().removeClass("noanimated"),o.unbind().remove(),t.after(a),t.remove(),a.find(".tm-section-link").show(),a.find(".tm-section-pop").hide()},n.attr("data-title")&&(e=n.attr("data-title")),n.on("click.tmsectionpoplink",function(t){t.preventDefault(),i=!1,o.appendTo("body").on("click",r),a.before(Tt.epoAPI.template.html(jt.templateEngine.tc_section_pop_link,{title:e,close:zt.i18n_close})),(t=Tt("#tm-section-pop-up")).find(".float-editbox").prepend(a),a.find(".tm-section-link").hide(),a.find(".tm-section-pop").show(),t.parents().addClass("noanimated"),t.find(".floatbox-cancel").on("click",function(){i||(i=!0,r())}),Dt.trigger("tmlazy"),Dt.trigger("tmsectionpoplink")}))})}),Tt().cpfdependson||(Tt.fn.cpfdependson=function(a,i,o,c){var r=0;if(0!==this.length&&"object"==typeof a)return i=i||"show",o=o||"all",Tt.each(a,function(t,e){var n;if("object"!=typeof a)return!0;(e=function(t){var e,a,i=Tt(t);if(0!==i.length){if(i.is(".cpf-section"))return t.find(".tm-epo-field");if(e=i.attr("data-uniqid"),a=(t=i.closest(".tc-extra-product-options")).attr("data-epo-id"),!t.is(".reactivate")&&jt.getElementFromFieldCache&&jt.getElementFromFieldCache[a]&&jt.getElementFromFieldCache[a][e])return jt.getElementFromFieldCache[a][e];if(0<(t=i.attr("class").split(" ").map(function(t){return-1!==t.indexOf("cpf-type-",0)?t:null}).filter(function(t){return null!=t?t:null})).length)switch(t="cpf-type-product"===(t=t[0])?i.is(".cpf-type-product-mode-product")||i.is(".cpf-type-product-checkbox")||i.is(".cpf-type-product-thumbnailmultiple")?"cpf-type-checkbox":i.is(".cpf-type-product-dropdown")?"cpf-type-select":"cpf-type-radio":t){case"cpf-type-radio":return jt.getElementFromFieldCache[a]=[],jt.getElementFromFieldCache[a][e]=i.find(".tm-epo-field.tmcp-radio"),jt.getElementFromFieldCache[a][e];case"cpf-type-checkbox":return jt.getElementFromFieldCache[a]=[],jt.getElementFromFieldCache[a][e]=i.find(".tm-epo-field.tmcp-checkbox"),jt.getElementFromFieldCache[a][e];case"cpf-type-select":return jt.getElementFromFieldCache[a]=[],jt.getElementFromFieldCache[a][e]=i.find(".tm-epo-field.tmcp-select"),jt.getElementFromFieldCache[a][e];case"cpf-type-selectmultiple":return jt.getElementFromFieldCache[a]=[],jt.getElementFromFieldCache[a][e]=i.find(".tm-epo-field.tmcp-selectmultiple"),jt.getElementFromFieldCache[a][e];case"cpf-type-textarea":return jt.getElementFromFieldCache[a]=[],jt.getElementFromFieldCache[a][e]=i.find(".tm-epo-field.tmcp-textarea"),jt.getElementFromFieldCache[a][e];case"cpf-type-textfield":return jt.getElementFromFieldCache[a]=[],jt.getElementFromFieldCache[a][e]=i.find(".tm-epo-field.tmcp-textfield"),jt.getElementFromFieldCache[a][e];case"cpf-type-color":return jt.getElementFromFieldCache[a]=[],jt.getElementFromFieldCache[a][e]=i.find(".tm-epo-field.tm-color-picker"),jt.getElementFromFieldCache[a][e];case"cpf-type-range":return jt.getElementFromFieldCache[a]=[],jt.getElementFromFieldCache[a][e]=i.find(".tm-epo-field.tmcp-range"),jt.getElementFromFieldCache[a][e];case"cpf-type-date":return jt.getElementFromFieldCache[a]=[],jt.getElementFromFieldCache[a][e]=i.find(".tm-epo-field.tmcp-date"),jt.getElementFromFieldCache[a][e];case"cpf-type-time":return jt.getElementFromFieldCache[a]=[],jt.getElementFromFieldCache[a][e]=i.find(".tm-epo-field.tmcp-time"),jt.getElementFromFieldCache[a][e];case"cpf-type-variations":return jt.getElementFromFieldCache[a]=[],jt.getElementFromFieldCache[a][e]=i.closest(".cpf-section").find(".tm-epo-field.tm-epo-variation-element"),jt.getElementFromFieldCache[a][e]}}}(e.element))&&0<e.length&&(e.each(function(t,e){var a,i,o=Tt(e),r="change.cpflogic";n&&!n.closest(".tc-extra-product-options-inline").length||(a=".tm-product-id-"+o.closest(".tc-extra-product-options").attr("data-product-id"),i="[data-epo-id='"+o.closest(".tc-extra-product-options").attr("data-epo-id")+"']",n=Tt(".tc-extra-product-options"+a+i)),e&&0<o.length&&(!o.data("tmhaslogicevents")||c)&&(o.is(".tm-epo-variation-element")?(s("found_variation.tmlogic",!1,function(){T(n),Dt.trigger("tm-do-epo-update")}),s("hide_variation.tmlogic",!1,function(){T(n),Dt.trigger("tm-do-epo-update")})):((o.is(":text")||o.is("textarea"))&&(r="change.cpflogic input.cpflogic"),o.off(r).on(r,function(){T(n)})),o.data("tmhaslogicevents",1))}),r=parseInt(r,10)+1)}),this.each(function(){var t=Tt(this),e=!1;switch(t.data("matches",r).data("toggle",i).data("what",o).data("fields",a),i){case"show":e=!1;break;case"hide":e=!0}e?t.removeClass("tc-hidden"):t.addClass("tc-hidden"),t.data("isactive",e)}),this.addClass("iscpfdependson is-epo-depend").data("iscpfdependson",1),this},Tt.fn.run_cpfdependson=function(){T()}),Tt.tcepo={formSubmitEvents:{},oneOptionIsSelected:{},initialActivation:{},lateFieldsPrices:{},errorObject:{}},Tt.tcepo.tm_init_epo=function(t,e,a,i){h(t,e,a,i)},Tt.tcepo.tmLazyloadContainer=function(t){g=t},Dt.on("tc_manual_init",function(t,e){var a,i,o,r;"container"in e&&"reactivate"in e&&(a=e.reactivate,e=e.container),a=a,i=(e=Tt(e=e)).attr("data-product-id"),o=e.attr("data-epo-id"),h(r=(r=(r=e.parent()).is("form")||(r=e.closest("form")).is("form")?r:e.parent()).parent(),!1,i,o,void 0,void 0,a)}),Tt(function(){jt=Tt.epoAPI.applyFilter("tc_api",jt),Dt.on("lazyLoadXToncomplete",function(){Tt(".tm-owl-slider").each(function(){Tt(this).trigger("refresh.owl.carousel")})}),Dt.on("tc_init_epo_plugin",function(t){At()}),Dt.on("tcShowLastError",function(){I.console.log(b)}),A.on("adding_to_cart",function(t,e,a){I.console.log(a)}),A.on("click.tcajax",".ajax_add_to_cart",function(){var t,e,a,i,o;void 0!==(m=Tt(this)).attr("data-product_id")&&(a=m.closest(".cart").find(".tm-epo-counter").val())&&1===m.closest(".tm-has-options").length&&(o=m.attr("data-product_id"),i={},1===(t=1<(t=Tt(".tc-extra-product-options.tm-product-id-"+o+'[data-epo-id="'+a+'"]')).length?t.filter(".formepo")?t.filter(".formepo"):t.first():t).length&&(e=Tt(".tc-totals-form.tm-product-id-"+o+'[data-epo-id="'+a+'"]').find(".cpf-product-price").val(),a=Tt(".tc-totals-form.tm-product-id-"+o+'[data-epo-id="'+a+'"]').find(".tc_form_prefix").val(),i=Tt.extend(i,{tcajax:1,tcaddtocart:o,cpf_product_price:e}),a&&(i.tc_form_prefix=a)),o=m.data(),o=Tt.extend(o,t.tcSerializeObject(),i),m.removeData(),m.data(o))}),Tt.ajaxPrefilter(function(e,a){var t,i,o,r,n,c,l,d,s,p=!1;if("yes"===zt.tm_epo_enable_in_shop&&(n=e.url.split("?"))&&1<=n.length&&(n=n[1])){for(t=n.split("&"),i=0;i<t.length;i+=1)1<=(o=t[i].split("=")).length&&o[0]&&o[1]&&"wc-ajax"===o[0]&&"add_to_cart"===o[1]&&(p=!0);p&&(e.originalsuccess=e.success,e.success=function(t){t&&t.error&&t.product_url?(m&&1===m.length&&(r=m),(r=Tt(".ajax_add_to_cart[data-product_id='"+a.data.product_id+"']")).removeClass("added"),r.removeClass("loading")):e.originalsuccess.call(null,t)})}FormData&&a.data&&(n=a.data,"string"==typeof a.data&&(n=Tt.epoAPI.util.parseParams(a.data)),c=[],a.url&&a.url.indexOf&&(c=Tt.epoAPI.util.parseParams(a.url.slice(a.url.indexOf("?")+1))),"quantity"in n&&(n.product_id||n["add-to-cart"]||c.product_id||c["add-to-cart"]||n.tcaddtocart)&&(c=n.product_id||n["add-to-cart"]||c.product_id||c["add-to-cart"]||n.tcaddtocart,1===(n=1<(n=m&&1===m.length&&1===m.closest(".tm-has-options").length?m.closest(".tm-has-options").find(".tc-extra-product-options.tm-product-id-"+c):Tt(".tc-extra-product-options.tm-product-id-"+c)).length?n.filter(".formepo")?n.filter(".formepo"):n.first():n).length&&(l={tcajax:1,tcaddtocart:c,cpf_product_price:Tt(".tc-totals-form.tm-product-id-"+c).find(".cpf-product-price").val()},(c=Tt(".tc-totals-form.tm-product-id-"+c).find(".tc_form_prefix").val())&&(l.tc_form_prefix=c),e.data=Tt.epoAPI.util.parseParams(e.data,!0),e.data=Tt.extend(e.data,n.tcSerializeObject(),l),d=e.data,s=new FormData,Object.keys(d).forEach(function(t){s.append(t,d[t])}),n.find(":file").toArray().forEach(function(t){for(i=0;i<Tt(t)[0].files.length;i++)s.append(Tt(t).attr("name"),Tt(t)[0].files[i])}),e.data=s,e.contentType=!1,e.cache=!1,e.processData=!1)))}),E.ajaxSuccess(function(t,e,o){var a,r,n,c,l,d,s,p,m=zt.quickview_array||"null",i=zt.quickview_container||"null",_={},f=1,u=Tt.epoAPI.util.parseParams(o.data);if("wc_epo_get_associated_product_html"!==u.action){for(a in Tt(".tm-formepo-normal").remove(),Tt(".tm-formepo").remove(),Tt(".tm-cart-link").tmpoplink(),m=Tt.epoAPI.util.parseJSON(m),i=Tt.epoAPI.util.parseJSON(i))Object.prototype.hasOwnProperty.call(i,a)&&(_[i[a][0]]=Tt(i[a][1]));Tt.extend(m,_),s=function(){var e=!1;return Object.keys(m).forEach(function(t){Tt(m[t]).length&&(e=t)}),e},(p=function(t){var e,a=requestAnimationFrame(function(){setTimeout(function(){p(t-1)},200)}),i=s();if((i||0===t)&&(cancelAnimationFrame(a),i)){if(l=!1,r=Tt(m[i]),"woothemes_quick_view"===i&&r.is(".fusion-woocommerce-quick-view-container"))return!0;if("fusion_quick_view_load"===i&&0===r.find(jt.epoSelector).length)return!0;if("woodmart_quick_shop"===i&&"woodmart_quick_shop"===(u=Tt.epoAPI.util.parseParams(o.url)).action&&(d=Tt(Tt.epoAPI.util.escapeSelector(m[i]+".post-"+u.id))).length&&(r=d,l=!0),"woodmart_quick_view"===i&&"woodmart_quick_view"===(u=Tt.epoAPI.util.parseParams(o.url)).action&&(d=Tt(Tt.epoAPI.util.escapeSelector(m[i]+".post-"+u.id))).length&&(r=d,l=!0),"quickview_pro"===i&&(u=o.url.split("/")).length&&(d=Tt(Tt.epoAPI.util.escapeSelector(m[i]+" .post-"+u[u.length-1]))).length&&(r=d,l=!0),"exwoofood_booking_info"!==i&&"wqv_popup_content"!==i&&"wp_food"!==i&&"jet_popup_get_content"!==i||(l=!0),"woofood"===i&&o.data&&"woofood_quickview_ajax"===(u=Tt.epoAPI.util.parseParams(o.data)).action&&(d=r.find("form").parent()).length&&(r=d,l=!0),0===r.find(".product").length&&r.is(".product")&&(l=!0),0<r.find(".product").length||l){if(r.removeClass("tc-init"),"fusion_quick_view_load"!==i&&"jet_popup_get_content"!==i&&"wp_food"!==i&&"woodmart_quick_shop"!==i&&"woodmart_quick_view"!==i&&"lightboxpro"!==i&&"jckqv_quick_view"!==i&&"yith_quick_view"!==i&&"theme_flatsome"!==i||(v=!0),0===(e=(g=r).find(jt.epoSelector)).length)return delete m[i],p(10),!0;"fusion_quick_view_load"===i&&(f=1400),setTimeout(function(){n=e.attr("data-product-id"),c=e.attr("data-epo-id"),"woodmart_quick_shop"===i&&r.addClass("has-options"),jt.getElementFromFieldCache=[],h(g,!0,n,c),Dt.trigger("tmlazy"),Dt.trigger("tm_epo_loaded_quickview"),Tt.jMaskGlobals&&g.find(Tt.jMaskGlobals.maskElements).each(function(){var t=Tt(this);t.attr("data-mask")&&t.mask(t.attr("data-mask"))})},f)}}})(10)}}),At(),Tt(".tm-cart-link").tmpoplink(),A.on("updated_checkout",function(){Tt(".tm-cart-link").tmpoplink()}),Dt.trigger("tmlazy"),Dt.trigger("tm_epo_loaded")}),Tt(function(){var t=navigator.userAgent||navigator.vendor||I.opera;(t=-1<t.indexOf("FBAN")||-1<t.indexOf("FBAV")||-1<t.indexOf("Instagram"))&&Tt(".tmcp-upload").removeAttr("accept"),E.on("click",".quantity .jckqv-qty-spinner, .quantity .ui-spinner-button",function(){Tt(this).closest(".quantity").find(jt.qtySelector).trigger("change")}),Tt("#wholesale_form").on("submit",function(){var t=Tt("form.cart").find(jt.addToCartSelector).val(),e=Tt(jt.epoSelector+".tm-cart-main[data-product-id='"+t+"']").tcClone(),t=Tt(".tm-totals-form-main[data-product-id='"+t+"']").tcClone(),a=Tt("<div class='tm-hidden tm-formepo'></div>");return a.append(e),a.append(t),Tt(this).append(a),!0}),E.on("click","#add_to_quote",function(t){var e,a;zt&&"yes"===zt.tm_epo_global_enable_validation&&(e=Tt(this).parents("form"),a=parseInt(e.find(".tm-epo-counter").val(),10),a=Tt(jt.epoSelector+"[data-epo-id='"+a+"']"),"yes"===zt.tm_epo_global_enable_validation&&Tt.tc_validator&&0<e.length&&0<a.length&&!e.tc_validate().form()&&t.stopImmediatePropagation())}),Tt(".single_add_to_cart_button.paypal_checkout_button").on("click",function(t){var e=Tt(".cart");e.data("tc_validator")&&e.data("tc_validator").errorList&&t.stopImmediatePropagation()}),Tt(".wc-product-table").on("init.wcpt",function(t,e){e.$table.find(jt.epoSelector).addClass("hidden"),e.$table.find("thead tr").append("<th>&nbsp;</th>"),setTimeout(function(){e.$table.find(".cart:not(.cart_group)").each(function(){var t=Tt(this).find(jt.epoSelector),e=t.closest("tr");Tt("<td class='wc-product-table-epo'></td>").appendTo(e).append(t),Tt(I).trigger("tc_manual_init",t),t.removeClass("hidden")})},500)})}))}(window,document,window.jQuery);